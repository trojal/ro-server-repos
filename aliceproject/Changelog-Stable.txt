Date	Added

AS OF SVN REV. 5091, WE ARE NOW USING TRUNK.  ALL UNTESTED BUGFIXES/FEATURES
GO INTO TRUNK. IF YOU HAVE A WORKING AND TESTED BUGFIX PUT IT INTO STABLE AS
WELL AS TRUNK.  EVERYTHING ELSE GOES INTO TRUNK

2008/11/11
	* Updated script_commands.txt [FlavioJS]
	* Made scripts terminate with an error: (fixes bugreport:2429)
	- when getitem/getitem2 tries to delete more items than the player has
	- when trying to set Zeny to a negative number.
2008/11/06
	* Fixed 'Char creation denied' message not being sent properly. [FlavioJS]
	- Number 2 didn't exist in old clients so it used the default message,
	  now it exists so the wrong message is displayed.
	- Changed 2 to 0xFF to get the default message.
2008/10/07
	* Merged auth system patches (r13256 and r13257)
2008/08/27
	* Merged the invisible-wall system (r13097, r13100, r13101)
	- replacement for previous barricade code
	- prevents client desynch on dynamically modified cells
	- to be used in woe:se scripts
2008/08/26
	* Merged fixes from trunk [ultramage]
	- player shop no longer closes on death (r13036)
	- implemented SC_WALKSPEED for the poring track script
	- added configs for quest table name adjustment (r13041)
	- fixed a bug in the TXT server online tracking code (r13042)
	- fixed a typo in one SQL server query (r13046)
	- killed mobs with NPC_REBIRTH should not drop items again (r13047)
	- Monsters with SC_KAIZEL should not trigger OnDeath script event
	- now Novices without lvl5 basic skill can be partied (r13056)
	- fixed @noks leaking internal buffer contents (r13057)
	- stacking/overlap changes to Firewall/Warp Portal/Ninja skills (r13064)
	- fixed right-click npc unload not unloading duplicates (r13070)
	- skill TK_JUMPKICK now only does damage if it doesn't fail (r13087)
	- merged leftover fixes from the TXT storage update (r13093)
	- official Meteor Storm behavior - no longer bypasses walls (r13096)
	- Flying Side Kick no longer debuffs Rogue soullink (r13098)
	- Flying Side Kick now also removes Kaizel/Kaahi/Kaupe/Kaite
	- Warp Portal can no longer be cast under dead players (r13104)
	- fixed a crash on pet data initialization (r13134)
2008/08/25
	* Fixed homun sp regen bug introduced on r12953 bugreport:2071 [Brain]
2008/08/20
	* Merged the fix to txt storage saving (r13093)
2008/08/01
	* Merged trunk into stable, using r12999 as base [ultramage]
	- see commit message of revision r13032 for some details.
2008/07/10
	* Merged: SVN Revision 12930 from Trunk [akrus]
	- Fixed: users can't click floating npcs directly (quick fix for bugreport:1814)
2008/06/30
	* Updated: merged mapflags from Trunk [akrus]
	* Improved: replaced athena-start with updated version from Trunk [akrus]
2008/06/24
	* Merged: SVN Revisions 12626, 12658, 12670 and some others from Trunk [akrus]
	- Improved: changesex cleanup
	- Improved: char-server set online/offline/char select functions cleanup
	- Improved: different cleanups in char-server
2008/06/23
	* Fixed: replaced TYPEs with ENGINEs in SQL files (for better compatibility, TYPE is a synonym) [akrus]
2008/06/20
	* Added: 'auction' table into main.sql file [akrus]
	* Merged: SVN Revision 12863 from Trunk [akrus]
	- Fixed: segfaults caused by messy Homunculus code, this cleanup by [ultramage] is replacing my temporary fix for Homunculus, 'arigatou!'... or kinda ;)

2008/06/19
	* Merged: SVN Revision 12860 from Trunk [akrus]
	- Fixed: Sense skill is now working on Emperium
	* Fixed: pet & homunculus loading causing segmentation faults [akrus]
	- please note the fix is temporary, check if pets & homunculus are working right or check if the code is okay to leave
2008/06/14
	* Merged a missing change to the adoption system (see r12621).
	* Merged Auction system for SQL. Added upgrade_svn12826.sql script.
	* Merged Cash Shop system (r12264, r12266, r12300, r12304) [ultramage]
2008/06/09
	* Fixed reject sword having a infinite duration, bugreport:695 [Brainstorm]
2008/05/09
	* Merged the Acid Demonstration crash fix (r12454)
2008/03/21
	* Fixed newly invited party members not displaying correctly (r12394)
	* Added missing party leader check when changing party settings (r12337)
	* Added missing chatroom owner check when parsing kick requests (r12310)
	* Merged the updates to minimize the packets sent when warping
	  (from revisions r12349, r12351, r12362, r12389, r12391)
	* Merged fixes to land skill code (r12311 and r12331)
	- added flag UF_PATHCHECK from jAthena, for wall-ignoring land skills
	- allowed casting of ground-targeted skills over 'gaps'
	* Merged script function 'query_logsql' (r11892)
	* Merged support for the 'view player equip' feature (r12245)
2008/03/11
	* Merged r12293, r12299, r12300 and r12310
	- Updated firepillar so it cannot be placed on top of others
	- Updated the firepillar code so it behaves like the other traps
	- Changed the default format for @me and @main to avoid client crashes
	- Additional status changes now only trigger if the attack did damage
	  (prevents getting bash-stunned through kyrie/safetywall, for example)
	- Fixed no-equip restrictions not applying to cards properly
	- Fixed the session_data de-association in chrif_auth_delete
	- Added Firepillar's 'target cannot move for 0.2 sec x hit' property
	- Corrected Earthquake so it behaves as explained in the dev topics
	- Added code to unequip restricted compounded cards when changing maps
	- Modified mapflag loading code to handle whitespace problems better
	* Merged various fixes from trunk that accumulated over time:
	- corrected uninitialized login_fd/char_fd in the char servers (r12214)
	- limited base_atk calculations to avoid overflows
	- fixed an exploit with delayed consumption items (r12214, r12216)
	- added +1 MDEF bonus from LK's Concentration (r12216)
	- added status_calc_life() to do safe hp/maxhp % calculation (r12225)
	- fixed logarithmic drops turning 0% drop rates into 100% (r12225)
	- correct Bard/Dancer spirit walk-speed bonus (r12225)
	- removed the problematic max. send buffer size limit (r12232)
	- increased the max amount of autocast skills from 5 to 10 (r12232)
	- fixed Apple of Idun not checking for bard soul link (r12248)
	- fixed Advanced Adrenaline Rush not working barehanded (r12248)
	- patched an unresolved case regarding bard/dancer knockback (r12249)
	- fixed @reloadmobdb producing memory leaks in pet db (r12250)
	- graceful socket shutdown when exiting (r12251)
	- fixed 'cleararray' not able to erase array entry 127 (r12253)
	- added check to chrif_authok() to detect data size mismatches (r12277)
	* Merged improvements to the auth system
	- made autotraders be kicked instead of reporting double login (r12218)
	- players in auth/logout process are now stored separately (r12223)
	- removed lots of now unneccessary management variables and code
	- corrected display problems with party invite/leave (r12328, r12332)
2008/03/06
	* Fixed a crash when a homun kills a mvp and the char that did
	  the most damage is unable to carry the mvp reward (bugreport:1114)
	* Merged adjustments to the cell system (r12247, r12260, r12293)
	- Icewall now uses basic cell type 5 (nonwalkable, shootable)
	- as a consequence, it is now possible to warp to a nonwalkable cell
2008/03/05
	* Merged the improved memory manager system (r12198, r12200, r12218)
	- added timestamps to memory leak logging (r11760)
	* Merged the enhanced 'input' script command (r12192) [ultramage]
	- two new optional arguments 'min' and 'max'
	- return value indicating if it's in the correct range
	- added config settings to allow adjusting min/max allowed value
2008/02/22
	* Fixed @whomap not unlocking the player db (see r12231) [ultramage]
2008/02/19
	* Fixed db_obj_get not handling deleted nodes correctly. (bugreport:999) [FlavioJS]
2008/02/16
	* Fixes to Devotion (see topic:153345)
	- corrected a problem where a link could get 'stuck' on a character
	- the link will now re-display when coming into view range
	- the link will no longer break if the devotee walks away, but instead,
	  if he receives damage while being out of Devotion's range
	* Merged the map data iterator and related changes
	- r12170, r12195, r12196, r12204, r12206
	* Merged fixes from trunk [ultramage]
	- all temporary string variables now have unlimited length (r11984)
	- Plagiarism blocking not working (r12172)
	- fixed Freezing Trap, Land Mine and Suiton not working right (r12180)
	- periodic hp loss from items can no longer kill you
	- reloading the mob db no longer messes up @whodrops listings
	- fixed disguise not working for npc names
	- fixed 'charisalpha' not working for the first char (r12186)
	- disabled signed/unsigned warnings for VS2005
	- fixed Warp Portal code sometimes producing errors/crashes in the case
	  where a priest enters his/her own warp (r12189)
	- added missing opt2 values for Angelus and Bleeding status (r12190)
	- Forget Me Not no longer prevents re-casting of ASPD skills (r12193)
	- added checks to prevent some party/guild crashes (r12194)
	- fixed Supernovice bonus not clearing on death properly (r12207)
2008/02/04
	* Some code cleanups. [Zephyrus]
	- Added new Cell types (NoChat and NoDamage)
	- Added JobChangeLevel and FreeSKPoints to #stats
	- Added a Crash protection in clif_send with invalid fd values.
	- Merged a missing update in TK Mission.
	- Added script command 'getmapflag'
	- Merged some new Status Change from trunk.
2008/02/02
	* Merged the 'quit db' mechanism for better handling of connecting
	  and disconnecting players (r11998)
	* Merged various fixes from trunk
	- Plagiarism can no longer copy high mob-only skill levels (r12151)
	- passing of the homun/pet master's ID to script engine (r12150)
	- respawn by logging out no longer refills your sp (r12136)
	- Monocell now wipes statuses that do not affect bosses (r12098)
	- Monocell now uses bloody branch db for monster morphing (r12098)
	- Safetywall can no longer block magic attacks (r12062)
	- TK_JUMPKICK bonus when running (r12053)
	- new chars start with Knife/Cotton Shirt unequipped (r11696)
	- one wrong return value of 'getcharid' (r11638)
2008/02/01
	* Merged cleanups (r12130, r12141, r12147, r12150)
	* Merged some leftover/stray changes (r11494, r11534, r11606, r11728)
	* Merged gm command and manner system fixes (r12076, r12079)
	* Merged login server cleaning/fixing (r12043, r12049, r12055)
	* Merged the script config setting removal from r11859 (topic:173980)
	* Merged trunk's map cell system (see topic:175424)
	- related changesets: r12003, r12005, r12009, r12015, r12025, r12076
	* Fixed sql charserver crashing sometimes (bugreport:870) [ultramage]
2008/01/30
	* Merged trunk's mapcache system [ultramage]
	- mapserver no longer contains an integrated mapcache builder, this
	  functionality has been moved to a specialized 'mapcache' tool
	- the map cache now has a different format, old files are incompatible
	- imported mapcache file from trunk
	- added new map name/index entries from trunk
	- updated makefiles and project files
2008/01/29
	* Merged socket.c: setting last_tick on the packet parsing function, and
	  auto-flushing interserver data when it fets filled up. [Skotlex]
2008/01/22
	* Various small fixes and tweaks
	- added support for items with a 0 selling price, and a warning (r11482)
	- fixed high-level gms unable to use @go on 'nogo'-flagged maps (r11691)
	- fixed npc_debug_warps() not recognizing random coordinates (r11752)
	- receiving sockets processing code speedup (r11983)
	- high-precision timer for systems that support _POSIX_TIMERS
	- script_pushstrcopy() macro and some wrong pointer usage fixes (r11901)
	- waterball code cleanup (r12011)
	- fixed Stone Curse not adjusting to max-hp changes (r12098)
	* Merged the update to the npc loader that checks the name lengths of
	  warps, shops and duplicates the same way as it does for npcs (r11508)
	  (this also fixes the current npc loading problem)
	- also merged a fix for item script processing code (r11487)
	- and yet more forgotten npc parsing code fixes (r11512, r11573, r11603)
2008/01/21
	* Simplified OnTouch NPC area calculation (r11750)
	* Added support for walking OnTouch NPCs (r11713, r11714, r12004)
	* Merged the big GvG system cleanup
	- guardian hp saving removal (implies new savefile version)
	- unused savefile/database columns removal (sql update script included)
	- guild loading/saving/searching code cleaning and documentation
	- usage of ARR_FIND and DBMap iterators
	- r11895, r11896, r11902, r11915, r11916, r11917, r11918, r11968, r12116
	* Merged the removal of code-assisted emperium respawn (r11630, r11913)
	* Fixed battle config loading not applying the side-effects of
	  battle_adjust_conf() side-effect if an import: operation fails.
	  This is what caused the odd slowdown reported in bugreport:260.
2008/01/20
	* Fixed card removal script functions' 'extra card' bug (r12075)
	* Removed the hardcoded limit for numeric npc input boxes (r12074)
	* Fixed script command 'atcommand' not working (r12073)
	* Added support for right-click-gm-menu kicking of NPC objects
	* Extended the id range for npcs to start at 400 instead of 700 (r12025)
	* Merged the 'Delimiter-Separated Values' parser (r11878,r11879,r12059)
	* Merged safety checks for many script commands (r11860 and r11861)
	* Merged flavio's modifications to the script loading code to process
	  entire npc files instead of reading them line by line, as well as to
	  enhance diagnostic console output (r11502 and r11719)
	* Merged range-check that makes skills fail when attempted on someone out
	  of your viewing range. [Skotlex]
	* Script command 'percentheal' can no longer kill you if the percentual
	  value is not exactly -100 (prevents death in some situations) (r12051)
	* Creator's mushrooms can no longer be cast on occupied cells, and
	  will expire after 5 minutes (r12051, r12052, r12077)
2008/01/19
	* Merged session flag 'server' to mark interserver connections (r11930)
	* Merged flavio's properly abstracted socket layer, now windows servers
	  do not need ridiculously high FD_SETSIZE for high user counts (r11897)
2008/01/17
	* Icewalls can no longer be knocked back (see bugreport:38)
2008/01/15
	* Skill code corrections:
	- Fixed 'getmonsterinfo' not following its documentation (r12051)
	- Fixed Abracadabra not casting non-targeted skills (r12044, r12054)
	- Modified SC_ARMOR_ELEMENT to stack correctly with others (r12041)
	- Changed duration of summoned Sphere Mine mobs to 30 seconds (r12036)
	- Fixed script command 'warpportal' not working
	- Dispell no longer removes Hindsight, NPC_POWERUP, Nen, TK stances,
	  Tumbling, Warmth and sppedup1
	- Chase-walking characters can now loot
	- Hiding characters can't drop items anymore
	- Fixed Wand of Hermod not starting SC_HERMOD (to block spells) (r12033)
	- Fixed a missing break; in cast cancel code
	- Fixed potion effect boosting items not affecting Potion Pitcher (r12031)
	* Some mass code cleaning merges from trunk
	- total replacment of printf by ShowMessage (r12020)
	- removal of the wasteful block_list entry counters (r12001)
	- cleaning of map_addblock/delblock (r11737, r11964, r12002)
	- simplification of macros that use unit_stop_attack (r11957)
	- minor npc event code simplification (part of r11895)
	* Merged the path code cleaning / removal from trunk [ultramage]
	- related changesets: r11958, r11959, r11981, r11991, r12010
2008/01/14
	* Fixed dangling pointer crashes when bleeding or Deadly poison kills a
	  spawn-once monster.
	* Fixed a possible ERS entry corruption when Deadly Poison kills a target
	  that has kaziel active.
	* Merged the elemental potions giving you elemental resist/weakness as if
	  it were card-granted.
	* Merged fix where homunculus def/mdef is not correctly recalculated when a
	  status that affects def/mdef triggers and they are under a status that
	  affects int/vit.
2008/01/13
	* Fixed a possible ers_entry corruption if you die from bleeding while
	  under the effects of kaizel. [Skotlex]
2008/01/12
	* Another possible fix to ers/status_change crashing. [FlavioJS]
	- same logic as r12058 but in status_change_timer.
	- look out for this error: "[Error]: status_change_timer: Unexpected NULL status change id: ### data: ###"
	  getting it means that a crash was avoided and the culprit found.
	* Merged the fix for freezing mob AI, bugged since r11965 (see r11986) [ultramage]
	* Possible fix to ers/status_change crashing. [FlavioJS]
	- this patch is untested. Didn't find anyone willing to test it and I can't 
	  reproduce the crash so can't test the patch.
	  symptom:
	   status_change_entry.timer is being modified after the entry is freed.
	   ers uses that memory location as a pointer when the entry is freed, 
	   it crashes when accessing the contents when it points to an invalid location.
	  assumption:
	   status_change_start starts an already existing status.
	   as a consequence of something called inside status_change_start the status is ended.
	   when the sce is finally being modified, it's modifying a freed entry.
2008/01/10
	* Merged trunk's configure script. (r11985) [FlavioJS]
	* Merged fixes to skill db and abra db (r11949, r11960, r11970, r11974)
	- Fixed Abracadabra unable to cast non-targeted skills (r12044)
	* Merged mobid_db for faster mob ai processing (r11943, r11957)
	* Merges of various bugfixes from trunk
	- main chat logging for 'whisper to Main npc' method (r12030)
	- mob area-spawning code fix (r12022)
	- mobdb initialization crashfix (12013)
	- fake npc adjustment for new clients (r12008 and r12012)
	- Music Lessons bonus correction (r12006)
	- clif_produceeffect() revert (11988)
	- droprate overflow with high server rates fix (r11966)
	- splash attack visualisation fix (r11961)
2008/01/09
	* Corrected wrong water height equation (r11982)
	- mapcache's "water height" entries are now marked as 'unused'
	- to fully apply the change, you need to rebuild the mapcache
	* Fixed a very old login/char authentication exploit (r12034)
	* Fixed a memleak when using string variables (r11997)
	* The memory manager can now destroy deleted data (r11994 and followups)
2008/01/07
	* Corrected clones not copying over a player's skills properly.
	* Corrected Overthrust recasting not extending the timer.
	* Corrected the nullpointer crash in status_change_timer so it prints an
	  error.
2008/01/04
	* Fixed Music Lesson's effect on Assassin Cross of Sunset.
	* Fixed a possible crash in status_change_timer when debug mode is
	  disabled. [Skotlex]
2007/12/31
	* Fixed a crash in txt char-servers that the memory manager was hiding.
	  online_char_db being used after being destroyed (since r4026)
2007/12/28
	* Fixed a memory leak in memitemdata_to_sql. [FlavioJS]
2007/12/26
	* Fixed string variables dereferencing directly to the value directly of 
	  dereferencing to a copy of the value. (fixes bugreport:684 bugreport:641) [FlavioJS]
2007/12/23
	* Fixed horrible handling of skill_abra_db which leads to memory corruption
	  (depending on the contents of yor abra_db.txt file) [Skotlex]
	* Merged new configure script, makefiles, conf-tmpl renamed to conf and 
	  import renamed to import-tmpl (see topic:174369). [FlavioJS]
2007/12/22
	* Merged using an ers system for individual status changes (saves a lot of
	  memory). NOTE: this is a pretty large merge, so be sure to test before
	  updating, and report any problems that may have arisen.
	* Duels are now cancelled when a person warps to another map.
	* Being in a duel no longer blocks stepping into warps
	* Merged correct implementation of the mob spawn delays. [Skotlex]
2007/12/19
	* Fixed yet another buffer overflow, in @adopt [ultramage]
	* Updated respawn time interpretation according to latest kRO update [Playtester]
	- this first time is the "min respawn time"
	- the second time is the "variance" which is added to the "min respawn time"
	- note: I couldn't test this since stable can't be compiled right now, however it
	  works on trunk so I'm positive it works here too
2007/12/18
	* Fixed a possible buffer overflow in @partyoption [ultramage]
	* Merged star gladiator skill cleanup (usage of sg_info structure)
	* Blessing skills now affect the exp given by the mob (benefits whole
	  party) [Skotlex]
	* Merged skill db corrections (and related code)
	- SG warmth skills now only trigger 10x per second (not 50x) (r11748)
	- GD_GUARDIANRESEARCH -> GD_GUARDRESEARCH (r11781)
	- correct homunculus skill delays (r11766, r11772, r11856)
	* Implemented new skill "Enlarge Weight Limit R" (from r11476)
	* Merged several gameplay fixes from trunk
	- can't use giant fly wings in duel (r11804)
	- don't unload the fake npc when reloading scripts (r11816)
	- Signum Crucis now works on bosses (r11867)
	- homunculus skill corrections (r11870, r11875)
	- do not start status changes on players that are logging out (r11891)
	- bad xmas suit option; wand of hermode dispells only allies (r11910)
	* Merged the cleaning & documentation of party code (r11761)
	* Merged the improved tick function for freebsd 5.1+ (r11912)
2007/12/17
	* Merged some generic code improvements (r11704, r11706, r11844)
	* Merged flavio's DBMap iterator extension (r11701)
	* Merged the improved/cleaned skill db file loading function (r11659)
	* Merged the addition of the 'name' and 'desc' skill db column (r11657)
	* Merged the corrections to @changesex (r11867)
	* Merged the cleanup of left-hand attack data structure (r11858)
	* Merged login/char server cleaning (r11826,r11833,r11834,r11848)
	* Merged fixes to timer.c (r11867 partially, and r11912)
	* Merged removal of the redundant battle_config.error_log (r11751)
2007/12/16
	* Merged r11703 - improved login-char keepalive and online count mechanism
	* Merged r11698 - db.c and related code restructuring [ultramage]
2007/12/10
	* Merged most of clif.c:
	- Support for PACKETVER 9 (packet_db would have to be merged, too, but I do
	  not know if thart would break older packet versions)
	- Cleanup of idle/movement packets
	- Cleanup of the disguise packets
	- New trade window
	- Crashfix when disguised chars die in pvp
	- Fixed vanishing characters when warping (if CIRCULAR_AREA is defined)
	* Added missing range/skill-mask info to reflected damage (fixes autospells
	  not triggering on it)
	* ASC_BREAKER no longer triggers auto-effects.
	* Reflected spells no longer cause knockback
	* Items are only checked on cast-end now.
	* MDEF no longer affects the success rate of dispell
2007/12/07
	* Merged the dynamic npc_shop usage (avoid messy pointer management).
	* Merged necessary checks to allow negative defense.
	* Earthquake halves target armor mdef.
	* Merged SL_SUPERNOVICE die_counter clearing.
	* Fixed doubled 'skill fail' messages in castend pos messages.
	* Merged block to prevent map set cells from modifying walls/pits in a
	  map.
	* Merged fix to make negative max Hp/sp bonuses work.
	* Merged some disguise code cleanups.
	* Merged max acquirable EXP be the same as the exp required to reach the
	  last level.
	* Main chats no longer are sent to players in a chat.
	* Corrected pc_parse_DropItem to always reply (prevent client locking up
	  waiting for a reply). [Skotlex]
2007/12/06
	* Merged fix buildin_query_sql using Sql_Query instead of Sql_QueryStr. (r11809)
	* Merged fakenpcname renamed to setnpcdisplay, fixed and extended. (r11779)
	* Merged fix buildin_unequip removing items in the wrong position. (r11534)
	* Merged script function buildin_strnpcinfo. (r11650)
	* Merged error reporting to buildin_warp when it fails. (r11727)
	* Merged Rayce's improvementes to the script parser (r11715).
	* Merged fix Sql_SetEncoding not setting the encoding of the connection 
	  properly. (r11774,r11775)
	* Merged safesnprintf and strline in strlib.c/h. (r11828,r11502)
	* Merged definition of __func__ moved to cbasetypes.h. (r11760)
	* Merged nullpo's disabled on release builds. (r11760) [FlavioJS]
2007/11/27
	* Added a check in script command sc_end to properly end infinite endure
	  [Skotlex]
2007/11/22
	* Moved the reset of references to after the empty script checks in 
	  parse_script. (fixes bugreport:222 and bugreport:449) [FlavioJS]
2007/11/21
	* Added missing entries to skill_names array, will likely fix the guild
	  skill window crash. [Skotlex]
2007/11/20
	* Extended debug message for unknown reference types in the script engine. [FlavioJS]
2007/11/17
	* Some merges from trunk: [Skotlex]
	- cleanup/packet-fixing for splash skills
	- AL_DP protecting only against undead mobs.
	- the correct triggering of splash traps
	- ammo/state checks being done both on castbegin and cast end now.
	- Sage create convertors having a 100% success chance
	- Violent Gale adding a fixed flee bonus rather than %
	- Forget ME Not no longer cancelling cart boost.
	- Longing for Freedom in ensembles having normal walking speed.
	- job change removing plagiarized skill, and wiping out SC's from skills you currently have active.
2007/11/06
	* Merged r11404 and r11406 - official Warp Portal behavior
	* Merged r11171 - quest_exp_rate setting to adjust npc-gained exp
	* Merged r11400 - packet 0x1ac to be sent when ankle-snare triggers
2007/11/05
	* Merged r11397 - 'into the abyss' doesn't work on traps anymore
	* Merged some cleanups (r11571,r11586,r11589,r11625,r11647)
	* Merged r11637 - removal of the unneeded BUILDIN_DEF block in script.c
	* Merged the long overdue series of (at)command cleanups and fixes
	- removal of a load of redundant code and useless commands
	- migration of char_ atcommand functions to charcommand.c
	- various fixes, tweaks, enhancements and additions by HiddenDragon
	- see topic:169759 for extended information
	* Merged r11514,r11515,r11520,r11525 - /W4 cleanup
	* Merged r11578 and r11594 - proper firewall knockback calculation
	* Merged r11312 - loot code using charid's instead of account id's
	* Merged r11290 - charid2sd database for fast charid searches
	* Merged r11279 - dangling pointer crashfix for delayed item drops
2007/11/03
	* Removed the temp. command compatibility code as it breaks commands
	  sent from langtype 10 / multilanguage clients [ultramage]
2007/10/29
	* Merged r11503 and followup fixes to the socket code
	* Merged r11507 - better message packet checking (clif_process_message)
	* Merged r11290 and r11499 - timers are now more precise (no caching)
2007/10/23
	* Added SCs: SC_INCASPDRATE, SC_INCFLEE2, SC_INCCRI, SC_INCDEF,
	  SC_INCBASEATK, SC_FASTCAST required for newer items.
	* Merged the script commands bonusautoscript and bonusautoscript2 (see
	  script_commands.txt for usage).
	* Merged monster_ai&0x40: Make mobs chase players through warps.
	* Merged cleanup which should fix infinite endure ending sometimes.
	* Merged the CELL_NOVENDING code (allows to specify areas where vending is
	  forbidden) [Skotlex]
2007/10/23
	* Merged parts of the skill unit code [Playtester]
	- renamed SKILLUNITTIMER_INVERVAL to SKILLUNITTIMER_INTERVAL
	- Ice Wall now doesn't break anymore when you change unit timer interval
	- Fire Wall, Fire Formation and Heat now can hit every 20ms
	- Fire Wall and Fire Formation now use the same code and both have knockback
	- how often Fire Wall and Fire Formation can hit is determined by the
          firewall_hits_on_undead config setting (default: 5 hits per interval)
	- how often Heat can hit is determined by the interval value in the
	  skill_unit_db (default: every 20ms)
	- Heat now does 15 sp damage per hit when used against players
2007/10/20
	* Merged the charserver data corruption fix from r11530 trunk
	- update your charserver as soon as possible! [ultramage]
2007/10/16
	* Code merges from stable [Playtester]
	- updated behavior of NPC_POWERUP and NPC_AGIUP to official
	- NPC_POWERUP: 3x ATK and 2x HIT for duration
	- NPC_AGIUP: 2x MOVE and 2x FLEE for duration
	- now aftercast delay can never go below amotion
	- NPC_CRITICALWOUND will reduce healing by 20*level
	* Fixed a typo in skip_space that stopped skipping characters when it 
	  encountered a '*' or '/' in a block comment. [FlavioJS]
2007/10/14
	* Merged the vending code cleanup (r11344 and r11355)
	* Merged the charserver crashfix (r11466)
	* Merged the major cleanup of skill unit code
	- r11347, r11354, r11361, r11399
	- Icewall now works on occupied squares instead of expiring
	- fixed nonwalkable icewall cells sometimes not reverting client-side
	- land skill effects will now correctly end when you step out of them
2007/10/13
	* Merged r11354 - more official 'Ice Wall' skill behavior
	* Merged r11256 - official 'Charge Attack' skill behavior (+fixes)
	* Removed redundant script commands / npc code (merge of r11374)
	+ enablearena/disablearena (= enable/disablewaitingroomevent)
	+ inittimer/stoptimer (= initnpctimer/stopnpctimer)
	+ cmdothernpc (= specialized donpcevent) was left in for some reason.
	- by removing unused data, 230 bytes of memory saved per npc (3MB total)
	* Bugfixes from trunk
	- r11291 - prevent wizards from doing multiple Gravitation Fields
	- r11299 - fixed bAddEff2 using the enemy instead of yourself as target
	- r11362 - fixed 'Wink of Charm' - shouldn't work on boss mobs
	- r11369 - REALLY fixed emblem not displaying when a char logs in
	- r11425 - fixed 'Poem of Bragi' not using the correct equation
	* Merges from trunk
	- r11271 - safestrnlen(), improvements to clif_parse_globalmessage()
	- r11386, r11387 - various max. text width corrections
	- r11289 - Added back log_chat's "1 - log everything" setting
	- r11287 - MAX_MOB_DB reduction to 3000, MOB_CLONE_ ID range adaptation
	- r11331 - renamed&moved clif_trading() and clif_cant_act() to pc.c
	- r11410, r11434 - cleanup / char name length restriction removal
	* Merged the mapserver part of r11245 - Sql wrapper update [ultramage]
	- startup code, logging code, mail code, mapreg code, itemdb/mobdb code
	- merged a lot of (internal) updates that followed the sql change
2007/10/12
	* Merged signal handling to save characters when a crash occurs. [Skotlex]
2007/10/11
	* Merged some remaining changes (/common, converters); also corrected
	  compilation problems caused by changes to cap_value macro location
	* Char server merges from trunk
	- r11245 - usage of Sql wrapper functions instead of direct mysql calls,
	           as well as a serious improvement of the storage handling code
	- r11251, r11264, r11275, r11311, r11324, r11328 - corrective changes
	* Login server merges from trunk
	- r11245 - usage of Sql wrapper functions instead of direct mysql calls
	- r11248 - Login_Config data structure for TXT server (partially done)
	- r11249, r11250, r11251 - cleanups and fixing of the login srv changes
	- r11253. r11305, r11353 - some more fixes (final batch)
	* Updated VS project files to use the new sql.c [ultramage]
	* Merged other minor changes.
	* Merged safestrnlen that doesn't crash on null pointers. (r11271)
	* Merged the maximum number of packets parsed per cycle set to 3. (r11253)
	* Quick fix to the makefiles so they compile sql.c.
	* Preparing to merge the new sql code (r11245). [FlavioJS]
	- Copied sql.c/h from trunk
	- Moved StringBuf code from utils.c/h to strlib.c/h.
2007/10/10
	* Fixed vending tax not working at all [Playtester]
2007/10/07
	* Fixed a bug on sql char server not checking the namelength of a new
	  character. Bug ID #184: Char Creation With An Empty Name [Zephyrus]
2007/10/05
	* Merged Skotlex's last updates [Playtester]
	* Modified a bit the hard/lazy ai triggers to match aegis (you can alter
	  these changing the defines near the beginning of mob.c):
	- Mobs go into active AI when they are 2 cells from entering a player's
	  view (ACTIVE_AI_RANGE)
	- Mobs in passive AI no longer use skills.
	- Mobs in passive AI do not random walk UNLESS they have entered active AI
	  before (random walk frequency is not lost during passive AI).
	* Added an additional check to prevent support skills from being blocked if
	  the target has an armor element that blocks it.
2007/10/04
	* Merged the Summer Clothes code [Zephyrus]
	- Merged SC_ITEMBOOST, SC_EXPBOOST and SC_LIFEINSURANCE from Trunk.
	- Updated the item_db.txt file.
2007/10/03
	* Bosses now can use teleport on Land Protector [Playtester]
	* Fixed a Warning in map.c [Zephyrus]
	* Moved the homunculus shuffle code to mercenary.c, fixing the bug in the
	  atcommand not using the bonus evolution stats for homunculus.
2007/09/24
	* Updated the 'skills that cause no damage are blocked now if the skill
	  element is blocked by the target' to only apply if the skill has a status
	  change associated (fixes Resurrection/Heal being blocked).
	* Ignore Mdef% bonuses now only reduce base MDEF, not MDEF2
2007/09/19
	* Some skill merges from trunk: [Skotlex]
	* Gravitation is now a Misc attack.
	* Separated magic reflection from physical reflection code. Magic
	  reflection now behaves like how Kaite behaved previously.
	* Most splash skills will now hit ice-walls when casted by mobs.
	* Corrected Miracle of the Sun, Moon & Stars to trigger on hit, not when
	  walking.
	* GTB card now makes targetted spells display a single bolt skill animation
	  with 'miss'.
	* Now support (no damage) skills will take no effect if they have an
	  element and the target absorbs this element (this is how things like Turn
	  Undead, Dark Blessing should be blocked).
	* Sense now gives a 'skill failed' message when tried on players.
	* You can now use potions while under Gospel.
	* Corrected vit not affecting the Super Novice max Hp bonus they receive at
	  level 99.
2007/09/14
	* Merged r11103 - fixed a typo that caused compilation errors >_>
	* Merged r11185 - proper status icon value for Mental Strength
	* Merged r11146 - not-blocking guild skills when leader logs in first
	* Merged r11075 - homunculus crash prevention (one rare case)
	* Merged r11017 - major battle config (code + confs) cleanup
	* Merged r11175 - small skill unit code cleaning
	* Merged r11100 - fixes to chatroom code, non-clickable room support
2007/09/12
	* Fixed a typo in r11180 causing party invitation to fail [ultramage]
2007/09/11
	* Corrected /invite letting you invite people even if you are not the party
	  leader.
	* Added some reply messages when you try /invite and a. the character is
	  not found or b. you are not the party leader.
2007/09/10
	* Merged usage of maxcount to specify the path range for path-based
	  skills.
	* Removed unused bonuses bAddDamageByClass, bAddEffWhenHitShort.
	* Merged item bonuses bIgnoreMDef (per race), bCastRate (for a specific
	  skill), bHPRegenRate, bSPRegenRate.
	* Modified how bGetZenyNum works (so it fits Aegis behaviour).
	* Auto-casted Full Strip has no duration now.
	* Merged the script engine update which checks for duplicate labels.
	* Merged script command gethominfo
	* Merged auto-declining guild/party invites when the target is
	  disconnected.
	* Corrected bonus3 bAutoSpell(WhenHit) to select target enemy (rather than
	  self) for skills with inf self and inf2 'don't target self' (aka:
	  auto-select target skills).
	* Merged map_foreachinpath implementation that lets a path range to be
	  specified. Updated sharp-shooting and Kamaitachi skill_db entries.
2007/09/07
	* Stone Skin and Anti Magic now add absolute values rather than relative
	  ones.
	* Duration of Magic Mirror, Stone Skin and Anti Magic is now greatly
	  reduced for players.
	* Bonus3 autospells will now automatically select "self" as target if the
	  skill is self or support.
	* Added support for the new party invite/reply packets from the latest
	  client version.
	* Changed the default @Main format to prevent crashes in the newer
	  clients.
	* Merged command @whereis (locate default spawn maps for a given mob).
	* Merged support for emotes in @pettalk [Skotlex]
2007/09/02
	* Updated Refined Sakkat Box to give only 1 Sakkat instead of 10. [Paradox924X]
2007/08/30
	* Updated sql files [Playtester]
2007/08/29
	* Cleaned up a bit the homunculus evolution code, and fixed homevolution
	  allowing the homunc to 're-evolve' even though it was already evolved.
	* Merged the bSkillHeal bonus.
	* Cleaned up the homunc evolution code.
2007/08/23
	* Fixed the hotkey list sending to the client not displaying right away.
	* Merged NPC_EVILLAND.
2007/08/22
	* Fixed Dragon Fear's status change selection and duration.
	* Fixed Metamorphosis not displaying a speed-change update on the client.
	  [Skotlex]
	* Added temporary patch to prevent some @/#commands from crashing
	* Latest fixes from trunk [ultramage]
	- r11037 - removed the item_group_list enum since it's not needed
	- r11036 - corrected major mistakes in the pcre module
	- r11033 - corrected @reloadscript crash, fixed party hp bars updating
	- r11026 - added pc_isidle()
	- r11017, r11023 - chatroom code fixes and cleanups
2007/08/20
	* Merged the new npc skills (except for Evil Land)
	* Merged the correct ASPD equation for dual-handling. [Skotlex]
2007/08/19
	* Fixed small mistake in confs causing some confusion [Paradox924X]
	* Merged hotkey saving support, but it is commented out for now (you can
	  enable it in mmo.h) use upgrade_svn11047.sql to create the hotkey table.
	  [Skotlex]
	* Added 'noteleport' mapflags to Dandelion's Request maps. [SinSloth]
2007/08/18
	* Merged the improved mob-branch code to select random mob groups.
	* Merged logging of mob damage also logging attacks that cause no damage
	  (support skills). [Skotlex]
2007/08/16
	* Fixed eAthena's wrong interpretation of the respawn times [Playtester]
2007/08/15
	* Merged the skill-based hp/sp regen equation fix (r10991) [ultramage]
2007/08/14
	* Merged the homunculus db update to include evolution stat bonuses.
	* Merged isloggedin script command update to let you specify a char_id to
	  also check for.
	* Merged support for map 'Leader' in the warpparty command (warps party to
	  the leader).
	* Merged usage of the new clif_move packet, which is much smaller than the
	  currently used walk packet.
	* Corrected the gtb sc immunity setting not applying on the very edge (eg:
	  If you are supposed to gain sc immunity at 20%, you would only get it at
	  21%, not 20% previously)
	* Added spiritball and cloth color refresh to @refresh [Skotlex]
2007/08/13
	* Fixed a small error in the script_commands documentation about getpartyleader. [Paradox924X]
2007/08/10
	* Fixed a .gat-related bug in the mapcache making reading always fail
2007/08/09
	* Fixed a pair of messups from r998 and r1558, making both the code
	  and config use an incorrect value for defining the mapcache type
	* Removed strange (nonexistent) 'alias' functionality from map reading
	* Imported the no-.gat approach from trunk
	- the server now runs gat-less, adding it only in interface parts
2007/08/07
	* Merged FlavioJS's updates to the script engine, plus followup fixes
	- r10706, r10773, r10813, r10842, r10843, r10848, r10850, r10868, r10878
	* Fixed a typo in the previous merges causing compilation problems
	* frozen status again modifies def/mdef (reverted change from r10320)
	* Merges from trunk [ultramage]
	- r10955 - somewhat clearer/fixed max-hp and max-sp calculation
	- r10954 - crashfix, while-loop for clif_parse(), new login packet 0x2b0
	- r10953 - fixed one missing header include / warning
	- r10947 - some all-around code reformatting/cleaning
	- r10946 - removed weird mvp reward drop behavior (see topic:160077)
	         - fixed disguises not doing sit-down properly
	- r10937 - menuskill_lv renamed to menuskill_val
	- r10930 - pet lures are now consumed correctly
	- r10923 - temporarily moved refine_posword to the source code
	- r10921 - simplified exp gain equations
	- r10916 - changed the way hit bonus is applied (now is percentual)
	- r10915 - code cleanups and fixes (pm-ignoring code, mob drop code)
	- r10910 - added missing homunculus info packet when doing @refresh
	- r10909 - support for character rename packet (just dummy code for now)
	         - support for langtype-12 char deletion packet
	         - adjusted motd.txt to not crash new clients
	- r10907 - Venom Splasher and Gloria Domini fixes and updates
	- r10901 - changed mapflag that blocks @jump: nowarp(to) -> noteleport
2007/07/30
	* Updated sql files [Playtester]
	* Rev. 10933 Updated itemdb.h with new item groups from trunk. (r10745) [L0ne_W0lf]
2007/07/27
	* Changed the way hit bonus is applied.
	http://www.eathena.ws/board/index.php?showtopic=157438 [Vicious]
2007/07/23
	* Merged the packet db and PACKETVER corrections from r10888
	- the latest packet version is now 22 instead of 21
	- client doesn't get disconnected after casting Weapon Repair anymore
	- new charserver option for char renaming, details are in the conf file
	- changing the PACKETVER to 8 isn't needed anymore
	* Merges of various fixes
	- r10887 - added delay_dependon_agi so now both options are available
	- r10886 - added exp gain limiting for old exp formula to stop exploits
	- r10870 - Alchemist skill AM_CANNIBALIZE now summons proper monsters
	- r10861 - knockback code cleanup (the non-important parts)
	- r10856 - pet equip packet code improvement
	         - fixed @homshuffle destroying the homun's skill tree
	         - homun skills can now be used when master is stunned/stoned/.
	- r10844 - fixing 'soundeffectall' to be safer to use
	- r10845 - homun resurrection now fails only on cast-end
	- r10807 - homun resurrection now works during WoE
	         - now possible to use guild skills immediately after login
	         - usage of other guild skills now restricted to WoE grounds
	         - free-cast sages now can't walk while casting guild skills
	         - Battle Orders and Regeneration are instant-cast
	         - Restoration has a 10 sec cast time, reducible (only) by dex
	         - Urgent Call's cast time cannot be reduced at all anymore
2007/07/22
	* Merges from trunk, more to come... [ultramage]
	- r10886 - display info when someone gets rejected by the version filter
	- r10838 - code cleaning
	- r10835 - partially fixed txt->sql converters, added vs8 project files
2007/06/21
	* Added 'nosave' mapflag to que_bingo for Bingo system purposes. [SinSloth]
2007/06/14
	* Merges from trunk
	- r10747 - NPC_PROVOCATION bugfix, effects list update
	- r10746 - pet equip bugfix, clif.c cleanup
	- r10668 - jail escape exploit fix, added update packet when respawning
	- r10640, r10667 - fame code fix, safestrncpy, op names instead of numbers
	- r10624 - minimap indicator fixes
	- r10633 - various code cleaning
	- r10619 - @statall sets stats to 99, @npctalk doesn't display the # part
	- r10613 - delay_dependon_agi -> dex, cleaned up skill_castnodex_db.txt,
                   removed 2 skills from @skillall, improved gm_skill_unconditional
	- r10581, r10599, r10616, r10658 - reformatting and typo fixes
	- r10580 - added global chat and main chat logging (with sql update files)
	- r10575 - sql database structure fixup (run upgrade_svn10726_*.sql !!!)
	- r10578, r10618 - more code cleanups
2007/05/29
	* Hopefully fixed the vsnprintf incompatibility (caused by r10192)
2007/05/23
	* Fixed a typo in Chase Walk code (caused by r10593)
2007/05/20
	* Merged the fix to allow stat values of 0 (r10589)
	* Removed Chase Walk cast time when deactivating it (r10589)
	* Increased Chase Walk's cast time from 1000ms to 1200ms (r10587)
	* Merged the chatroom check when casting (r10307)
	* Merged the Gospel music packet (r10588)
	* Merged FlavioJS' script engine improvements from trunk [ultramage]
	- added script commands setiteminfo, pcstopfollow
2007/05/19
	* fixed some incorrectly merged lines
	* Merged [ultramage]
	- the newer winsock2.h header update (r10471)
	- the socket shortlist for improved performance (r10506,r10507,r10518)
	- the crashfix for long database server hostnames (r10579)
	- the fix to allow compiling using VS9 (r10574)
	- the fix to countitem2 to make it work for all characters (r10573)
	- the fix to prevent a login server crash with a long email (r10492)
	* Fixed drops of Thanatos Dolor & Thanatos Odium regarding Thanatos Tower Quest. [SinSloth]
2007/05/12
	* Merged some fixes [Playtester]
	- fixed Kyrie Eleison working on mobs
	- fixed ITEM_ENCHANTARMS not being removed in some situations
	- attempt to fix random teleporting of immobile mobs
2007/05/08
	* Updated sql files [Playtester]
2007/05/06
	* Merged back the memory-managed grfio code from trunk [ultramage]
	* Fixed Red Pouch overriding nobranch mapflag [Playtester]
2007/05/04
	* Merged the removal of the MAX_STATUSCHANGE define (r10442)
	* Merged taekwon's High Jump working on woe grounds always (r10355)
	* Merged the AI fix that prevents large mob action delays (r10348)
	* Merged NPC_MAGICALATTACK changing normal attacks to magic (r10346)
	* Merged the safeguards against damage log overflow
	* Merged the possibility to set max. autoloot distance (r10343)
	* Merged food boosts being removed on death instead of logout,
	  and Maximize Power / Max Overthrust / Steel body on logout
	* Merged Steel Body's icon change (it actually belongs to AutoBerserk)
	* Merged the warnings when you use pvp&gvg on the same map (r10317)
	* Merged the fixes to login_txt and ladmin, now it seems to work
	* Merged the updated project files, +ladmin project for vs8
	* Removed afm code (r9971 partially)
	* Merged the zlib cleanup (r10273) [ultramage]
2007/04/27
	* Merged map_index and added missing map [Playtester]
2007/04/26
	* Moonlit petals now always knocks to the back of the character rather than
	  pushing the character away from it's center.
	* Pressure no longer does full damage to plants.
	* Mob casted skills all have range 9 by default unless monster_ai 0x400 is
	  specified.
	* Spider Web can't be dispelled now.
	* Magic Rod no longer shows an animation when used, only when it triggers.
	* Ganbantein now only removes the specific tiles it touches, not the whole
	  ground spell. [Skotlex]
	* Updated sql files [Playtester]
2007/04/24
	* Merged the correct attacker-count (only online characters on the same map
	  should count towards the total number of attackers). [Skotlex]
	* Merged [ultramage]
	- the removal of not-aegis def/mdef changes while frozen (r10298)
	- the adjusted packet db size and dimensions, + database (r10296)
	- the official MAX_LEVEL value, HR servers need to change this (r10071)
	- autoloot range limiting (r10039)
	- the "Simplified Utsusemi/Bunsinjyutsu check to only block
	  weapon skills that do not ignore offensive cards." change (r9960)
	- the corrected hp/sp regen calculations (r9944)
2007/04/23
	* Fixed GMs in invisible mode being hidden from the output of @whogm even
	  to GMs of higher level than them.
	* Merged missing file from item group bonus update: itemdb.h, also fixed
	  the group bonus since this updated code had an incorrect check.
	* Merged support for splash area for  NPC_BLINDATTACK, NPC_SILENCEATTACK,
	  NPC_STUNATTACK, NPC_PETRIFYATTACK, NPC_CURSEATTACK, NPC_SLEEPATTACK, Lex
	  Divina,and Dispell. They automatically become splash effect attacks if the
	  splash ratio for their used level is above 0.
	* Soul Collect is usable now even if you already have 5 spheres. [Skotlex]
	* Mass-merged the IP address/port code cleanup [ultramage]
2007/04/22
	* Corrected crash if itemskill is used without an attached player.
	* Removed range checks for autospells as per UltraMage Aegis tests.
	* Updated the autospell flag check to also account for normal/skill
	  attacks. Merged setting auto-defaults when the bonus5 call does not uses
	  enough arguments to make for a working implementation.
	* Merged cleanup of status_get_sc_def, now rate and duration reductions can
	  be independent of each other. Curse's duration is now reduced by vit.
2007/04/19
	* Merged the official Aegis WoE inviting/rejecting rules.
	* Merged bonus5 Autospell to determine the type of attack that triggers
	  them (check item_bonus.txt for info)
	* Merged update to setitemscript which lets you change the
	  onequip/onunequip scripts as well.
	* Modified skills who's base attack depends on equipment weight to use Atk2
	  when non-players use them.
	* Merged Spirit of Wizard update where a Fragment is consumed only once per
	  cast despite the number of skills reflected that it blocks.
	* Merged bAtkEle bonuses transferring directly to the weapon when your
	  equipped weapon is ranged.
	* Merged fix to prevent venders from walking.
	* Corrected the "Devotion" icon which really belongs to the Baby skill that
	  protects their parents.
	* Corrected being able to do a trade request when the target is in an npc.
	* Merged the quit cleanups to prevent the double char -ghost from happening.
2007/04/14
	* Merged the cleanup to menu-skills so that they don't block skill usage if
	  you select a menu entry and the skill fails due to petrify/stun/etc
	* Merged the handling of idle state to mob_unlocktarget, to prevent mobs
	  from getting stuck on a lock->unlock loop where they are always idle, yet
	  they don't use idle-skills or random walk.
2007/04/11
	* Merged cleanup of @whogm, it can now be used by normal players to see
	  which GMs are online, without telling them which is their position (you
	  only see the position and info of GMs who's level is less or equal to
	  yours). [Skotlex]
2007/04/10
	* Merged the makefile/mingw fix
	* Merged the vs8 project file update, now no more dynamic linking
	* Merged the export of e_mail_check() and config_switch() to strlib.c
	* Merged some harmless formatting changes from trunk [ultramage]
2007/04/09
	* Merged rejecting connections above FD_SETSIZE since they lead to
	  crashes anyway.
	* Merged a missing check in chrif_save which was making Jailed characters
	  be warped out on log-out [Skotlex]
2007/04/08
	* Fixed vending tax bug leaving you with x% instead of taking x% away
	* Renamed and updated the pcre.dll (to pcre3.dll) for consistency
	* Merged in r10170 (PCRE update); update your npcs if you use this!
2007/04/07
	* Reverted the ankle snare change (r10042) until it's fixed [ultramage]
2007/04/05
	* Merged the login servers. Several cleanups and memory leak fixing.
	* bonus bAspd (absolute increase) works again.
	* Corrected song/encores not consuming SP at the correct intervals.
	* Corrected Longing of Freedom, it triples upkeep cost now.
	* Removed bonus bAspdAddRate, since it's the same as bAspdRate.
2007/04/03
	* Merged support for per-skill-lv element in the skill_db.
	* Pets now will always have the "can move" mode bit.
	* Fixed char-server crash on @changegm use.
	* Corrected the attack_attr_none check being backwards.
2007/04/02
	* Merged the new Jail system, where it is always a status change. This way
	  the return point can be stored without having to change the character's
	  spawn position.
	* Merged skill-induced coma reducing SP to 0 as well as HP.
	* Moved setting the mob-skill-delay from after casting the skill to where
	  the skill bar begins. Means that if a mob's casting is interrupted, it
	  will count as 'used', and it's re-use delay is applied anyway.
	* bAspdRate bonuses now stack.
2007/03/29
	* Removed bonus 'bIgnoreDefMob' as it's unneeded
	* Merged magic rod not displaying any 'skill used' animation, and it's
	  dispelled when you move.
	* Added support for 'bSkillAtk' to improve the power of heal, sanctuary and
	  potion/slim pitcher.
	* Coma chance is no longer reduced by mdef.
	* Corrected OPTION_XMAS value for the new clients.
	* Food boosts are now dispellable only on death.
	* Allowed usage of skills while the AutoSpell window is up.
	* negative aspd bonuses are now converted to bAspdAddRate bonuses since
	  they do not work as plain bAspdRate bonuses.
2007/03/27
	* Merged most of the char-server, several cleanups, removal of
	  check_ip_flag setting.
	* Also added the MAX_CHARS define to mmo.h (max number of chars per
	  account). [Skotlex]
2007/03/25
	* Updated the visual studio 7 & 8 project files from trunk [ultramage]
2007/03/22
	* Removed the whole charsave_method code as it's pretty much unneeded.
	* Removed @ waterlevel since eA autoreads the water level of each map.
	* Cleaned up @unjail
	* Made itemskill not require the string name, but it is currently passed as
	  optional value to allow compatibility with older item_db's
	* Merged script command unitattack cleanup
	* Merged script bonus "bNoKnockback"
2007/03/22
	* Merged some script.c cleanups, getpetinfo(5) can now be used to retrive
	  the pet's rename flag. [Skotlex]
2007/03/20
	* Patched the MAX_STATUSCHANGE startup error [ultramage]
	* Prevented @storage/@gstorage from working if you are already
	  vending/trading/etc.
	* Made pvpoff/killable/killer/gvgoff make all related characters stop
	  attacking.
	* Corrected @adjcmdlvl so you can only adjust levels of commands you can
	  use, and not set them to require a level above your own.
	* Corrected attack_attr_none causing elemental resist cards to not
	  trigger.
	* Added strip success animation to Disarm.
	* Made status effect cards trigger based on whether the skill is
	  ranged/melee.
	* Merged movenpc correctly unsetting/resetting the ontouch area.
	* Merged NPC_CHANGEUNDEAD causing SC_CHANGEUNDEAD, and being able to block
	  it if you are Undead or Dark elemental.
	* Corrected being possible to revive with 0Hp.
	* Merged fix that logged mvp item twice when the earner of it was
	  overweight.
2007/03/15
	* Corrected party item share settings not being properly updated on logon.
	* Corrected battle_attr_none setting applying to elemental attacks instead
	  of neutral ones.
2007/03/14
	* Merged most of the cleanups in the socket code: faster parsing, removed
	  frame_len and mode_neg config settings, they are defines in the code now,
	  removed related console code.
	* Skills with nk "damage split" set will now all divide it's damage by the
	  number of targets, instead of being hardcoded which ones do (note this will
	  only work for skills that already do splash damage).
	* Casting Fusion when not linked will now make you lose the SP anyway.
	* Merged fix to make guild flags properly vanish with disablenpc/hidenpc
	  calls.
	* Merged being able to attack/use skills while cloaking even at low
	  cloaking levels.
	* Corrected Chase Walk's speed boost from Spirit of rogue.
	* Corrected party changemap code so party info is sent before partymate
	  info when first logging in.
	* Made party_show_share_picker show the name of the item that is being
	  picked.
	* Players now are allocated withthe default walking speed to prevent
	  homunculus from ever having speed 0.
	* Added logging support to storage/guild-storage transactions.
	* Added upgrade_svn10001.sql to update the log table.
	* Corrected @refresh not updating your job/item stat bonuses display
	* Made mob skill "anytarget" not count in when the mob's target is an item
	  (looting)
2007/03/13
	* Corrected item reloading not unsetting the "delay consume" flag if the
	  item had changed it's type.
	* Merged 'pcblockmove' script command.
	* Merged player not attached crash protection on countitem/countitem2.
	* Merged dangling pointer crash when players with pets/homunc logout before
	  being auth'ed.
2007/03/07
	* Added nk 0x80 to specify skills that ignore target's cards.
	* Merged the NPC elemental skills having +20 hit.
	* Corrected Soul Breaker so only the misc part ignores flee and elemental
	  adjustments.
	* Merged support for flag &2 in the autospell bonus, to allow random skill
	  levels to be casted.
	* Merged an update to when to reset the storm gust freeze counter.
	* Merged support for triggering 'OnTimerQuit' when a player attached
	  npctimer is cancelled because the player logged out.
	* Reverted support for item avail sprites on npc shops (to check if this is
	  the cause of increased cpu usage on larger servers).
	* Merged infinity loop hang on script names when they had a single colon.
	* Merged spawn_data 'skip' variable to remember how many mobs were not
	  removed due to the "remove damaged" setting, and avoid spawning them the
	  next time mobs are spawned on that map.
	* Tatami Gaeshi state ends when you move now.
	* Updated script_commands with the info on OnTimerQuit and item_bonus with
	  the new flag value for autospell/autospellwhenhit. [Skotlex]
2007/03/06
	* Added support for the 2 new packet versions. [Zephiris]
2007/03/05
	* Merged fix to enable guild member expulsion while the character is
	  offline.
2007/03/01
	* Added new NK values to determine skill damage properties such as: ignore
	  flee, ignore defense, ignore attack cards, ignore elemental adjustments.
	* Merged the improvements to the login auth system to prevent dual logins
	  and login in with char-data different from the last save (dupes). This
	  hasn't been in trunk for long, but it seems to work, and is necessary to
	  merge as soon as possible since there is already an exploit out there used
	  to dupe!
	* Merged autoguard/Utsusemi/Bunsinyutsu working only on skills that take
	  into account damage +% cards.
	* Merged the updates to the battle calc damage equations, where the skill's
	  range determines if it is melee/ranged and the NK value determines various
	  damage attributes.
	* Corrected Raid not doing the "can hit" check on splashed targets.
2007/03/01
	* Modified the Palm Strike initial attack packet so it no longer displays
	  'Miss'
	* Corrected the warpwaitingpc scritp definition to allow for the optional
	  argument (number of people to warp).
2007/02/28
	* Merged most of the login and char server cleanups.
	* the mysql ping interval setting is now automatic.
	* Merged menu skill fix to prevent recasting the same skill over and over
	  until a menu entry is selected.
	* Updated behaviour/duration of NPC_AGIUP
2007/02/27
	* Corrected BloodDrain's damage formula.
	* Corrected the misc attacks flee calculation being backwards.
2007/02/26
	* fixed PK damage adjustment settings affecting PvM damage.
	* Corrected the damage of the NPC elemental skills, BloodDrain/EnergyDrain
	* EDP no longer works on Venom Knives
	* Corrected Storm Gust freezing on the fourth hit instead of third.
	* Weapon types, ammo and skill state is no longer checked on cast-end, only
	  on cast-begin.
	* Merged support for reading hex nk values.
	* Merged fix of produce_db2 overriding entries in produce_db.
	* Merged fix to item-acquired skills unlocking skills further down in the
	  skill tree.
	* Merged fix to let autospell cancel scripts work when they are executed
	  before the actual script that grants the skill is parsed.
	* Fixed mob_override_name not working on mob-summoned mobs.
2007/02/23
	* Updater script commands initnpctimer, stopnpctimer and startnpctimer so
	  you can choose to attach the current player to them.
	* updated script_commands.txt with the new information about the
	  init/stop/start npctimer [Skotlex]
2007/02/21
	* Merged some leftover bits of code (from r9850, r9868, r9866, t:s diff)
	- corrected @loadnpc not loading default On- event labels
	- corrected @homstats not displaying the correct values
	- corrected getpartyleader() to not throw allocation errors
	- Emergency Avoid now stacks with other speed boost statuses
	* Fixed the /kill typo that appeared in r9834
	* Merged clif_party_info fixes (r9845 and r9870)
	* Merged r9871 from trunk [ultramage]
	- cleanup of party member information sending (clif_party_member_info)
	- cleanup of castle guardian spawning (prevents spawning them twice)
	- star gladiator's Miracle skill can now retrigger to lenghten it's 
	  effect, and it is cancelled on warp/map-change
2007/02/19
	* Fixed @cartlist info message typo [Lupus]
2007/02/14
	* Player not attached errors will cancel the script execution now.
	* Fixed dangling-pointer crash when using 'return' with a temporary npc
	  variable string.
	* The ammo autoguessing config will now make skills always consume 1 arrow
	  if a skill is deemed to need them, since even skills like Vulcan Arrow
	  require only one arrow per cast.
	* Added script command npcshopattach
	* When reloading scripts, script spawned mobs will be killed as well to
	  prevent dupe problems.
	* Added resending the status changes when you warp (stuff like
	  poison/blind)
	* Merged most of doc/script_commands.txt
2007/02/12
	* Fixed Resurrect Homunculus and Wedding skills failing due to timer
	  mismatches.
	* Fixed Spider Web casting below self instead of target.
	* Fixed Wand of Hermod.
	* Possible crash fix on status_calc_pc, on map_foreachincell
	* Correction to matkrate bonus not working right on top of int skill
	  bonuses.
2007/02/10
	* Merged the updated implementation of Spider Web.
	* Merged the attack timers being stopped on walk requests.
	* Merged the cleaned up rude-attacked ai logic updates.
	* Merged the "drop no loot, give no exp" flags not working with MvP
	  experience/drops.
	* Merged Magic attacks not triggering the "long range attacked" mob
	  condition.
2007/02/09
	* Fixed char server SQL not sending the guild info update to other map
	  servers when a new member is added.
	* Merged most of clif.c: Max line size checks, gm / commands cleanups.
	* item search by name now will return the 'normal name' match when there's
	  no 'aegis name' match.
	* Support for spaces in item names for item search related @/# commands
	  (use quotes, eg: @item "poison spore" 10)
	* Fixed @/# develing commands not always resetting your stats.
	* Corrected the range required for mob attack/skills to be considered
	  ranged (3->5)
	* Merged the super novice flags update which prevents the Steel Body on
	  dead angel from triggering more than once per level.
	* Merged letting the client handle each homunculus individual attack.
2007/02/07
	* Merged reading inf2 as a hexadecimal value.
	* Removed function inter_party_logged, which is no longer necessary and was
	  messing up with party log-on online status. [Skotlex]
2007/02/06
	* Merged the more quiet homun loading code (from r9760)
	* Merged the fix to allow npcs vending availed items (r7883) [ultramage]
	* Fixed char-server not sending party status update when a member logs
	  on/off.
	* Fixed crash when parsing guild member information change from the
	  char-server if the specified character is not found in the guild.
	  [Skotlex]
	* Keeping the trunk:stable diff clean [ultramage]
	- Merged the client crash protection when having >9 chars (r9674)
	- Merged the fix to allow longer log file names (r9716)
	- Merged the removal of graph, httpd and webserver (r9757)
	- Merged the cleaned-up and updated vs6 files (r9764, r9765, r9766, r9785)
	- Merged the fix to allow proper 8-length room passwords (r9772)
	- Merged the removal of the 'firewall detected' message (r9786)
	- Merged the proper limiting of account ids to >=2M for TXT (r9788)
2007/02/05
	* Merged the secured global message parsing function
	  and the 'strnlen' function that it needs to use [ultramage]
	* Merged sending the player's level to the char-server on level up so the
	  party even-share range can be updated.
	* Added mob skill condition 'randomtarget'
	* Merged Wand of Hermod fix (was checking against the center of the warp
	  rather than the whole warp area)
	* Merged the fix to display the skill tree change after @skillall
	* Merged fix to prevent cloned players from being picked at random
	  (TK_MISSION)
2007/02/02
	* Updated the walk delay code so that it parses homunculus as well as
	  players. What this means is that a homunculus walk request won't go ignored
	  if it's issued during the 'can't walk delay' after being hit.
	* Added a possible crash protection in clif_skillfail when the player is
	  without a connection.
	* Added cropping to incoming party/guild/whisper messages to prevent too
	  long messages.
	* Added crash protection to the logging functions when they receive a too
	  long string.
2007/02/01
	* Merged hack protection against players specifying a many index beyond the
	  max.
	* Merged removal of config settings produce_item_name_input,
	  produce_potion_name_input, making_arrow_name_input, holywater_name_input
	  and cdp_name_input. These are all handled now through bitmasks using
	  produce_item_name_input instead.
	* Item skills and menu-based skills are now cleared on death.
	* Merged setting the appropiate pvp packet and the pvp point count to 5
	  when entering gvg dungeons.
2007/01/31
	* Merged the updated renaming code that handles both pets/homunculus,
	  making them respect the allowed letters restrictions.
	* Merged deleting a char deleting it's homunculus as well.
	* Cart Termination's damage no longer can be reflected.
	* Merged Joint Beat's implementation where the stats can stack.
	* Skills with a walk delay will also prevent attacking normally during said
	  delay only when the skill connects.
	* Merged fix for baphomet card consuming 2 cards per attack when used on a
	  bow.
	* Updated arrow_decrement setting to specify if skills should "auto-guess"
	  if they require ammo or not based on currently used weapon.
	* Fixed homunculus's attack speed being halved if inflicted by a status
	  change that adjusts it's speed.
	* Merged the view_data support for homunculus, they are no longer needed in
	  the mob_db.
	* Merged Kaite and Assumptio not being able to stack.
	* Job normalizing will happen to first class as well to prevent them from
	  raising other skills until basic skill is maxed. [Skotlex]
	* Merged r9725, r9744, r9745 (removal of useless read-from-GRF features)
	* Some miscelanneous cleanups from trunk
2007/01/30
	* Merged the atcommand cleanup
	- added conf entries for @whozeny, @kamic, @tonpc, @petid, @identify, @adopt,
	  @trade, @changelook, @send; re-enabled @nuke
	- removed @happyhappyjoyjoy, @shuffle and some aliases (@w, @red, ...)
	- enhanced @send, fixed @param, silenced @reloadscript, improved @marry
	- somewhat improved support of multilanguage clients
	- corrected the default level of various commands (sync with config file)
	- fixed indentation, added descriptions, compact function header formatting
2007/01/27
	* Added a missing homunc.conf entry in the battle config [ultramage]
2007/01/26
	* Merged the simplified night code.
	* Merged the correct 'can walk' check when parsing walk requests. [Skotlex]
2007/01/24
	* Fixed a SI_NIGHT merge typo [ultramage]
	* Fixed the castle defense config setting not working.
	* Merged the Storm Gust counter update where the counter is reset when you
	  stop on a different storm gust then last time.
	* Merged the status icons for NPC_UNDEAD and the Food boosts (food boost
	  icons require a november/december+ client)
2007/01/23
	* Merged homunculus info on the mob_db, which was required for homunculus
	  to have view information. [Skotlex]
	* Merged trunk's VS8 project files, slightly adjusted [ultramage]
	  (required to compile the new homunculus code, due to missing files)
	- Switched all projects to use the common C runtime library DLL
	- Enabled edit&continue on the TXT version (SQL already had it)
	- Enabled full optimization and whole program optimization
	- Set the compiler/linker to produce detailed debug info even for
	  release builds (no performance penalty since it uses a separate file)
	- Someone should contribute updated VS6/VS7 files, eA's are rather old
2007/01/22
	* Merged homunculus and all related files. SQL users use update_svn9691.sql
	  to update homunc related tables, for TXT users the update should be
	  automatic. It is HIGHLY recommended to BACKUP your existing saved
	  information just in case something was goes wrong.
	* Merged Status change icons for food statuses
	* merged mob_ai cleanup that uses unit_run and correctly unlocks targets
	  when they warp around without leaving their chase range.
	* merged slaves being summoned within slave-distance.
	* agit_flag versus checks taking effect only on maps with gvg castle
	  mapflag, enabling localized woes (by handling the gvg_castle mapflags of
	  the castles where you want woe to take effect)
	* Merged socket layer cleanup [Skotlex]
2007/01/21
	* Fixed while statements not "reserving" the curly before parsing the test 
	  expression. [FlavioJS]
2007/01/19
	* Heavy mergings from trunk (be careful as I haven't closely tested these,
	  but since they have been in trunk for a while, it should be safe):
	- Merged most of the updated script engine:
	- Bigger hash size which leads to less collisions and faster script parsing.
	- Defines in script.c that let you pick hash method (Dbj2, Sdbm, Elf, Pjw)
	- Support for opt3 (a?b:c)
	- More strict function argument format compliance
	- case insensitivity for reserved words (for/if/else/etc)
	- Support for negative values in a switch case.
	- Force require a opening parenthesis for functions.
	- More extensive script console printout on script errors.
	- Setfalcon, setpeco, setcart taking an optional parameter to remove them
	  instead.
	- charcommand/atcommand script functions don't need you to prefix "player
	  name: @" on the command to invoke.
	- Script events now by default should start with 'On'
	- Various script command cleanups
	- Exp tables that are now automatically filled up to the max level
	  specified by duplicating the last entry. To prevent players from leveling
	  up to the last level, be sure to include a '0' before the last value (eg:
	  999k,0,999k <- players will get stuck on the 0, unable to progress
	  forward)
2007/01/18
	* Fixed overflow on the mob delay adjustment setting.
	* Fixed characters being unable to trade again if you attempt a trade on
	  someone who is on storage/npc when you accept the trade. [Skotlex]
	* Added a missing line from the Intravision code [ultramage]
2007/01/17
	* Merged Full Buster's blind chance being reducable by stats/items.
	* Merged Ganbantein consuming gems even if you have Wizard Spirit.
	* Merged the correct Intravision implementation.
2007/01/16
	* Fixed the next invoked skill after AbraCadabra not having requirements
	  even when it is a different skill than the one chosen by AbraCadabra.
	* Merged the char-servers so that you can use PACKETVER 8.
2007/01/15
	* The NPC elemental attacks will display a skill animation again.
	* Mob instant cast skills will use their adelay now.
	* Some checks that should prevent double login if the parse connection
	  method failed to catch it.
	* Probably fixed the registration flood protection code being broken. [Skotlex]
	* Reverted the bugly LK_JOINTBEAT implementation until it gets fixed [ultramage]
2007/01/14
	* VS8 project files creating the pdb files with the correct name to the 
	  correct path (the exe path) in debug mode. [FlavioJS]
2007/01/08
	* A piece of code that got lost in the process [ultramage]
2007/01/07
	* Updated the documentation to match the agitcheck() behavior
	* Some more trunk-stable synchronization
	- cleanup of buildin_pvpoff (equivalent to the previous @pvpoff cleanup)
	- cleanup of buildin_agitcheck and the npcs that use it
	  (removes the useless '0' parameter and the @agit_flag variable)
	- crash-fixes/protection to the script engine's functions
	  run_func, buildin_getnpctimer, buildin_getsavepoint, buildin_getrefine
	- unsigned char -> char cleanup
	- a missing charcommand->command conversion
	- minor whitespace inconsistencies
	* A followup to the previous change
	- merges of tidbits I missed or left alone
	- config switch for the guild_aura option (plus small conf-tmpl cleaning)
	- blocking skill usage while a menu is open (like aegis)
	- @pvpoff command cleanup
	- @effect usage string improvement
	- more debug info in npc_scriptcont
	- file header synchronization
2007/01/06
	* Time for some merging [ultramage]
	- improved random mobid retrieval function
	- the configurable 'guild aura' + config setting
	- improved npc parsing, to allow comments after npc headers (use tab)
	- the fix to make atcommands work when using pseudo-unicode langtypes (10, 11)
	- the check that prevents bots attacking when being 90% overweight
	- cleanup of pc_calc_skilltree, it was giving soullink skills incorrectly
	- removal of the party/guild cache (since the DB does caching already)
	- setting the @maploaded$ variable for the OnMapLoad event
	- the fix to make NPC_ attacks display properly
	- the clearing of the freeze counter on death
	- the new Single Action aspd bonus equation
	- the correct Charge Attack damage bonus
	- the stacking Joint Beat behavior (not perfect yet... d'oh)
	- the fix to Gospel (sending the info to the target, not to the paladin)
	- changes to the default settings of friend_auto_add and monster_class_change_full_recover
	- mapindex and @go entries for the new maps
	- the accumulated cleanups of clif.c
	- fixes to the char deletion process
	- cleanup of the utils code
	- some code synchronization here and there
	- this stuff compiles and runs, more to come after I see the resulting trunk:stable diff
2007/01/05
	* Updated VS8 vcproj files to use the new md5calc path [ultramage]
2007/01/02
	* Merged md5calc moved to common.
	* Merged joining of normal and MINICORE's main function and putting 
	  malloc_init() first and malloc_final() last (needed for Show* in 
	  display_title()).
	* Merged server name in core.c skipping '\\' characters. 
	* Merged memory allocation functions using file,line,func from the 
	  invoking functions and other minor changes in malloc.
	* Merged the fix for the unused MAPINDEX_AUTOADD section in mapindex.c 
	  (mapindex.h wasn't being included).
	* Merged addtick_timer invoking settick_timer, cleanups or minor changes.
	* Merged cosmetic changes to db and ers. [FlavioJS]
2006/12/29
	* Skill use is now cancelled when you use it while cloaking, and the
	  uncloaking process warps you. [Skotlex]
2006/12/28
	* Updated sql-files [Playtester]
2006/12/27
	* Fixed a bug which makes the group heal bonus be applied as many times as
	  the item is in that group.
2006/12/26
	* Fixed petrified state requiring two hits to end. [Skotlex]
2006/12/25
	* Fixed buildin_getscrate, thanks Trancid. [FlavioJS]
2006/12/23
	* Merged START_ACCOUNT_NUM and END_ACCOUNT_NUM moved from login.h to mmo.h
	* Merged more helpfull error messages when packet_ver=-1. (no more 
	  "clif_parse: Disconnecting session #XX for not having latest client version (has version -1)."
	  messages).
	* Merged the increase of MAX_PACKET_DB to 0x300 and the warning for when 
	  packet ids greater than MAX_PACKET_DB are found.
	* Merged packet_len_table moved to packet_db[SERVER] and entries of 
	  invalid packet_ver's being discarded instead of just stopping the 
	  parsing.
	* Merged the POS2 update (found out the meaning of the sixth byte).
	* Merged the remnants of ladmin in map-server being commented out.
	  [FlavioJS]
2006/12/22
	* Merged fix that made it so trying to re-strip a character would fail and
	  end their current strip state.
	* Merged the workaround that protects status inducing skills from causing
	  status changes right after ending them (like hitting Frozen enemies with
	  Frost Diver)
	* Merged Taekwon class getting their mission data to prevent skill resets
	  from being usable to reset the mission variables.
2006/12/21
	* Some cleaning to the character deletion code.
	* Added back cropping the attack delay to attack motion for those weird
	  mobs that have a aDelay less than their aMotion time.
2006/12/19
	* Merges from trunk: [Skotlex]
	- Added script commands  getmapguildusers, checkvending, checkchatting.
	- Merged post skill-adjustment SCs that increase damage further (EDP, Soul
	  Link Sinx/Sader) stacking (eg: EDP + Spirit Skill: owned)
	- ZENYNAGE against players has a 50% penalty reduction rather than 2/3
	- floor item lifetime is now an int instead of ushort (so max is highly
	  increased from 65k)
	- Merged the updated implementation of equipment stripping through
	  skill_strip_equip and status changes.
	- Huumas are now unbreakable.
	- Stricter npc-header format parsing.
	- Correctly removing the xmas sprite when the duration wears off.
	- Merged cleaned up of trading, enabling trade requests while with an npc
	  going on, but making it fail if you accept'em with them up, including
	  sending of packets to prevent the client from 'hanging' during a trade.
	- Merged changing jobs undisguising you first to prevent sprite problems
	- Reverted the ThinkTime update to aDelay since that's what it is.
	- Merged Meruru's update to do quick easy-path searches.
	- Merged the script commands document.
2006/12/14
	* Merged the correct implementation of GS_DISARM (a normal attack with a
	  chance to strip)
	* Merged cleaned up implementation of the check for MD_DETECTOR
2006/12/13
	* Merged the improved auth system where the initial status is not invoked
	  until the registries have arrived (char variables will work on item
	  scripts) and where the login-event is not invoked until the character has
	  done loading the map (enables on-login npcs that can use next/menu/etc)
	* Merged the necessary files to get the console colors under Windows
	  working.
	* Removed the flush_fifo call on sending the server-tick as it can freeze
	  or seriously lag the server.
2006/12/12
	* Modifed a bit the clif_change_look function, it should fix crashes with
	  the Xmas sprite when changing maps.
	* Fixed skills displaying a 32k damage when used while disguised.
	* Reverted the knockback implementation to use clif_slide instead of
	  clif_fixpos [Skotlex]
2006/12/11
	* Added various missing checks when parsing several guild actions.
	* Cleaned up the cast-sensor and change-target codes since the mob_db is
	  now updated with the new modes support. [Skotlex]
	* Updated sql files [Playtester]
	* Several merges from trunk: [Skotlex]
	- Fixed @petrename
	- Fixed @revive applied on wrong target.
	- Merged EDP and Assassin Spirit stacking.
	- Fixed skill atk bonuses not working on spells.
	- Merged auto-casts using the skill's full delay instead of half.
	- Merged the new behaviour of NPC_EMOTION/NPC_EMOTION_ON when changing mob
	  modes (0: Emotion. 1: Mode to set. 2: Mode to add, 3: mode to remove. 4: If
	  set, clear previous mode change)
	- Merged NPC_EMOTION_ON removing aggressive state when the new specified
	  mode is not aggressive.
	- Merged NPC_EMOTION simplification of removing the mob's mode when the
	  requested new mode is the same as the mob's db mode.
	- Merged mob_db ADelay column now being parsed as "Mob think time".
	- Merged define is_boss() using MD_BOSS mode instead of mvp exp check.
	- Reverted user scripts overwriting previously found script as it isn't
	  cleaning up labels properly.
	- Added static +100 HP to Ninjas/Gunslingers for a better Hp aproximation
	- Added losing pvp points on gvg dungeon maps (so you are respawned if
	  killed twice)
	- The logout tick is reset when killed.
	- Alchemist fame potion effect is now added on top of the previous effect.
	  They really heal now 50% more than normal potion regardless of your stats.
	- Various other cleanups.
2006/12/07
	* Merged the login/char servers. [Skotlex]
2006/12/06
	* Merged fix to make pets go back to their default level if you turn off
	  pet leveling. [Skotlex]
	* Merged unhiding triggering any area skills where you were standing at
	  time of uncloaking. [Skotlex]
	* Changed the order of view-change packets for SC xmas/wedding, should fix
	  crashing if you change into xmas suit while in fighting stance. [Skotlex]
2006/12/05
	* Merged upgrading option/opt3 to ints rather than shorts. Fixes a few
	  Wedding/Xmas sprite related issues. [Skotlex]
	* Merged use of clif_fixpos instead of clif_slide for knockback
	  implementation. [Skotlex]
	* Merged removal of 'error messages' when managing the ignore list (Aegis
	  sends so such messages). Most notable is that now /inall will wipe your /ex
	  list. [Skotlex]
2006/12/03
	* Fixed even share exp flutuating as described in:
	  http://www.eathena.ws/board/index.php?showtopic=126139
	  thanks to TheUltraMague for the fix. [FlavioJS]
2006/12/01
	* Fixed passive mobs becoming increasingly unlikely to retaliate to attacks
	  after they got inflicted by a disabling status change. [Skotlex]
	* Merged script command 'prompt' [Skotlex]
	* Fixed Ground Drift duration, consuming ammo twice per use, and added a
	  explosion effect when it's time runs out. [Skotlex]
	* Newly loaded user functions now have priority over older ones (that is,
	  if a function is loaded twice, the second one will replace the first)
	  [Skotlex]
2006/11/29
	* Merged the cleaned up and improved Whisper parsing code. [Skotlex]
	* Merged the updates to slaves_inherit_mode and slaves_inherit_speed so you
	  can decide under which types of masters does the slave's speed/mode is
	  changed. [Skotlex]
	* Merged fix to prevent mobs with no exp from always giving 1 exp.
	  [Skotlex]
	* Phantasmic arrow no longer knocksback even when it misses. [Skotlex]
2006/11/28
	* Fixed a typo which made the wedding_ignore_palette setting not work when
	  you log on with them equipped [Skotlex]
2006/11/27
	* Now when a player's "attack once" request fails due to range, the client
	  is told to move to the target to attack it. This sort of fixes the problem
	  of the client SPAMMING the server with attack requests from afar without
	  even approaching the icewall. [Skotlex]
	* Corrected the skill animation for Absorb Spirits [Skotlex]
	* Mob class-changing will fail if the new class is the same as the previous
	  one. [Skotlex]
2006/11/25
	* Merged ST_MOVE_ENABLE skills checking if you could move to the target
	  cell instead of checking if you could shoot to that cell. [Skotlex]
	* Merged EDP's corrected damage equation. [Skotlex]
	* Merged Self Destruction from non-mobs not damaging allies except in
	  versus grounds. [Skotlex]
	* Corrected Spider Web so duration is halved only on players. [Skotlex]
2006/11/24
	* Reverted a small change in map_foreachinmovearea which caused autotraders
	  to not popup on sight of players. [Skotlex]
	* Updated mysql and project files according to trunk 6079 and 6080 [FlavioJS]
	- mysql 5.16 -> mysql 5.20
	- project files build executables that use the mysql dll
	* Decreased VS8 warning level to 3. 4 only makes sense in trunk,
	  where the changes take place. [FlavioJS]
2006/11/23
	* Updated sql files [Playtester]
2006/11/22
	* Multiple trunk merges:[Skotlex]
	- Merged Warmth skills hitting rate (it's like twice than before).
	- Added mapflags partylock/guildlock to prevent party/guild manipulations
	  on maps where they are set
	- Merged implementation of NPC_DEFENDER, correction of NPC_KEEPING and
	  NPC_BARRIER
	- Triple Action does 150%*3 damage, and Piercing Shot ignores defense,
	  corrected stun chance of Cracker. Gatling fever's speed bonus blocks speed
	  bonuses from taking effect. Fling's armor reduction does not apply to
	  players.
	- Merged monster_ai&0x200 (share skill delay)
	- official Deluge/v Gale/Volcano implementation where cells won't overlap
	  on top of other effects.
	- Watk bonuses will only apply to the character's weapon power, not refine
	  power (atk2)
	- Implemented enabling chars with bad karma to attack each other.
	- Support for reading hexadecimals as valid values from the battle config
	  files.
	- Merged pet ai improvements in regards to looting.
	- Merged multiple small changes/fixes that were in trunk since a while ago.
2006/11/21
	* Fixed always stealing slot 9. [Skotlex]
2006/11/17
	* Merged updated behaviour of skill_max_tries where 0 means unlimited, and
	  any other value is the amount of steal tries. [Skotlex]
	* Merged ShadowJump and KiriKage not "teleporting" you on GVG maps.
	  [Skotlex]
	* Merged overlapping songs/dances causing dissonance/ugly dance level 1
	  regardless of the levels involved. [Skotlex]
	* Hp Conversion now silently fails when used at max sp. [Skotlex]
	* Merged some cleanups in chat.c, including a possible crash fix. [Skotlex]
2006/11/16
	* Merged a debug version of map_freeblock_unlock to help fix an already
	  free'd pointer error. [Skotlex]
2006/11/15
	* Merged Meruru's cleanup/optimization of the socket.c code. There are two
	  new config settings in packet_athena.txt: frame_size (if for some reason
	  you want to use packets less than 1024 bytes in length) and mode_neg, with
	  which you can disable the Nagel Algorythm (the default is yes), you may try
	  turning it off to compare which one yields better performance. [Skotlex]
2006/11/14
	* Various trunk merges: [Skotlex]
	- Kaupe won't end on the first half of Soul Destroyer now. 
	- Merged the cleanups to pc_steal_item (steal formula/method not changed)
	- Merged the updated implementation of Land Protector, where it blocks
	  everything except songs/traps.
	- Merged the fix where bypassing gtb_sc_immunity gave you magic immunity
	  even if you haven't reached 100 magic def yet
	- AL_CURE will not confuse undead players
	- Deluge/Volcano/Violent Gale are interchangeable now (gems are not
	  consumed when there was one down already, previous enchant's duration is
	  used)
	- Corrected Fog of Wall so duration is doubled only for cells on top of
	  deluge/suiton
	- Added Gospel buff messages.
	- Merged desperado's connect success based on relative position in affected
	  area.
	- Status-change induced cast-reductions will no be applied until right
	  before you begin casting. Fixes stuff like Suffragium ending when you
	  attempt to cast a skill but it fails for whatever reason.
	- Fixed interpretation of how head_dir works, only the client sets it, the
	  server resets it when you walk.
	- Endure is now transfered when you devote others.
	- Merged FlavioJS's fix to the npc-whispering system
2006/11/13
	* Fixed a bug in the Moving HP Recovery quest not checking if player 
	  is a knight or crusader. [Euph]
	* Fixed a bug where the char-txt server was incorrectly saving memos,
	  causing character data to be lost on restart. [Skotlex]
	* Merged Health Conversion Skill formula from TRUNK. [Lupus]
2006/11/11
	* Fixed debug message in login_sql [KarLaeda]
2006/11/10
	* Merged the improved "map_respawn_guildid" script command implementation
	  that will catch even players that are "in transit" between maps. [Skotlex]
	* Merged the correct usage of packet 0x20e (hate/feel/mission/angel
	  information packet) [Skotlex]
	* Merged targetted spells not coming off at cast-end when the caster is
	  disabled. [Skotlex]
	* Merged the permanent mob spawn parsing update to correctly handle event
	  triggers that are enclosed in quotes. [Skotlex]
2006/11/09
	* Merged the login and char servers. Family even share rules should now
	  work as intended (the child is never counted towards the even share range
	  check, but the parents are). [Skotlex]
2006/11/08
	* Merged Spider Web ending when hit by a fire attack. [Skotlex]
	* Merged GS_DUST being considered a short range skill [Skotlex]
	* Merged Bull's Eye implementation where you can use it on anyone, but it
	  does normal damage against non brute/demihumans. [Skotlex]
	* Merged Ground Drift implementation where it has a splash damage of 3x3,
	  and the additional damage is defense bypassing neutral damage. [Skotlex]
	* Merged Soul Linkers being immune to Dispel. [Skotlex]
	* Merged Suiton triggering the agi/speed penalty on everyone in versus
	  grounds. [Skotlex]
2006/11/07
	* Merged Fling's defense reduction being 5*lv% [Skotlex]
	* Merged the correct "Angel of the Sun, Moon and Stars" packet for when the
	  skill triggers. [Skotlex]
2006/11/06
	* Cleaned up the way mobskill_use checks for the correct event. It should
	  fix unlimited mob-skill-casting issues. [Skotlex]
	* Bunch of merges from Trunk: [Skotlex]
	- MG_STONECURSE and NPC_PETRIFYATTACK now use time1 as the petrifying time.
	  The auto-casted petrify uses 0, which causes the minimum (1 sec) to be
	  used.
	- GS_CHAINACTION becoming usable by clones (like Triple Blows or Double Attack)
	- Added config settings exp_bonus_attacker and exp_bonus_max_attacker to
	  specify how the exp bonus per attacker (and limit) should be calculated.
	- TK_JUMPKICK now dispels normal potion effects, not Berserk-Pitched ones.
	- Soul Drain won't work on skills tagged as "cast on self"
	- Added the fix to determine direction on which characters are knocked
	  back from Tatami Gaeshi
	- Merged Suiton improvement so that the speed/agi penalty is only for
	  enemies of the caster.
	- The second column of skill_require_db (mhp) is now the "max required HP
	  to be able to cast the skill"
	- Fixed Ganbantein to not touch song/dances/ensembles.
	- Crash-fix when reading the skill sp amount file directly from the grfs
	- Merged the skill cloaking update, so that mobs do not uncloak when using
	  skills.
	- Merged mobs being able to use all skills while hidden.
	- Swapped the checks in status_isimmune so Wand of Hermod takes priority over GTB
	- Behaviour change of party_even_share_bonus, defaults to no bonus.
	- All status changes being removed when auto-resurrected by Kaizel
	- Merged the exp bonus where the first attacker to a mob receives double
	  their exp share than the following attackers.
	- Updated the view field in the item_db to smallint. Added
	  upgrade_svn9153.sql to apply this change.
2006/10/31
	* Fixed song/dance/encore cells not being placed down when casted on top of
	  a land Protector. [Skotlex]
	* Updated logs.sql [Skotlex]
	* Added upgrade_svn9106.sql which adds some important indexes to the sql
	  logs, should speed up log queries. [Skotlex]
2006/10/30
	* Fixed getcharid according to samples and docs. [Lupus]
		Thanks to joshuaali for pointing it out. eAPP has no such bug
2006/10/27
	* Since there hasn't been any reports/complaints or anything at all for a
	  long time now, merged the Ninja skills. Since the dbs and all that has
	  always been synced already, Ninjas should be as usable in stable now as
	  they were in trunk before. [Skotlex]
	* Mob's min-chase distance will not go below range3 (instead of 2)
	  [Skotlex]
	* Fixed mob-skill event "skillused" not triggering at all. [Skotlex]
	* Summoned mobs will only be removed from a map if their master is also
	  removed (dynamic mobs) [Skotlex]
2006/10/26
	* Updated sql files [Playtester]
	* Merged the friend_auto_add setting, since the whole friend-system is not
	  gonna be updated to how it really should be due to feature-freeze.
	  [Skotlex]
2006/10/25
	* Merged the cleaning up of log.c [Skotlex]
	* Merged @killmonster making them drop items again. [Skotlex]
	* Merged config setting summon_flora_setting which specifies restrictions
	  on the skill. [Skotlex]
	* Made Double Casting never fail when casted. [Skotlex]
	* Made mob-casted cloaking always be level 10 (no speed penalties, can
	  always move/attack) [Skotlex]
	* Mob on-death events will now set the killerrid variable to signal the
	  account ID of the player who did the killing blow (regardless of which
	  player is running the script) [Skotlex]
2006/10/23
	* Merged the txt->sql converter, which involved a pretty much complete
	  merge of the char txt/sql servers [Skotlex]
	* Merged char server update where it will print out when there are no
	  available map-servers (instead of printing "unable to find map-server for
	  X, sending to major city instead) [Skotlex]
	* Merged storing memo-points using the mapindex instead of mapname
	  (char-txt) [Skotlex]
	* Merged the new char-server Whisper system which relies on the db of
	  online characters instead of querying the SQL server to locate a character
	  (even though this only takes place on multi-map server enviroments)
	  [Skotlex]
2006/10/20
	* Merged the fix that prevents KN_CHARGEATK from going over pits as if it
	  were an arrow attack. [Skotlex]
	- Various merges from trunk: [Skotlex]
	* Added script function unittalk
	* Made emergency_call setting &16 to not take effect on GVG castles.
	* Updated Trick Dead's behaviour where it protects you from receiving
	  damage, not buffs.
	* Phantasmic arrow now knocks back even if it misses.
	* Merged the Monk combo implementation, where the skill delay is specified
	  on skill_cast_db, it CAN be reduced by agi/dex in skill_delayfix and the
	  combo time is a fixed 300ms (adjusted by combo_delay_rate) on top of this
	  delay.
	* Fixed SG_FRIEND, it should trigger when Monks do Combo-Finish, not Triple
	  Blows, and the rate increase should be based on the learned level of
	  SG_FRIEND, not TK_COUNTER.
	* Merged overflow protection when calculating party-exp-share bonuses.
	* pc_jobchange now automatically removing cart/falcon/peco when the new
	  job doesn't has the required skills.
2006/10/16
	* Merged battle_config.attack_attr_none applying to pet skills when using
	  the fixed-damage pet skill scripts. [Skotlex]
	* Merged Sight Blaster being able to hit multiple targets in a single
	  'round' before it expires. [Skotlex]
	* When reinvoking a combo-time, the previous combo time will be terminated.
	  [Skotlex]
	* Fixed Esma-state not ending after casting it. [Skotlex]
2006/10/13
	* Fixed the char-sql server trying to read the gms off a "gm_db" config
	  setting instead of "login_db" [Skotlex]
	* Corrected Throw Arrow/Musical Strike's damage formula [Skotlex]
2006/10/12
	* When using Hatred and you already have a hate target, your current hate
	  target is displayed now. [Skotlex]
	* Added a temporary message when Angel of the Sun, Moon and Stars trigger
	  so you know it triggered. [Skotlex]
2006/10/11
	* Removed a bunch of unused connection variables in the map server.
	  [Skotlex]
	* Several merges from trunk: [Skotlex]
	- Added npc_unload_duplicates to prevent crashes when you @unloadnpc an npc
	  which has duplicates (the duplicates are removed as well)
	- Guild fix that would explain why sometimes you could have more
	  than 3 alliances.
	- Merged the following script commands: unitwalk, unitkill, unitwarp,
	  unitattack, unitstop, unitemote.
	- Added triggering of Angel of the Sun, Moon, Stars (but it is still
	  lacking the animation :/)
	- SG_HATE not being able to override current target.
	- On-touch npcs will be triggered now on knockback.
	- Bowling Bash now always connects twice for 500% (lv10)
	- Merged the song overlap code update, which makes overlapping song/dances
	  take on all the properties of dissonance/ugly-dance.
	- Land protector now deletes all ground skills regardless of type, with the
	  exception of song/dances.
	- Merged the unitwalk code that fixes TK_RUN sometimes getting stuck when
	  running in diagonals.
	- Fixed manner displaying twice the "you can now use skills" message on
	  expiration.
	- Fixed SC_STONE not increasing mdef and reducing def.
	- Merged party_sub_count (TK_POWER) notcounting in idle characters.
	- Merged updating the cart item list when you undisguise.
	- Merged the negative checks when sending def2 to the client, Berserk won't
	  display negative defense now.
	- Enabled trading while being in a chatroom.
2006/10/10
	* Merged a few cleanups in char-sql/char.c, including a crash fix when
	  trying to send to a map-server with "whatever" map available. [Skotlex]
	* Merged monk combos being unable to override the canact delay. [Skotlex]
2006/10/09
	* Merged trade distance being 2 rather than 5. [Skotlex]
	* Merged mobs unlocking their target when inflicted by status changes or
	  when polymorphing. [Skotlex]
2006/10/08
	* Updated sql files [Playtester]
2006/10/03
	* Merged the status rate reduction from items being calculated apart. That
	  is, final defense against a status change is rate * natural resist/100 *
	  item resist/100, not rate * (natural + item resist)/100 [Skotlex]
	* Trunk merges: [Skotlex]
	- Added mapflag noexppenalty. NoPenalty by default now sets both
	  NoExpPenalty and NoZenyPenalty.
	- Merged support for negative constants (db/const.txt)
	- Also merged the fix for () detection messing up with script command
	  requirements (ie: using mes(); was allowed by the engine and caused
	  crashes)
	- When there's a script double continuation, both scripts are reported
	  (double continuation is when you try to run two scripts at a time which are
	  'paused', and thus, only one of the two can be resumed)
	- Misc effect 2 will display the effect on top of running player when the
	  source is the fake-nd.
	- Frost Nova skill animation on targets reanabled.
	- @reloadscript will no longer kill monsters with no respawn data.
	- Miscellanous small cleanups.
	* Fixed a possible crash and a memory leak on the login-SQL server when
	  parsing unban requests. [Skotlex]
2006/10/02
	* Merged being unable to steal coins from Treasure boxes. [Skotlex]
	* Merged cleanups of status_get_party/guild_id [Skotlex]
	* Added the opt3 value to Ske [Skotlex]
	* Running spurt state now is also available to Soul Linkers. [Skotlex]
	* Added the restricted mapflag file. [Skotlex]
2006/09/28
	* Removed config setting sg_miracle_skill_duration, replaced it with
	  sg_miracle_skill_min_duration and sg_miracle_skill_max_duration [Skotlex]
	* Merged fix that makes no_spawn_on_player work on mobs with a fixed spawn
	  location (only if the setting is set to 100). [Skotlex]
	* Merged monster_ai&256 (pick random starting position when using skills),
	  now mobs by default will always check their skill list from the beginning.
	  [Skotlex]
	* Fixed a possible crash on Wand of Hermode. [Skotlex]
2006/09/27
	* Merged the heal cleanup which makes it display 0 when used on Berserked
	  characters. [Skotlex]
2006/09/26
	* Sharp Shooting now uses the normal clif_skill_damage packet, as I've
	  tested it, and it looks quite fine. [Skotlex]
	* Merged the skill animation-disable code to be used on splash skills.
	  Fixes some skills like Magnum Break or Grimtooth displaying sprite-spam
	  when hitting multiple targets. [Skotlex]
2006/09/25
	* Item group reading will now complain when a line doesn't has enough
	  fields. [Skotlex]
	* Fixed #baselevelup increasing stats when lowering levels, also made it
	  reset your stats if there aren't enough points left to substract.
	  [Skotlex]
	* Miscellanous trunk merges: [Skotlex]
	- the dummy item's ID is now updated to whatever ID was being requested,
	  fixes stuff like you getting item ID 500 instead of the requested ID on
	  your inventory.
	- Crash protection for scripts when you pass a label when a string is
	  expected.
	- Updated High Jump behaviour on maps where it doesn't works.
	- Updated Asura Strike's moving behaviour.
	- Updated Running, it screams skill name when used now.
	- Script status change resistances now only apply to rate, not duration.
	- Sense now shows mdef2 without removing the 'secret vit bonus'
	- Overflow fix when using show_mob_info&2 (hp in % display)
	- Removed the whole "alert hack on global message" thing, ban_spoof_namer
	  is no more.
2006/09/24
	* When the code auto-guesses that a skill should require ammo, it will
	  accept any type of ammo for using it instead of only arrows. Fixes Magnum
	  Break usage on Gunslingers. [Skotlex]
2006/09/22
	* Fixed the "map server claims to have char online, but this other map
	  server also has it tagged as online" message triggering in some cases where
	  it shouldn't. [Skotlex]
	* Fixed some maps in db/mapindex.txt being under the wrong id and added comments
	  so this will not happen again. [Zephiris]
	  --- ATTENTION! ---
	  People running TXT servers will have to tell their players to redo their /memo
	  points since the map ids of the old file were wrong.
2006/09/21
	* Fixed a bug on "select" when skipping empty entries when the selected
	  entry is the last. [Skotlex]
	* Merged the script command "select" fix which makes it work correctly when
	  you pass it empty string entries. [Skotlex]
2006/09/20
	* A mob's HP is set temporarily to 0 before invoking it's on-death script,
	  prevents said scripts being able to "rekill" the mob indefinitely (if stuff
	  like killmonster is used within) [Skotlex]
	* Fixed party_sub_count (TK_POWER) failing when the idle_no_share setting
	  was disabled. [Skotlex]
	* Enabled Star Gladiators and Soul Linkers to do /doridori [Skotlex]
2006/09/19
	* Merged nocommand mapflag update which allows you to specify min-gm level
	  required to override the setting (eg: map.gat mapflag nocommand 30), also
	  merged fix to prevent said mapflag from spamming the console on every
	  single message. [Skotlex]
	* Fixed pc_set_hate_mob enabling to set hatred mob targets regardless of
	  size. [Skotlex]
	* Merged query_sql always returning -1 when used on a TXT server. [Skotlex]
	* Corrected undisguise not working if you don't pass any parameters to it
	  (which is how it should be) [Skotlex]
2006/09/18
	* Fixed Spider Web fire damage bonus. [Skotlex]
	* Merged main.sql (which uses MyISAM for all tables) [Skotlex]
	* Added convert_engine.sql which converts all tables from InnoDB to MyISAM
	  (which is the preferred sql engine now) [Skotlex]
	* GVG reductions are now done on GVG-castle maps regardless of WoE state.
	  [Skotlex]
	* NPC_MENTALBREAKER now does SP damage equal to skill-lv*MATK [Skotlex]
	* Merged skill effect when repairing weapons [Skotlex]
	* Merged SC_RUN bounce-back effect when hitting walls. [Skotlex]
	* Merged the correct status icons to running. [Skotlex]
	* SpeedAddRate bonuses now stack linearly.
	* Mobs no longer check distance to target on every ai iteration unless
	  monster_ai&1 is specified. [Skotlex]
	* Marine Spheres and Floras are now immune to class-changing effects
	  [Skotlex]
2006/09/17
	* Fixed NPC_INVISIBLE's cloak ending after attacking once. [Skotlex]
	* Fixed SG_FUSION being castable without Soul Link state. [Skotlex]
	* Moved the item-use restriction SC checks from clif.c to pc_use_item,
	  fixed Gravitation blocking potion usage on it's area of effect. [Skotlex]
	* Merged fix on char-sql guild saving of alliances/antagonists, where
	  sometimes antagonists would vanish, or alliance would be "half-made".
	  [Skotlex]
2006/09/16
	* Fixed the status change duration reduction equation was was totally
	  wrong, thanks to k3dt [Skotlex]
2006/09/15
	* TK_DODGE will no longer cause your attack to be paused. [Skotlex]
	* Splash damage from Bapho Card will now always connect (note that splash
	  damage only triggers when original attack connects). [Skotlex]
	* Merged the cleanups in status_calc_pc, hp/sp and such rate modifiers are
	  now applied on it (fixes Osiris card), all hp/sp skill modifiers are now
	  also applied on it rather than on status_calc_bl_sub_pc [Skotlex]
	* Merged update where a mob's class is actually changed after morphing,
	  mob_spawn will use the respawn data to revert mob to original's class.
	  [Skotlex]
	* Merged cleanup/improvement of pet bonus timer, when bonus is permanent
	  (ie: Smokie's) [Skotlex]
2006/09/14
	* Merged the change of show_mob_hp to show_mob_info. Now you can choose to
	  display a mob's Lv, and/or HP (Hp has two different display formats as
	  well) [Skotlex]
	* Merged saved status changes deletion on character delete (char TXT/SQL)
	  [Skotlex]
	* Merged the new save structure for memos, where the map index is saved
	  instead of the map's name (Char-TXT), the update is automatic, so no memos
	  should be lost. [Skotlex]
	* Merged Spider Web fix so that damage increase considers actual attack
	  element. [Skotlex]
	* Merged battle_config_switch update so that trailing values are ignored
	  ("yessir" will match "yes", and "yes " will also be read as "yes", which
	  before was not being the case). [Skotlex]
	* Fixed warmth skills draining SP of the target, not the caster. [Skotlex]
	* Merged some cleanups in pc.c in regards to the feel/hate variables, also
	  merged pc_reset_hate function. [Skotlex]
	* Merged the case_Sensitive fix to the login-sql server, so that
	  case-insensitive lookups will not disable the login's login-name index,
	  thus killing performance. [Skotlex]
2006/09/13
	* Merged mob morph update to prevent SA_MONOCELL from transforming
	  guardians/emperiums, clones, etc [Skotlex]
	* Merged update to showmobs to not display slaves. [Skotlex]
2006/09/12
	* Modified main.sql to add 4 missing indexes (thanks to ErkDog): char_id on
	  the tables memo/friends, and online/name on the char table. Added
	  upgrade_svn8729.sql to add these indexes to already existing tables.
	  [Skotlex]
	* Several merges from trunk: [Skotlex]
	- CG_MOONLIT is now a ground effect, like all other song/dances.
	  It knockbacks now instead of preventing entry.
	- SG_*_ANGER code cleanup.
	- autospells now trigger only on BF_WEAPON types of attack.
	- SC_DANCING cleanup where val1 holds both skill ID and skill LV
	- visual effect corrections to SG_FEEL 
	- Cleanup of SG_HATE (you can still change hate targets, this will be fixed
	  once Angel is merged in as well)
	- Added unit_cancel_combo, now using the wrong TK kick cancels the combo
	  and resumes attacking.
	- Memorize is consumed now by instant cast skills as well.
	- Code unification of Gangster Paradise and TK Rest.
	- Berserk ends when you are damaged and your HP is 100 or less.
	- Moved perfect_hiding from state to special_state, so that it clears out
	  properly when you remove your pet.
	- Removed status_get_sc_tick, status_get_sc_def now does both chance and
	  duration reduction.
	- Removed the warmth 'stacking' code.
	- Corrected Signum Crucis's def reduction.
	- Clean up of parse doridori function, happy state will now trigger
	  together with TK_SPTIME.
	- Map config reading now ignores trailing comments in lines, also it will
	  now print out unknown setting warnings.
	- Pet capturing will now check a mob's visual class rather than base class.
	* Merged the login servers: Merged dnsbl support and corrected a pair of
	  wrong IP insertions to the loginlog [Skotlex]
2006/09/11
	* Merged Tom's updated SQL Guild saving methods. Be sure to apply
	  upgrade_svn8711.sql or you won't be able to create new guilds. [Skotlex]
	* Merged memory leak fix on shutdown when unloading npcs with ongoing
	  npctimers. [Skotlex]
	* Merged main.sql (was getting kinda updated) [Skotlex]
	* Guild Aura will be removed on sc-load to prevent Guild Masters from
	  getting that bonus from the old implementation. [Skotlex]
	* Added D-Kalck's fix of the TXT -> SQL converter [Playtester]
	* Script function 'query_sql': In the TXT version it doesn't fill the array
	  and always return -1. Added for scripts compatibility. Your scripts
	  won't crash in TXT version. They can work it around. [Lupus]
2006/09/10
	* Updated item_db.sql and mob_db.sql files [Playtester]
2006/09/07
	* Fixed SC_BERSERK setting Hp to 100 when dispelled by unnatural means (eg:
	  wand of hermod) [Skotlex]
2006/09/06
	* Fixed the memset in status_calc_pc, corrects some mysterious bugs such as
	  item-drop bonuses suddenly not working anymore. [Skotlex]
	* Fixed Aex Aeterna ending on Soul Breaker's first half. [Skotlex]
	* Merged the ea_job_system docs. [Skotlex]
	* Updated script_commands with trunk's content. [Skotlex]
2006/09/05
	* Distance checks are now done against squares instead of circles, Aegis
	  style. [Skotlex]
	* Added define CIRCULAR_AREA to map.h for anyone who wants to enable the
	  previous "circular" area checks that eA did for ranges. [Skotlex]
	* Corrected SC_INTRAVISION not starting. [Skotlex]
	* Fixed possible crash when changing a chat-room's owner (thanks to End of
	  Exam) [Skotlex]
	* Merged most of the script engine from trunk. WARNING: Changes are
	  substantial, in particular some script commands were removed (skill use
	  ones) and were replaced for others, so test your custom scripts! [Skotlex]
	* Merged features of the script engine include:
	- State-check error-reporting, restores script-engine state instead of
	  quitting server.
	- Check_event merge, tells you when you are using invalid npc event names.
	- Support for npc-side variables ('.')
	- Support for hexadecimal values in db/const.txt
	- Support for sleep/sleep2/awake commands
	- Support for player-dependant npc timers (by using attachnpctimer)
	- Support for 'fake npc id', which enables input/menu dialogues to work
	  correctly with invisible npcs.
	- Merged in commands jobname, roclass, eaclass, checkcell, equip, rid2name,
	  warpportal, getvariableofnpc
	- "useskillid", "useskillpos", "doskill" are obsolete now, replaced by
	  unitskilluseid and unitskillusepos.
	- Merged npc-controlled shop commands "npcshopitem", "npcshopadditem",
	  "npcshopdelitem"
	* Merged reloadbattleconf which only rereads mobs and resends rates to
	  char-server when needed. [Skotlex]
	* Merged @clearweather telling you that changes are not instant. [Skotlex]
	* Merged Lex Aeterna not ending on the first half of breaker. [Skotlex]
	* Merged config setting 'partial_name_scan' (gm.conf) [Skotlex]
	* Merged config setting 'attack_walk_delay' (battle.conf) [Skotlex]
	* Merged deleting Spheres when you die (Gunslinger only) [Skotlex]
	* Merged preserving a character's exp/job-level when being adopted. [Skotlex]
	* Merged string size checks on the mail-reading functions. [Skotlex]
	* Fixed dispell removing SC_NOCHAT [Skotlex]
	* Small fix which should correct skill_attack damaging hidden characters
	  when it shouldn't. [Skotlex]
	* Fixed connect_until field being a smallint rather than int in the login
	  table (upgrade with upgrade_svn8631.sql) [Skotlex]
2006/09/04
	* Merged Reflect Shield passing on to devoted characters. [Skotlex]
	* Merged fix to prevent manner being reset to 0 on logout. [Skotlex]
	* Fixed mob-kill experience getting screwed up when characters who did
	  damage die/logout at the moment the mob dies. [Skotlex]
	* Merged char_sql itemdb update. char_sql now also reads item_db2, as well
	  as respecting the config settings in inter_athena.txt which specify where
	  the tables should be located at. [Skotlex]
	* Merged update to produce_db, where now skill-lv required can also be
	  specified. [Skotlex]
	* Merged all of produce_db [Skotlex]
	* Corrected Ground Drift's unit ID in skill_unit_db [Skotlex]
	* Updated msg_athena.txt [Skotlex]
2006/09/03
	* Fixed SC_BERSERK's no regen penalty lasting pretty much forever.
	  [Skotlex]
2006/09/02
	* SC_EXTREMITYFIST/SC_DANCING/SC_EXPLOSIONSPIRITS will only block natural
	  sp regen and not skill regen [Skotlex]
	* SC_REGENERATION blocking will be cancelled on logout now. [Skotlex]
	* Corrected SCB_LUK not updating SCB_BATK as well. [Skotlex]
2006/09/01
	* Some merges in the doc/script_commands.txt file. [Skotlex]
	* Fixed the mob-id check during pet_db loading, it will also now print when
	  a pet is not loaded due to having an invalid mob class specified. [Skotlex]
	* Added a missing break in battle_check_target. Explains why Ice-walls and
	  Traps were not targettable by anything. [Skotlex]
	* Fixed a memory leak when using charsave_method:1 [Skotlex]
	* Merged spirit of wizard blocking bounced off spells only if you have a
	  Crystal Fragment (7321) in your inventory. [Skotlex]
	* Merged Magic Rod not having any delay once triggered. [Skotlex]
	* Merged skill states being checked for only on begin cast. [Skotlex]
	* Merged underflow protections in status_calc_pc [Skotlex]
	* Now status changes with no skill attached, no status-change flags, but
	  with an ICON will be let through (should fix SC_MIRACLE) [Skotlex]
	* Merged Star Gladiator also getting the TK buffs on level up. [Skotlex]
	* Merged said buffs lasting 10 minutes. [Skotlex]
	* Merged mobs always using complex path seeks when chasing/following
	  players. [Skotlex]
2006/08/31
	* Merged TK_RUN giving you bare-fist mastery damage. [Skotlex]
	* Merged various Gunslinger skill updates. [Skotlex]
	* Merged config setting clear_skills_on_warp (skill.conf) [Skotlex]
	* Merged the updated splash-attack code and the SD_LEVEL/SD_ANIMATION
	  constants. [Skotlex] 
	* Misc attacks with no delay will take now the weapon's attack delay as
	  well. [Skotlex]
	* Merged skipping setting a timer for skill_pcblockstart when the duration
	  is 0. [Skotlex]
	* Fixed @summon's delete timer being screwed up. [Skotlex]
	* Fixed the clone script command's delete-timer being screwed up. [Skotlex]
2006/08/30
	* Added a check in status_calc_pc to prevent hprate/sprate underflows.
	  [Skotlex]
	* Fixed @hidenpc saying it's name is @npcoff [Skotlex]
	* Merged the regen_data structure which has an unified regeneration code
	  for any object that should have so. [Skotlex]
	* Merged KarLaeda's @showmobs. It shows selected mobs on your mini-map
	  (excluding mini-bosses & MVP) [Lupus]
2006/08/28
	* Corrected skill-related exp bonuses being applied twice to job
	  experience. [Skotlex]
	* Merges from trunk:[Skotlex]
	- atcommands @jailfor, @jailtime, @charjailtime.
	- New manner/muting system. Where muting is always allowed, but
	  you use manner_system to specify what does being muted blocks (and
	  muting_players setting is no more).
	- pk_mode setting update so you can enable/disable the manner penalty when
	  killing other players
	- @produce enabling one to create armors.
	- Breaker's int-based damage becoming now a MISC type skill.
	- Added config setting "duel_only_on_same_map"
	- Skill/dance overlap code update which causes overlapping songs to
	  cause dissonance, and overlapping dances to cause ugly-dance on the
	  affected tiles. This cleanup also should fix longing for freedom not ending
	  correctly when you step out of a few encores.
	- Spirit-ball requiring skills are now never being converted to ammo-type
	  (and thus, forcing a ammo requirement)
	- Overflow protection on status percent changing functions, so to no
	  matter how much HP someone has, a percent_damage with 100% should always
	  work.
	- Added missing additions of SC_ARMOR_ELEMENT, should fix elemental potions
	  appearingly not working.
	- Inverted OPTION_FLYING and OPTION_XMAS: Flying Star Gladiators should
	  appear flying now (even if they appear in Xmas suit briefly)
2006/08/26
	* Small adjustment on the mob_ai code which could fix mobs not chasing you
	  if you hit them from the maximum possible diagonal distance. [Skotlex]
2006/08/25
	* Merged script command "jobname" [Skotlex]
2006/08/24
	* Merged sc_start trying to extract the duration from the skill_db when you
	  pass a duration of 0 (that is, sc_start SC_STEELBODY, 5, 0; will attempt
	  try to auto-fetch the duration of MO_STEELBODY level 5 and use that).
	  [Skotlex]
	* Merged update on isequipped() so that unless the whole combo is met, the
	  cards that were checked for will not be counted as used. This fixes the
	  case where the same cards belong to different combos. [Skotlex]
	* Merged command @charspeed [Skotlex]
	* merged the expanded use of the enable_logs setting  [Skotlex]
	* merged nameditem script command working on stackable items. [Skotlex]
	* Merged mob_clone_spawn fix to use the mode variable passed. [Skotlex]
	* Removed logpick, as it's now replaced by the log_filter option. [Skotlex]
2006/08/23
	* Merged npc-shop price-exploits (selling items for less than they cost)
	  printing out the file which contains the shop. [Skotlex]
	* Merged unit_free taking the clr_type to use when removing objects from
	  the map (fixes non-respawning mobs just "vanishing" in front of you)
	  [Skotlex]
2006/08/22
	* Removed useless atcommands @itemcheck and @rain [Skotlex]
	* Merged moving of the pet status structure from the player to the pet
	  (involves some cleanups of the pet code in various files) [Skotlex]
	* Merged Madness Canceller blocking you from moving. [Skotlex]
	* Merged Madness Canceller stacking with other speed bonuses. [Skotlex]
	* Merged Gravitation blocking item usage only on the caster. [Skotlex]
	* Merged offensive pet skills using self as target when the skill is
	  self-targetted. [Skotlex]
	* Corrected battle_calc_weapon_attack so that all skills ignore your
	  left-hand weapon, and that the Katar's double-attack damage bonus for the
	  offhand damage applies ONLY on normal attacks. [Skotlex]
	* Merged states killable/killer being placed on state rather than
	  special_state, now the killer/killable commands won't end prematurely.
	  [Skotlex]
	* Fixed @reloadscript not clearing some dbs correctly. [Skotlex]
	* Merged update to battle_check_target which uses battle_get_master to do
	  checks between the actual object and the object's master. [Skotlex]
	* Merged config setting minsave_interval (map_athena.txt) [Skotlex]
	* Merged a fix in SQL-Guild Creation, guild name was escaped 2 times [Toms]
	* Added SQL update which should remove \' from guild names [Toms]
2006/08/21
	* Fixed a confusion in skill_attack using the src instead of dsrc for some
	  calls, which was causing some problems with the KAITE check from AoE
	  spells. [Skotlex]
	* Merged fix which applies weapon atk rate to left/right hand weapons
	  independently so that they work correctly when dual wielding. [Skotlex]
	* Merged returned damage invoking the Hp/Sp leeching/draining functions.
	  [Skotlex]
	* Merged GS_SPREADATTACK using the default skill damage packet so it
	  displays an animation. [Skotlex]
	* Merged Guild Aura not affecting Guild Master. [Skotlex]
	* Reduced GS_GLITTERING success rate to 20+10*lv% [Skotlex]
	* Merged GS_DESPERADO hit chance increase to 20% [Skotlex]
	* Fixed WS_WEAPONREFINE always failing when at less than job level 50.
	  [Skotlex]
	* Fixed the Autosave routine not working when there's only one player
	  online. [Skotlex]
	* Fixed delitem not checking for the first slot's card, also optimized it
	  so that it doesn't checks on the other slots. [Skotlex]
2006/08/19
	* Fixed GS_GROUNDDRIFT [Skotlex]
	* Fixed battle_calc_base_damage being called for the left hand even for
	  non-dual-wielding attacks. left-hand damage was being set to 0 later
	  anyway, so no exploit existed. [Skotlex]
	* Fixed job-mask 0x100000 in the item_db enabling Dancers/Bards to use the
	  items (0x80000 should be for them and 0x100000 should be currently unused)
2006/08/18
	* Fixed Energy Coat consuming 10x less SP than it should per hit. [Skotlex]
	* Merged a missing piece of code from the Guild Aura merge... sorry about
	  that. [Skotlex]
	* Fixed Adrenaline Rush not being able to be recasted to extend duration.
	  [Skotlex]
	* Merged a fix in mob_dead which explains why sometimes people would not
	  get their share of the exp. [Skotlex]
2006/08/17
	* Sacrifice won't display the damage to self now. [Skotlex]
	* Merged the force_random_spawn battle option (monster.conf) [Skotlex]
	* Merged the updated implementation of the Guild Aura. [Skotlex]
	* Merged the new code for splash-damage skills and the new NK 4 value.
	  [Skotlex]
	* Merged the conditional check on summon flora to make it fail when you
	  already have out other types of flora. [Skotlex]
	* Merged the updated config option for emergency_call (skill.conf)
	  [Skotlex]
	* Merged Gatling fever's batk bonus [Skotlex]
	* Merged TK_RUN giving a 50% speed increase rather than 25%, it also now
	  gives you "Endure" effect. [Skotlex]
	* Hopefully fixed Basilica still not ending when the caster moves.
	  [Skotlex]
	* Merged the mob spawn lines using xs/ys as spawn ratio rather than area.
	  [Skotlex]
	* Merged mobs being able to use their rude-attacked skill when attached
	  from beyond their range by their current target. [Skotlex]
	* Merged charsave_method:1 fix to store experience as unsigned ints rather
	  than signed. [Skotlex]
	* Merged Dispell being usable in party/guildmates and enemies. [Skotlex]
	* Updated SQL files [Playtester]
	* Reverted 'query_sql' update and 'rid2name', 'pcblockmove' addition because 
	  they are incompatible with Stable [Toms]
2006/08/16
	* TRUNK Merge: script function 'query_sql'. Supports more than 1 row [Lupus]
	- zBuffer's commands: rid2name, pcfollow, pcstopfollow, pcblockmove
	* Merged the db converter perl scripts [Playtester]
2006/08/15
	* Merged the fix for the charsave_method:1 causing crashes and whatnot.
	  [Skotlex]
	* Merged visual effect fixes for Kaupe and Kaite [Skotlex]
	* Moved the classchange code to skill_additional_effect to enable summoned
	  mobs to polymorph enemies. [Skotlex]
	* Merged usage of the clif_damage packet for splash skills (prevent
	  displaying skill animation multiple times) [Skotlex]
	* Merged Asura Strike moving you to target always when it fails (except
	  when there's a wall on the way), also merging it displaying a skill
	  animation even when failed. [Skotlex]
	* Merged skill_attack_area checking for dead targets [Skotlex]
	* Should have fixed dual-wielding. [Skotlex]
	* Merged function pc_skill, which should make the skill script command
	  behave as specified on the script commands reference (this should fix
	  families not getting their baby-related skills when adopting). [Skotlex]
	* Merged script command "getpartyleader" [Skotlex]
2006/08/14
	* Fixed script engine allowing scripts to set a player's zeny to negative
	  values. [Skotlex]
	* Fixed setting hide_woe_damage making even "miss" attacks seem to connect.
	  [Skotlex]
	* Merged setting attack type to miss when it does no damage for magic/misc
	  attacks, prevents additional effects from triggering when damage is
	  blocked. [Skotlex]
	* Merged the Asura Strike "fail" code, so that when it fails it still moves
	  you to target and takes SP/Spheres/Fury state away. [Skotlex]
	* merged Basilica fix so that it should end when you move. [Skotlex]
	* Merged fix to prevent setting more than one position to the headgear's
	  view-id for multi-piece headgears, fixes the client redrawing the sprites
	  multiple times. [Skotlex]
	* Merged mdef2 being sent without removing first the vit "secret bonus"
	  [Skotlex]
	* Merged enabling ANYONE to activate a marine's sphere
	  countdown/self-destruction. [Skotlex]
	* Merged discarding the exp earned by characters who are dead or on another
	  map at the time the mob dies. [Skotlex]
	* Merged warning to prevent crashing when the txt mob_db has insufficient
	  columns. [Skotlex]
	* Merged fix which makes the @whodrops logs get duplicate entries when
	  reloading the mob_db [Skotlex]
2006/08/13
	* Merged party data not correctly updating it's share-range when characters
	  log on/off. [Skotlex]
2006/08/11
	* Merged sending status-change packets to self when source is a disguised
	  player. [Skotlex]
	* Fixed Dancers/Bards being able to use normal attacks while performing.
	  [Skotlex]
2006/08/10
	* Fixed the item group bonus not working. [Skotlex]
	* Hopefully fixed family-party-even-share not breaking when a member logs
	  out. [Skotlex]
	* Corrected Advanced Jobs HP bonus from 30% -> 25% [Skotlex]
	* Merged the trade cleanups (being unable to trade-request if either one is
	  unable to act, some cleaning on the trade accept functions) [Skotlex]
	* Should have fixed the login-sql crash when passed user-name's length is
	  beyond the limit. [Skotlex]
2006/08/09
	* Fixed sign of picklog "S"ell to NPC. It should be "-"
	  (because u lose items). [Lupus]
	* Merged cbasetypes.c, may fix those benign redefined warnings and what
	  not. [Skotlex]
	* Merged itemdb_group_bonus function, itemgrouphealrate/itemhealrate
	  structures. Group-healing bonuses should work correctly now, as well as
	  enabling the heal-bonuses to be specified on a per-item basis without a
	  need for a group. [Skotlex]
2006/08/08
	* Fixed the char-server not invoking the party_calc_state function when the
	  third party-member is added to a party, hence failing to check for families
	  and disabling even share from them unless all three relog first (state is
	  correctly calculated when party is first loaded). [Skotlex]
	* Merged char_clearparty (char-TXT) which clears out the party-id of all
	  characters when their related party isn't found (minimzes error reporting
	  if you decide to remove the party file, like when the format changes)
	  [Skotlex]
	* Added back missing state set to prevent Ankle-Snare from being retrieved
	  after the target dies. [Skotlex]
	* Merged setting all character offline when the char-server-SQL starts.
	  [Skotlex]
	* Removed setting enemy_critical_rate, added settings enable_critical
	  (defaults to players only), mob_critical_rate and critical_rate
	  (battle/battle.conf) [Skotlex]
	* Removed settings mob_warpportal and mob_npc_warp, replaced with mob_warp
	  (battle/monster.conf) [Skotlex]
	* Merged skill_blown failing on boss characters when source is different
	  from target. [Skotlex]
	* Merged SC_SPEEDUP0 not being dispellable. [Skotlex]
	* Merged skill_delayfix considering negative delays as a total in ms to add
	  on top of amotion instead of adelay. [Skotlex]
	* Merged update to status_calc_misc so it may be used on all object types.
	  [Skotlex]
	* Merged config file battle/status.conf and added conf/Changelog.txt
	  [Skotlex]
2006/08/07
	* Fixed the login-sql server replying to the change-sex packet with the
	  wrong gender, causing the char-server to screw-up job-change updates.
	  [Skotlex]
	* Merged most of the login-sql server from trunk. Mostly cleanups to the IP
	  login on the loginlog table, and fixing unblocking a char clearing it's
	  ban-until field. [Skotlex]
	* Minor changes meant to fix Strip weapon/shield divesting both. [Skotlex]
	* SC_GUILDAURA is now removed on logout. [Skotlex]
	* Merged updated debuff_on_logout setting which enables you to determine
	  whether negative/positive/both status changes get cleared on logout.
	  [Skotlex]
	* Merged ending the Cooking status changes on respawn. [Skotlex]
	* Merged set_label update where the script engine will error-out and quit
	  if you try to use a label with an invalid name. [Skotlex]
	* Moved Adv katar mastery outside the mastery function so that normal
	  mastery applies on soul-breaker but akm doesn't. [Skotlex]
	* Cleaned up battle_calc_base_damage, moved the riding+spear property of
	  having large damage modifier on mid-sized enemies to status_calc_pc.
	  [Skotlex]
	* Fixed applying Right hand modifier to both hands when dual-wielding.
	  [Skotlex]
	* Merged Acid Demonstration damage cap to INT_MAX/2 to prevent it from
	  overflowing and causing 1 dmg. [Skotlex]
	* Merged the status change icon corrections to: Guild Auras, Land Endow
	  effects and Chasewalk. [Skotlex]
	* Merged SC_SILENCE behaviour, and it is also affected by
	  status_cast_cancel now. [Skotlex]
	* Merged SC_SPEEDUP0 stacking with other speed bonuses. [Skotlex]
	* Merged status change packets using view-class as criteria whether the
	  packets should be sent or not.  [Skotlex]
	* Merged Soul of Rogue's 10% speed bonus on chasewalk [Skotlex]
	* Merged food-stats not being dispelled on death. [Skotlex]
	* Merged rewritten pc_payzeny which won't use doubles to detect
	  over/underflows. [Skotlex]
2006/08/04
	* Updated @mobinfo to display slots in the drop information. [Skotlex]
	* Fixed flag.elefix not being respected in battle_calc_misc_damage.
	  [Skotlex]
	* Merged a missing damage adjustment check on Bowling Bash (so that it does
	  more damage when it isn't a splash attack) [Skotlex]
	* Merged Desperado being a short-range attack. [Skotlex]
	* Merged correction so that Deluge/Volcano/V.Gale when casted on top of
	  each other will "fail" on the overlapping cells rather than overriding
	  them. [Skotlex]
	* Merged Soul Destroyer no longer applying mastery damage. [Skotlex]
	* Merged Skill require db, which removes shell restriction from skills, all
	  gun/shotgun skills just use normal bullets. [Skotlex]
	* Merged TK Ranker Combo fix where sometimes you couldn't start the combo
	  with the same skill of the last stance. [Skotlex]
2006/08/03
	* Fixed Shotgun not working with bullets [Lupus]
	* Fixed NPC_CRITICALSLASH not being considered as a Critical hit by the
	  code. [Skotlex]
	* Now you can teleport at thana_boss but you can't relog there [Playtester]
	* Merged the fix which was making cooking-sets unable to cook anything.
	  [Skotlex]
2006/08/02
	* Fixed a bug in int_storage.c, temp array doesn't have the good size [Toms]
	* Some merges from trunk. [Skotlex]
	- Merged the marine sphere code to make them correctly move/detonate and
	  stop them from following their master around.
	- Merged corrected Enchant Poison rate.
	- Merged Full Buster blinding the caster rather than target.
	- Merged the Violent Gale/Volcano/Deluge code that makes them delete each
	  other's cells when casted on the same area.
	- Merged the self-destruction update to prevent it hitting and knocking
	  back the source, as well as damaging everyone except when the caster is a
	  marine sphere on a non-versus map.
	- Merged only player-casted Heal/Sanctuary being offensive.
	- Merged NPC_INVISIBLE update where level1 invokes level10 cloaking to
	  eliminate walk penalties.
	- Merged MindBreaker failing when the target already has the MindBreaker
	  state.
	- Merged deleting a group when placing it down if it has no alive-cells
	  (prevents stuff like Pneumas on top of land Protector counting against your
	  total that can be placed)
	- Merged devotion being triggered first, so that when you are
	  sleep/confused/frozen/etc and you are hit, the status won't end.
	- Merged fix to prevent double-sending walk-to packets when a player's
	  speed is changed.
	- Merged Poison-React update on number of counters and counter-chance.
	* Merged @heal, no wonder it wasn't working right when it wasn't merged..
	  [Skotlex]
	* Fixed failing to create Deadly Poison Bottles damaging 50% of your max
	  life instead of 25% [Skotlex]
	* Added the missing status-change flags to SC_FREEZE to signal it should
	  modify def and magic def [Skotlex]
	* Merged Sacrifice's damage cap fix. [Skotlex]
	* Merged flag&16 on battle_calc_base_damage so that Venom Knives and the
	  like won't get the dex damage bonus of ranged weapons. [Skotlex]
	* Fixed Defender Raising Walk speed instead of diminishing it. [Skotlex]
	* Swaped val3/val4 of defender so that all walking penalty skills store
	  said penalty in val3. [Skotlex]
	* Added a check on status-change load to prevent loading speed-affecting
	  status when their speed adjustment is 0 (prevents division by zero)
	  [Skotlex]
	* Corrected GS_ADJUSTMENT giving +30 hit instead of taking them away.
	  [Skotlex]
	* Merged the cleanup routine which removes players from memory when you are
	  shutting down the map-server (said players were sent to save but are not
	  removed from memory due to the save-ack never returning from the
	  char-server) [Skotlex]
	* Moved functions and pieces of code around script.c to make it easier to
	  merge with trunk later on. [Skotlex]
	* Merged some missing features on script.c: [Skotlex]
	- Being able to set/unset via scripts the bexp/jexp mapflags
	- Some mob killing functions using unit_remove_map instead of status_kill
	  (mobs would not respawn).
	- Merged setting the guardian's HP to 0 will kill them if they are alive.
	- Fixed recovery not healing.
	- Merged code for movenpc, the script command should work now. Usage is
	  "movenpc <npc name>, <x>, <y>
	- Merged the declaration of waitingroomkickall (code has always been there,
	  but it was never parsed/usable)
2006/08/01
	* Should have fixed the cooking sets not displaying all cooking available
	  items. [Skotlex]
	* Figured out and fixed the issue with Volcano/Deluge/Violent Gale not
	  really working. Thanks to Mpeg for noting it out. [Skotlex]
	* Fixed Don't Forget Me increase speed instead of decreasing it. [Skotlex]
	* Merged most of the skill-db related files from trunk. [Skotlex]
2006/07/31
	* Fixed the subnet 0 mask being reset to 0 when someone goes up on the fame
	  rankings. [Skotlex]
	* Merged bNoMiscDamage bonus. [Skotlex]
	* Added the missing 20% ranged damage reduction to adjustment. [Skotlex]
	* Merged being able to change equipment while frozen/stunned/sleep/etc
	  [Skotlex]
	* Bladestop will no longer stop when you push either of the characters
	  around. [Skotlex]
	* Enchant Deadly Poison won't stack with Spirit of Assassin (only the
	  former takes place) [Skotlex]
	* Shield Chain won't get the Icepick bonus. [Skotlex]
	* Fixed vanish sprate not working unless you also had sp/hp leech.
	  [Skotlex\
2006/07/30
	* Fixed mob-caused damage experience not being given to their master
	  (summoned mobs) [Skotlex]
	* Corrected a status_get_race call which should be status_get_race2 in misc
	  attacks. [Skotlex]
	* Added missing mob_db2.sql [Toms]
2006/07/28
	* Merged the status_data update. status.c got pretty much a complete
	  rewrite, and several other hp/sp related codes were updated. The following
	  is a brief list of changes. NOTE that this is a pretty massive merge from
	  trunk, and even though most of the merged code has been in trunk for
	  weeks->months, it is highly probably previously unknown bugs will pop up,
	  so YOU ARE WARNED: [Skotlex]
	- Following skills were synced (rewrote, modified, updated, etc): Energy
	  Coat, Fog Wall, Venom splasher, Cart Termination, Poison React,
	  Volcano/Deluge/V.Gale, Soul Change,
	  Freedom of Casting, Magic Power, Ankle Snare, Land Protector, Cloaking,
	  Marionette Control
	- Merged Gunslinger skills, the class should be usable on stable now.
	- Merged rewrite of battle_calc_misc_attack
	- Merged check to prevent you from firing with wrong ammo type (no grenades
	  usable with guns)
	- Battle config settings: Removed enemy_str/enemy_perfect_flee, added
	  enable_baseatk, enable_perfect_flee (battle.conf)
	- Memory leak fix when redefining user functions.
	- Merged bexp and jexp mapflags to have map-specific rates.
	- Merged rewrites of the natural healing and saving functions.
	- Merged use of pc_check_weapontype to enable dagger-type skills to work on
	  dual-wielders.
	- Various cleanups and improvements on the mob logic and code.
	- Merged improved clone code which takes into account base status (so that
	  being buffed before spawning a clone will not make them stronger)
2006/07/28
	* Merged config setting party_hp_mode so you can specify how party-hp bars
	  are updated. Defaults to Aegis style (instant update) [Skotlex]
	* Merged config setting party_update_interval which determine rate at which
	  mini-dots are updated. (defaults to 1sec)
	* Merged config setting update to party_share_type so you can use it to
	  specify that party share loot should only trigger on mob drops. [Skotlex]
2006/07/27
	* Merged the @partyoption command. [Skotlex]
	* Removed a redeclared variable i in the parsing of the fame list (char-sql
 	  server) which seems to be the cause of the random memory corruptions.
	  [Skotlex]
2006/07/26
	* Merged log.c and log_athena.conf, this removes the last traces of the
	  "old" logs structure which wasn't even working anymore anyway. [Skotlex]
	* Merged itemdb_group skipping common item givers like Blue/Violent boxes,
	  so that item-healing bonuses will work correctly now. [Skotlex]
	* Merged support for "sc_end -1" which will clear all status changes. Added
	  the constant SC_ALL so you can use in scripts "sc_end SC_ALL;" instead.
	  Note that it's untested, but current scripts will not break, so it's
	  relatively safe for merging (it should be working since it's a 2-line
	  modification where one can hardly mess it up) [Skotlex]
	* Merged @pettalk/@me being unusable while muted. [Skotlex]
	* Merged battle config settings agi_penalty_target/vit_penalty_target
	  (battle.conf) [Skotlex]
	* Merged use_weapon_skill_range change to type 4 setting. Default is
	  non-players. [Skotlex]
2006/07/23
	* Fixed buildin_isequip not working correctly with non-cards. [Skotlex]
2006/07/22
	* Updated mob_db.sql to latest. [Skotlex]
	* Fixed the whole accessory position equipping bug. [Skotlex]
2006/07/21
	* Merged the check that will make weapons/accesories go on the left when
	  the right slot is occupied and the left is available even if the client
	  specifies the item should go on the right. [Skotlex]
	* Merged cooking success chances. [Skotlex]
	* Corrected the loadmap event description to specify that the mapflag
	  required is actually "loadevent", NOT "loadmap"! [Skotlex]
	* Merged the trim chars update on the char-server to trim line-terminator
	  characters from character names. [Skotlex]
	* Merged SC_COMBO storing the combo-time in val4. This should fix TK
	  infinite combos from not working. [Skotlex]
	* Merges from trunk: [Skotlex]
	- Rewrite/cleanups of the item giving atcommands and script commands, as
	  well as the equip-counting related script commands. The item givers should
	  correctly give pet-eggs now.
	- new itemdb_isrestricted function which also checks for
	  compounded cards to prevent their trading/vending/storing/etc.
	- usage of macro itemdb_isspecial to identify pet eggs or
	  created/crafted items.
	- cleanup of pc_checkbaselevelup & pc_checkjoblevelup. Now when
	  you gain multiple levels on one go, level up related events (scripts,
	  status changes, etc) are executed once at the end.
	- cleanup pc_equipitem which enables you to choose equip position of
	  accessories (rather than sending the item always to the left slot when you
	  had both equipped), even though I still dunno if the client really lets you
	  choose where it goes. It also updates your skill information when you equip
	  a weapon with a different range and skill range by weapon is enabled.
	- Enabled negative autosave_intervals to specify fixed save
	  time-slots (see map_athena for more info)
	- Added missing case 0x229 (changeoption) for the dummy intravision code
	- Made party hp be scaled to 100 rather than 10000 (fixes overflow
	  when you have lots of hp)
	* Merged the fix that enables warp portal to warp people instantly if they
	  were standing on the spot where it activates. [Skotlex]
	* Also merged the correction which prevents the on-place skill-unit event
	  from triggering when the groups tick has been increased (should fix
	  Sanctuary, Gospel and others from taking effect inmediately after being
	  placed down) [Skotlex]
	* Fixed the "cap adelay to amotion when the first is greater than the
	  longer" being applied to clones instead of txt mob_db reading. [Skotlex]
2006/07/20
	* Fixed the intif party creation packet having the incorrect size sent,
	  hence causing the leader's level to be read as garbage (which caused the
	  "impossible to even share" bug). [Skotlex]
	* Merged the fix to @refine [Skotlex]
	* Merged the mob_db correction that updates the adelay to amotion when the
	  first is shorter than the later. [Skotlex]
	* Merged fix that uses clear-char/spawn packets on warps (since option
	  changes do not work on them client-side) [Skotlex]
2006/07/19
	* Merged grfio.c... which should had been done months ago! Fixes a few
	  oddities with local files not being found and the data_dir being
	  confusing to use. Thanks to The Ultra Mage for noting me about it.
	  [Skotlex] 
	* Some minor mapflag changes. [MasterOfMuppets]
2006/07/18
	* Merged some missing lines from int_party.c... should fix sql compilation.
	  [Skotlex]
	* Merges from trunk of some stuff that has been on trunk for a long time
	  now: [Skotlex]
	- Merged the party_data structure which contains more information about the
	  party for better handling. TXT-party save structure changed, so you'll have
	  to wipe the party file...
	- Merged party item sharing skipping idle/dead characters.
	- Merged the remaining missing checks on functions that scan all connected
	  clients to use clif_foreachclient instead of manually scanning it. Fixes
	  data being sent to invalid recipients which in turn could crash the server.
	  This involved a lot of rewrites around the duel-related functions and
	  night/day time.
	- Updated monsterignore to make you immune to offensive attacks. Added
	  @battleignore alias to reflect this change.
	- Merged clif_specialeffect directly receiving the recipient type. 
	- Merged fix for @storeall saying it failed when the storage is already
	  open.
	- Merged a bunch of defines and constants from map.h, mmo.h and itemdb.h
	- merged Emergency call config setting which lets you determine how the
	  skill behaves. (battle/skill.conf)
	- Merged update of summons_inherit_effects into summons_trigger_autospells.
	  (battle/monster.conf)
	- merged config settings max_heal_lv, no_skill_delay, max_heal
	  (battle/skill.conf)
	- merged fakename commands invoking a name-update instead of pc_setpos.
	- merged the addeff structure which lets you specify the bonus3 versions,
	  as well as specifying target both (check doc/item_bonuses)
	- Merged support for specifying negative autospell rates to cancel said
	  type of bonus.
	- Merged TK ranker unlimited combo-time being extended when you use a
	  proper skill.
	- Merged cleaned up code for pc_setoption
	- Merged some mob ai cleanups from trunk.
	- Merged mobs with player sprites having an act/walk delay when looting.
	- Merged fix where pet armor doesn't shows when just equipped/unequipped.
	* Merged a char-sql fix which was preventing characters to be saved on the
	  char-server after a char-map reconnect. [Skotlex]
2006/07/17
	* Some sign quest map flag updates [MasterOfMuppets]
	* atcommand_follow is now more verbose. [Adam]
2006/07/16
	* Updated mob_db.sql to current mob_db.txt data. [Skotlex]
2006/07/15
	* Small change in conf/battle/player.conf to say that 199 is max aspd allowed
	  (Haplo says that there are many reports of having over 200 is giving errors) [Evera]
2006/07/12
	* Merged some of atcommand.c. Reenabled @changesex, fixed @reset, updated
	  the clean implementation of @refine which takes into account MAX_REFINE
	  constant. Also fixes @mapinfo incorrectly displaying the save point of maps
	  whose return point is the player's save point. [Skotlex]
	* Resurrection will now silently fail when used on non-undead + not-dead
	  characters. [Skotlex]
	* Fixed the IP value being apparently incorrectly casted before inserting
	  into the loginlog table on "connect success" events. [Skotlex]
	* Merged the chrif_save fix when quitting with the charsave_method: 1
	  setting. [Skotlex]
2006/07/11
	* Merged the clif_parse fix which checks for the correct session-type
	  before sending packets (fix is not complete as it also requires changes to
	  other files, but for now this will have to do until it's been tested more
	  on trunk) [Skotlex]
	* Merged the player disconnect code update which guarantees character data
	  saving before removing the player from memory. [Skotlex]
	* I know this hasn't been in trunk for long enough to know it works
	  perfectly, but the current stable situation with lag-induced dupes is bad
	  enough to justify the risk of bugs on this update...
	
	* Fixed GTB card only working while you had a status-change active.
	  [Skotlex]
	* Merged the mob-position snap-fix from trunk (ie: Now it sends a fixpos
	  packet when a mob triggers a skill while walking to properly cancel the
	  walking animation client-side) [Skotlex]
2006/07/10
	* Fixed @follow stopping the moment you are warped. [Skotlex]
	* Fixed pc_additem messing with the equip field of the passed item data.
	  Fixes the famous "equip stuff on your arrow slot" bug. [Skotlex]
	* Should have fixed bonus skills not showing up inmediately on log-in.
	  [Skotlex]
2006/07/08
	* Fixed the char table having party/guild_id as smallint when they need int
	  there. Thanks to hermematon for pointing it out (use svn_ugprade7581.sql)
	  [Skotlex]
	* Fixed a crash on warpwaitingpc when the chat-room is empty. [Skotlex]
	* Fixed mobinfo displaying exp as signed ints rather than unsigned.
	  [Skotlex]
2006/07/07
	* Some merges in clif.c. Merged the fix for displaying pet egg/armor
	  correctly and the less-bandwidth consuming weather packets (who's flaw is
	  no inmediate removal of the effect when weather ends) [Skotlex]
	* itemdb_exists will now return NULL for item_id 0. Should fix
	  @mobinfo/@iteminfo at times returning the unknown item for every seek.
	  [Skotlex]
	* Fixed the Sage weapon endow skills never failing. [Skotlex]
	* Merged character servers not setting everyone offline as soon as they
	  reconnect to the login server as that breaks char-sql character saving of
	  characters already online. [Skotlex]
	* Added a temporary band-aid to prevent executing the script of non-arrows
	  when they are equipped on the arrow-slot (until the actual cause of why
	  pc_unequipitem is not working correctly is discovered/fixed) [Skotlex]
2006/07/06
	* Merged the save_settings config (map_athena.conf). Now you can specify
	  whether both characters should be saved on
	  vending/trade/storage-closing/etc. The default is "yes" to all cases to
	  prevent dupes due to crashes, but if the uber-saving is slowing the
	  char-server to a crawl, you may want to turn some off. [Skotlex]
	* Merged mapflags loadevent and nochat. The first is required on maps where
	  you want the maploadevent script to trigger, the later disables chat-room
	  creations. [Skotlex]
	* merged cancelling of Warmth on warp. [Skotlex]
	* Merged fix which was causing storages to be saved twice on logout.
	  [Skotlex]
	* Merged fix of pets consuming loot on logout rather than giving it to
	  their masters. [Skotlex]
	* Merged making you stop walking when opening vending. [Skotlex]
	* Merged character states baselvlup_event, job_lvlup_event, loadmap_event
	  [Skotlex]
	* Merged warnings when doing a element-based bonus with an invalid element.
	  [Skotlex]
	* Merged improved storage saving, where the storage is not removed from
	  memory until the save-ack is received from the char-server. Storages in
	  said waiting state will be resent for saving in case char-map connection is
	  lost & restored. [Skotlex]
2006/07/04
	* Merged use of flag nocast&16 to specify non-cloneable skills. Flag 2 (pvp
	  restricted) now does what 16 did previously (not usable on pk-mode maps)
	  [Skotlex]
	* Merged some of the cleanups in the logic when assigning skills to clones.
	  [Skotlex]
	* Added a check when joining a chat to make sure the target object is of
	  type BL_CHAT. [Skotlex]
	* Merged the refine_db reading fix when MAX_REFINE was bumped up from 10
	  (it wasn't reading refine chances of levels 12+). [Skotlex]
	* Added Claymore/Blastmine's multi-hit property when triggered with many
	  mobs within the splash range. [Skotlex]
	* Merged INF2_ALLOW_ENEMY (4096) inf2 value, which allows a skill to be
	  used on enemies even when the "party/guild only" inf2 values are set.
	  [Skotlex]
2006/07/03
	* Cleared up the bAutoSpellWhenHit description in doc/item_bonus.txt
	  [Skotlex]
	* Fixed Phantasmic Arrow and Magical Bullet not being correctly tagged as a
	  ranged arrow-type attack. [Skotlex]
	* Updated help.txt and help2.txt, thanks to Inuyasha for providing the
	  updated files. [Skotlex]
	* Testing commit requested by LittleWolf. [Euph]
	* Merged the timer intervals to check for IP change updates. Use the
	  login_athena "ip_sync_interval" setting if you run a server with dynamic
	  ips. [Skotlex]
	* Merged the loginlog table using an unsigned long value to store the ip
	  rather than varchar (speed up purposes). Also some cleanups of the login
	  servers. Update table with upgrade_svn7455.sql [Skotlex]
	* Merged moving of the IG_ enum to map.h, fixing of the item group bonus
	  not taking effects for groups greater than 7. [Skotlex]
	* Merged state "rewarp" to enable correct warping of players while they are
	  between-maps. [Skotlex]
	* Merged max number of tries in map_searchfreecell to be xs*ys when the
	  area is the whole map (capped to 500 tries). Also merged no_spawn_on_player
	  fix when specifying the max value (100) [Skotlex]
	* Merged crash fix when reading afm maps. [Skotlex]
	* Updated PACKET_VER to 7 [Skotlex]
2006/06/30
	* Fixed a typo in msg_athena.conf, "This item cannot be drop" -> "This item cannot be dropped" [MasterOfMuppets]
	* Merged bNoWeaponDamage/bNoMagicDamage bonuses receiving an argument with
	  a 1-100 value (rather than always being 100% block). [Skotlex]
	* Merged replacement of config setting gtb_pvp_only to gtb_sc_immunity
	  (item.conf) [Skotlex]
2006/06/29
	* Merged checking range on trade-accept. [Skotlex]
	* Made the map server send list of characters online to the char-server on
	  reconnection regardless of "kick_on_disconnect" setting, as otherwise, a
	  temporary disconnection would make the char-server tag all characters
	  offline and refuse to save them afterwards. [Skotlex]
2006/06/28
	* Added a check in script command "set_option" so that invoking
	  "set_option(0)" removes Cart/Peco/Falcon, as expected by scripts. [Skotlex]
	* Merged char-sql using a single instance of char_dat rather than a
	  pointless array. [Skotlex]
	* Merged support for the character-side fame-list. [Skotlex]
	* Merged a fix for multi-map servers where characters don't get saved after
	  changing map servers. [Skotlex]
	* Changed the mob drop rate adjust function to receive a signed int
	  argument. Probably will fix those drops with 0% becoming 100% [Skotlex]
	* Merged request atcommand (default lv is 20) [Skotlex]
2006/06/27
	* Map server will now resent the whole list of online characters to
	  char-server on reconnect when the kick_on_disconnect setting is active.
	  [Skotlex]
	* Fixed changing the pet's name causing the char server to disconnect the
	  map server. [Skotlex]
	* Merged most of itemdb.c, added LottoBox random item group. [Skotlex]
	* Merged the updated tools/stackdump script. [Skotlex]
	* Reenabled auto-cast skills not triggering if the skill's nk is "no
	  damage". [Skotlex]
2006/06/26
	* Put pay_arche.gat in the "no experience lost" mapflag file. [MasterOfMuppets]
	* Changed skill_setmapcell to use skill splash rather than range. [Skotlex]
	* Cleaned up a bit skill_moonlit, now it knocks back the correct amount of
	  cells. [Skotlex]
	* Fixed @mi displaying always 0 instead of the mob's class. [Skotlex]
	* Merged doing name-check using "allowed letters" char-server setting when
	  renaming pets. [Skotlex]
	* Merged Memorize halving casting time regardless of skill type. [Skotlex]
	* Merged can-act delay not resetting on warp. [Skotlex]
	* merged that fix that should correct pet egg displays. [Skotlex]
	* Merged pets respecting the skill canact delay. [Skotlex]
	* Merged various cleanups from pet.c [Skotlex]
	* Fixed Reject Sword's trigger rate. [Skotlex]
2006/06/23
	* Updated mob_db.sql and item_db.sql to latest. [Skotlex]
	* Fixed slaves_inherit_mode not working. [Skotlex]
	* Allowed itemdb_exists to return the dummy item. Enables "invalid" items
	  to be sold, traded, dropped, etc. [Skotlex]
	* Applied some ASC_BREAKER corrections (int damage after attribute fix,
	  skill being a right-hand-only skill) [Skotlex]
	* Merged handling of the PACKET_VER 7 packets (but left PACKET_VER at 6 for
	  now) [Skotlex]
	* Breaker is now an entirely physical weapon attack with additional
	  int-based damage (added after reductions and before elemental modifier)
	  [Skotlex]
	* Applied the corrections that should enable attacks to be absorbed due to
	  elemental modifiers. [Skotlex]
	* Energy Drain / Mental Breaker now always hit. [Skotlex]
	* Fogwall won't affect the caster in any way. [Skotlex]
	* move_enable state skills will cancel the can't walk delay when used from
	  a combo skill. [Skotlex]
	* Fixed Invulnerable Siegfried using the Elemental Resist value for Status
	  Resistance (val2 instead of val3) [Skotlex]
	* Merged luk reducing success chance of status effects on a
	  (max-current)*luk/300 rate. Relevant battle config settings
	  (pc/mob_luk_sc_def) merged (see these settings for an explanation of how
	  luk affects sc chance reductions). [Skotlex]
2006/06/22
	* Fixed blind's resistance using vit/3 rather than luk/3, thanks to Beetle
	  for pointing it out. [Skotlex]
	* Merged sending of packets to self when the target is 'area' and the source
	  is not on the current map (which means he normally would miss said packet)
	  Fixes stuff like status-change icons staying there forever if the status
	  ended while changing maps. [Skotlex]
	* Made the third argument of strncasecmp a size_t to shut up the compiler
	  warnings. [Skotlex]
2006/06/21
	* Fixed Eternal Chaos having no effect. [Skotlex]
	* Merged the crashfix when accessing the grfio module after it's been
	  halted on a @reloaditemdb. [Skotlex]
	* Merged guild member experience being an unsigned int, doubles the max
	  possible taxed exp value per guild member. [Skotlex]
	* Merged moving guild_exp_rate setting from map server to char server (now
	  the setting is in char_athena.conf) [Skotlex]
	* Merged removal of pc/mob/pet_attack_attr_none and exchanged it for
	  attack_attr_none [Skotlex]
2006/06/20
	* Merged some OPTION related cleanups. Wedding/Xmas palette ignore setting
	  should be working correctly on relog now. [Skotlex]
2006/06/19
	* Added Ayothaya to nopenalty and nopvp mapflags. [Evera]
	* Merged the other_mapserver_count variable which makes each map-server
	  keep count of how many other mapservers are connected, and skip sending
	  inter-server packets when there's no other map servers connected. [Skotlex]
	* Merged the unification of the storage/guild storage/cart packets for
	  better performance when sending these packets. [Skotlex]
	* Merged enabling disable of stances always, blocking of kick skills when a
	  Soul Linker. [Skotlex]
	* Merged dummy hp values send for the HP bar when someone has over 32K max
	  Hp so that the client-side HP bar will display correctly. [Skotlex]
	* Merged clif_parse_RemoveOption removal of only cart/peco/falcon.
	  [Skotlex]
	* Added missing Arunafeltz maps with information from NLZ [Evera]
2006/06/17
	* Mapflag changes according to the eye of hellion quest [MasterOfMuppets]
2006/06/16
	* Merged char_name letters restriction applying to parties/guilds in
	  char-txt (somehow forgot to merge this from before) [Skotlex]
2006/06/15
	* Added indexes for loginlog and ipbanlist as they did not have any. [Euph]
	* Merged save character update on char-sql which speeds up character
	  validation prior to saving. [Skotlex]
	* Merged fix which was preventing male accounts from moving from one map
	  server to another. [Skotlex]
	* Merged fix to delete corresponding registry values when deleting a
	  character. [Skotlex]
	* Fixed trade_traderequest which wasn't updated correctly after the @noask
	  update. [Skotlex]
	* Merged cleanup of clif_disp_onlyself. [Skotlex]
	* Merged updated @noask implementation which reports back when you've
	  rejected someone's request. [Skotlex]
2006/06/14
	* Merged path.c, max blow-count is now 25. [Skotlex]
	* Fixed main.sql adding a key on char_id rather than account_id for the
	  char table. [Skotlex]
	* Merged battle config option mob_npc_warp (the mob ai to make mobs walk to
	  npc warps still needs more work) [Skotlex]
	* Merged sending clif_fixpos packets when an object reaches target
	  destination and before attacking (could fix a bunch of position lag issues)
	  [Skotlex]
	* Merged terminating Marionette on warping. [Skotlex]
	* Merged ending Reverse Orcish state on logout. [Skotlex]
	* Merged allowing all skills during Longing of Freedom except
	  Encore/Dances/Duets. [Skotlex]
	* Merged the base status that reduce the duration/effecet of status changes
	  from trunk. However the luk/3 factor hasn't been quite decided as of yet.
	  [Skotlex]
	* Merged fix on Moonlit Petals SP consumption. [Skotlex]
	* Merged Marionette and Devotion checking absolute range and to ignore
	  obstacles. [Skotlex]
	* Merged status check on SightBlaster to prevent hitting hidden/trick-dead
	  players. [Skotlex]
2006/06/13
	* Updated mob_db.sql and item_db.sql to latest. [Skotlex]
	* Added account_id index to char table. Thanks to Buuyo for reporting it.
	  Sql users apply upgrade_svn7147.sql NOW. [Skotlex]
	* Merged pc_takeitem. Fixes "can't get item" messages showing up when they
	  shouldn't (or twice when they should) [Skotlex]
2006/06/12
	* Fixed clif_cart_equiplist using MAX_INVENTORY instead of MAX_CART, which
	  leads to crashes when someone customizes their server so that both do not
	  match. [Skotlex]
	* Merged pc_gainexp/pc_calcexp receiving the source, so that the exp bonus
	  cards will apply only to the exp received by the card's owner. [Skotlex]
	* Removed useless server_tick variable from players. [Skotlex]
	* Merged pvp ranking packet not being sent to other players when originator
	  is in gm-hidden mode. [Skotlex]
	* Merged clean-up in clif_parse_LoadEndAck which only sends the required
	  data packets rather than everything on map-change. [Skotlex]
	* Merged clean-up of clif_parse_TakeItem so that a item-nak reply will
	  always be sent when the item fails to be picked up. [Skotlex]
	* Merged setting pvp mapflag removing gvg flags and viceversa. Makes a
	  gvg-map unable to be both pvp and gvg at a time. Helps against "gvg-only"
	  skills not being usable anywhere on pk_mode servers. [Skotlex]
2006/06/11
	* Merged Frost Nova/Frost Diver's freezing chance (it was being reduced by
	  int/luk even before actual resistances from freeze). [Skotlex]
2006/06/09
	* Fixed MoM's typo [Vicious]
	* Changed the interval between water balls back to 125 [MasterOfMuppets]
	* Fixed a typo in char_sql/char.c, thanks to Euph [MasterOfMuppets]
2006/06/07
	* Merged a fix when checking if you can use Asura Strike in the middle of a
	  combo. [Skotlex]
	* Made SC_STUN's duration be decreased only by vit% (until the whole SC
	  issue is resolved in trunk for merging) [Skotlex]
	* Fixed the mob state not being set to Berserk/Angry correctly after the
	  mob reaches the target's location. [Skotlex]
	* Merged most of login_sql/login.c, which includes new login packet 0x277
	  [Skotlex]
	* Removed char_nick2id from char-sql as it's no longer needed. [Skotlex]
	* Merged applying char-name letters option to party/guild names. [Skotlex]
	* Merged fix to iteminfo to display item name id and weight correctly.
	  [Skotlex]
	* Merged mob_ai looting being prioritized over picking an enemy when a mob
	  is both looter and aggressive. [Skotlex]
	* Added a mob_setdelayspawn call when capturing a mob, should take care of
	  the mob not respawning again after tamed. [Skotlex]
2006/06/05
	* Fixed firewall counter going down by 2 each hit rather than 1. [Skotlex]
	* Merged fix for Brandish Spear lv 11+ [Skotlex]
	* Merged 2HQ giving +2*(lv-10)% aspd bonus when a level greater than 10 is
	  used [Skotlex]
	* Added $ (guild chat) to forbidden command_symbol list.
	* Merged auto-closing the guild storage when said member leaves the guild.
	  [Skotlex]
	* Corrected mob level being set to 0 on death and before Soul Drain takes
	  effect. [Skotlex]
2006/06/03
	* Fixed @mi/@mobinfo not showing the name collumns correcly [shadow]

2006/06/03
	* Solved the bug that made firewalls only castable a few times until [MasterOfMuppets]
	  relogging. Thanks to Euph for the fix.
	* Updated Tunnel Drive to decrease walking speed as it should, [MasterOfMuppets]
	  thanks to Euph for the fix.
2006/06/02
	* Fixed a bug in unit_can_reach_bl which breaks path seeking when the
	  target is near obstacles. [Skotlex]
	* Updated offensive use of Sanctuary to function like on the official servers [MasterOfMuppets]
	* Changed the interval between waterballs from 150 to 250 milliseconds [MasterOfMuppets]
	* Removed the walk delay from firewall and changed its knockback [MasterOfMuppets]
	  to 1 tile to make it act more like in the official servers.
2006/06/01
	* Merged @noask. [LuzZza]
	* Updated item_db.sql/mob_db.sql to current. [Skotlex]
	* Merged cleanup of pc_additem [Skotlex]
	* Merged config setting min_chat_delay (client.conf) [Skotlex]
	* Merged being able to (un)equip stuff while storage is open. [Skotlex]
	* Merged Freeze/Petrify giving you -50% def and +25% mdef [Skotlex]
	* Merged NPC_CALLSLAVE recalling them in a 5x5 area around the master.
	  [Skotlex]
2006/05/31
	* Merged the corrected save/load friendlist code for char-txt [Skotlex]
2006/05/29
	* Merged removal of "flag" variable in battle_delay_damage [Skotlex]
	* Merged the pk_mode damage modifier variables (misc.conf). [Skotlex]
	* Merged icepick/investigate damage modifiers using final vit_def/armor_def
	  values rather than base ones. [Skotlex]
	* Merged fusioning config settings "player_defense_type",
	  "monster_defense_type", "pet_defense_type" to "weapon_defense_type"
	  (battle.conf) [Skotlex]
2006/05/28
	* Merged the correction to MSS_DEAD state skills (dead-state mob skills
	  work now). [Skotlex]
	* Changed undeads to always sustain all damage when walking through firewalls [MasterOfMuppets]
	* Fixed unable to store n items into storage unless n was the total amount
	  of items you had. [Skotlex]
2006/05/26
	* Fixed KAIZEL not ending on mobs when they die (letting them revive
	  "infinite" times) [Skotlex]
	* Merged not sending a fixpos packet when you are hit while walking
	  (this is how Aegis handles it) [Skotlex]
2006/05/25
	* Merged the cleanup of storage.c [Skotlex]
	* Merged enabling moving items from cart/storage to inventory during
	  trades. [Skotlex]
	* Added NoVending mapflag. You may disable vending in the streets [Lupus]
	* Increased capacity for Account Variables to 64 [Skotlex]
	* Corrected Login Server taking it's first argument as both login config
	  and lan config. [Skotlex]
2006/05/24
	* Fix to the slave AI problem. [erKURITA], by [Skotlex], reported by Niktout.
	* Merged the fix to Snap desyncing the char's position on the client.
	  [Skotlex]
	* Merged the fix which enabled summoned monsters from using a summon skill
	  on spawn when they shouldn't. [Skotlex]
	* Merged Aggressive bit only being reset when there are no targets in the
	  mob's range of view. [Skotlex]
	* Merged mob_spawn_once using 0,0 for a random spot on the whole map, and
	  -1,-1 for a random spot around the player who invoked the script. [Skotlex]
	* Updated item_db to use -1,-1 for the relevant summoning items. [Skotlex]
	* Merged Move Enable checking for unit_can_move only when begin casting.
	  [Skotlex]
	* Merged Soul Drain fix working on non-magic attacks. [Skotlex]
	* Corrected SL KA* spells not working on other Soul Linkers. [Skotlex]
	* Merged the disguise negative id cleanups in clif.c  [Skotlex]
2006/05/23
	* Corrected Waterball's hit-count when used by mobs and lv1 not consuming
	  the single Deluge tile it should. [Skotlex]
	* Merged Vayu's Pkmode bonus fix (where the drop/exp bonus is applied when
	  the mob is of less level than yourself as well as the mob being over 20
	  levels than you) [Skotlex]
2006/05/22
	* Fixed config "wedding_modifydisplay: yes". [Skotlex]
	* Merged mobs using idle skills when they can't move. [Skotlex]
	* Merged mob skill usage picking up a random skill from the list instead of
	  always checking from first to last. [Skotlex]
	* Merged a small fix in pet.c which was making them always invoke the pet
	  random walk routine. [Skotlex]
2006/05/20
	* jA1983 script.c buildin_menu fix. Thanks to End_of_exam. [Vicious]
	* SC_SPEARSQUICKEN -> SC_SPEARQUICKEN normalized enum name [Lupus]
2006/05/18
	* Merged Body Relocation's fix pos packet using the caster's position
	  rather than target tile. [Skotlex]
	* Merged SC_Combo end clearing out last skill used when it's the same as
	  the combo. Fixes TK ranking combo oddities. [Skotlex]
	* Merged NPC_AGIUP increasing movement speed by 50% [Skotlex]
	* Merged split of script event kill into kill_mob_event_name and
	  kill_pc_event_name. [Skotlex]
	* Merged the npc-script-event cache for quick execution of common
	  npc-events (login, logout, kill, level up, etc). [Skotlex]
	- When they are executed nothing will be printed to console now, to see
	  summary of loaded npcs/events, turn the etc_log on. Draw back of the cache
	  is: Npcs loaded after startup are not cached, and if you unload an npc with
	  a related event (eg: the logout event npc) the server will crash! However,
	  @reloadscriptdb will properly reload all cached events.
	* Merged map_searchfreecell not picking the center tile as target. Fixes
	  slaves walking directly on top of the master, as well as skill conditions
	  "around" picking the tile underneath the target. [Skotlex]
	* Merged hide_woe_damage using div rather than 1 as damage passed. Fixes
	  multi-hitting skills displaying MISS. [Skotlex]
	* Merged fix that makes provoked mobs leave their current target for the
	  new one. [Skotlex]
	* Fixed mob_max_skilllvl being capped to 11! [Skotlex]
	* Merged the cleaning up of trade.c, trading code/logic should be
	  cleaner/faster now. [Skotlex]
2006/05/16
	* Updated mob_db.sql to latest. [Skotlex]
	* Updated item_db.sql to latest. Changed use of -- for #, and numeric
	  fields are no longer quoted. [Skotlex]
	* Removed calles for AtCommand_Monster and replaced them with AtCommand_Spawn
	  for Skots	[Reddozen]
	* Blood Drain now always hits. [Skotlex]
	* Firepillar's damage above level 10 is 200%Matk [Skotlex]
	* Merged the pvp check settings (so that no cast 2 will not trigger in
	  pk-mode servers) [Skotlex]
	* Fixed Soul Drain not displaying gained SP [Skotlex]
	* Merged not being able to knockback traps in GVG [Skotlex]
	* KA skills will now work on other soul linkers [Skotlex]
	* SKE skills only stun caster when used on players. [Skotlex]
	* Fixed Mob skill delay time for ground-based skills [Skotlex]
	* Merged immobile mobs using their attack skill rather than a
	  longrange-attacked one when unlocking a distant target. [Skotlex]
	* Merged the skill_unit_db from trunk (Warmth skill data was missing from
	  it) [Skotlex]
2006/05/15
	* Fixed Option_Wedding in const.txt (0x1000 won't work, it has to be 4096)
	  [Skotlex]
	* Added the missing case SC_BLADESTOP on the main switch of
	  status_change_start. May fix it. [Skotlex]
	* Some npc.c merges: npc_click will not work on npcs with negative classes
	  (not on a map), area npcs will make you stop walking on the spot when
	  they trigger. Merged the cleaned up implementation of npc_selllist [Skotlex]
2006/05/12
	* Updated mob_db.sql/item_db.sql to latest. [Skotlex]
	* Added upgrade_svn6568.sql which upgrades mob_db2 to the new format.
	  Thanks to Ancyker for the file. [Skotlex]
	* Large merge from trunk: [Skotlex]
	- Updated item_db/item_db.sql with the ones from trunk.
	- Merged the format of mob_db/mob_db.sql from trunk (UPDATE THIS OR YOUR
	  MOB DROPS WILL BREAK)
	- Merged the infinite endure implementation that uses val4 as flag and does
	  not gives mdef.
	- Merged the TK/SG/SL skill updates as reported by AuronX (check his thread
	  on development).
	- Merged the cleanups and corrections to Fog of Wall.
	- Merged the cleaned up implementation of BladeStop.
	- Merged battle config settings view_range_rate, chase_range_rate,
	  override_mob_names, the MVP normal drops config rates (monster.conf and
	  drops.conf)
	- Merged NPC_* effect skills having a chance of 50+10lv% chance of
	  inflicting.
	- Merged the Kaahi rewrite which uses timers for a proper behaviour.
	- Merged SC_COMBO status being ended in skill_check_condition, all combo
	  skills delaying your attackabletime by adelay.
	- Merged implementation of NPC_POWERUP and NPC_AGIUP giving increased
	  hit/flee.
	- Merged function map_foreachinshootrange for the correct behaviour of
	  skill_wall_check.
	- Removed the obsoleted drop log and "new sql skill db".
	- Merged execution of the onequip scripts on logon.
	- Merged cleaned up implementation of Blessing so that it won't deduct
	  stats on undead players.
	- Merged Defender's speed penalty change of 35-5*lv%.
	- Removed bonuses bDisguise and bInfiniteEndure.
	- Merged fix on unequip item not ending the elemental enchant unless the
	  item to be removed is a weapon.
	- Merged all fields in view_data changed to unsigned.
	- Merged the check changes in regards to wedding/xmas suit restrictions.
	- Merged mob name searches not matching mobs with no exp. 
	- Merged cleaned up mob_randomwalk function.
	- Moved option defines from map.h to status.h
	- Merged additional option to setoption, added script commands
	  setbattleflag, getbattleflag.
2006/05/11
	* Absorb spirits now absorbs 10 SP per sphere as per the description.
	  [Skotlex]
	* Merged the implementation of Asura in hopes it'll fix the skill not
	  working when used on Blade-Stop/Combo. [Skotlex]
2006/05/09
	* Added missing icon for Joint Beat [Skotlex]
	* Added a fix on pc_skill which fixes overlapping when you get the same
	  granted skill more than once from script skill bonuses. [Skotlex]
	* Merged being mobbed reducing armor defense again. [Skotlex]
	* Merged two lines of code which were missing from yesterday's merge
	(reason why normal attacks were not consuming arrows). [Skotlex]
	* Merged implementation of Extremity Fist. [Skotlex]
2006/05/08
	* Trunk merges: [Skotlex]
	- Merged structure of group units to store whether a ground-skill should
	  consume ammo, consumed no gems (into the abyss) or was magic-power
	  enhanced.
	- Can't class-change clones.
	- Moved soul-drain to skill_counter_additional_effect
	- Enhanced behaviour of battle_consume_ammo which only consumes ammo once
	  per skill cast at the end of the skill.
	- Moved Wedding recall skill invocation that invokes skill_castend_pos from
	  skill_castend_id to enable land-limit checks and the like to apply to
	  them.
	- Cleaned up rewritten code for Strip functions.
	- Rewritten code for HP Conversion.
	- Fixed Warp Portal not working if invoked through an item.
	- Sanctuary won't damage undead if they are not the caster's enemy.
	- Merged some packet fixes in clif.c 
	- Changed the hide woe damage from -1 to 1 as -1 is reported to display as
	  miss in some clients.
	- SG Knowledge will only trigger on logon, not mapchange.
	- Added the timer that delays walkto packets when the character is
	  currently on the can't walk delay.
	- Sitting/standing won't remove idle, attacking does.
2006/05/05
	* Meh, forgot to update msg_athena to include the @commands related
	  entries. [Skotlex]
	* Fixed a bug in @commands, most likely the reason some people were still
	  getting crashes. [Skotlex]
	* Merged the skill_db from trunk. Most noticable are TK kicks doing 3 hits
	  now. [Skotlex]
	* Changed the default item use interval to 100ms [Skotlex]
	* Merged config option hide_woe_damage (client.conf) [Skotlex]
	* Merged @commands [Skotlex]
	* Added the pet-related info to the spawn packet 0x7c. [Skotlex]
2006/05/04
	* Fixed a possible infinite loop in skill_clear_unit_group [Skotlex]
	* Added one grace range in the mob_loot search function which should fix
	  mob looting sometimes not working when the loot is within the mob's view
	  range. [Skotlex]
	* Merged the TK level up bonus (Agi Up and Bless lv10) [Skotlex]
	* Merged the cleanup of the pc_steal_item function (impossible to steal 0.01
	  drops unless your steal rate is above 100%) [Skotlex]
	* Merged some cleaning in the calculation of the skill-tree in regards to
	  Spirit skills. [Skotlex]
2006/05/03
	* Merged the action request code cleanup (enables you to sit/stand while on
	  chats, shops, etc) [Skotlex]
	* Merged checking for state.trading rather than trader_id on some functions
	  such as shop buying/selling (makes such requests not fail before accepting
	  a trade request) [Skotlex]
	* Merged checking for identify/!identify rather than 0/1. [Skotlex]
	* Merged the cleanup of whispering parsing which prevents crashes when
	  logging them. [Skotlex]
2006/05/02
	* Changed extremity fist's state to move_enabled, the explosion spirits
	  check is now hardcoded. Should fix EF [Skotlex]
2006/05/01
	* Merged the main.sql file from trunk. [Skotlex]
	* Fixed pc_disguise not allowing you to "redisguise". [Skotlex]
	* Fixed alive_count not being reset on skill unitsetting, which leads to
	  some groups not being cleared once all their units expire. [Skotlex]
	* Merged battle config skill_default_delay (skill.conf) [Skotlex]
	* Merged walk-delay not being increased for skills with move_enabled set.
	  [Skotlex]
	* Fixed AL_WARP displaying "Unknown Area" selections when you don't have
	  all memo points used up. [Skotlex]
2006/04/30
	* Fixed a logic error that was likely the cause of pet loot drops not
	  working. [Skotlex]
	* Merged Arrow Shower's Arrow consumption fix. [Skotlex]
	* Fixed and enabled STEAL skill [Lupus]
2006/04/29
	* Changed the HT_DETECTING method from invoking clif_changetraplook to
	  clif_skill_setunit since in the first the client ignores the fact that it
	  is now a trap (rendering skills like Remove Trap useless). [Skotlex]
	* Merged script command skillpointcount as I've already tested it. [Skotlex]
	* Updated STEAL skill (WIP), added a battle config option: [Lupus]
	  'skill_steal_max_tries' to set max number of stealing tries.
	  It could help to fix stealing exploit on mobs with few drops
2006/04/28
	* Merged the skill attack changes from trunk that should help with mob
	  position lag with ranged spells. [Skotlex]
	* Merged the case insensitive version of strstr. Item and mob searching
	  should now be case insensitive. [Skotlex]
2006/04/27
	* skill_castend_id and skill_castend_pos will trigger unit_stop_walking
	  with flag 1 (fix pos) rather than none. Should fix some skills making you
	  appear moving while doing them. [Skotlex]
	* Added unlocking ud.target on mob_unlocktarget, fixes mobs chasing you
	  around while cloaked. [Skotlex]
	* Applied some changes in unit.c to make mobs pick chase paths as they
	  should. [Skotlex]
	* Merged clone's skill system. All skills have a default of 5% rate
	  modified by the mob_skill_rate setting. [Skotlex]
	* Merged a fix on the pet ai to correct their strange behaviour when
	  chasing back to master. [Skotlex]
	* Removed clif_guild_send_onlineinfo(sd) call in LoadEndAck [Skotlex]
	* Fixed skill_check_condition (the merge went wrong and the checking to see
	  if you had enough Hp/Sp/Spiritballs/etc was totally skipped!) [Skotlex]
	* Merged the fixes to changebase from trunk. [Skotlex]
	* Updated the vc project files, thanks to Joshuaali [Skotlex]
	* Baselevelup will now do a stat reset and then lower stats when lowering
	  levels (and you don't have enough stats to get the deduction from)
	  [Skotlex]
	* Corrected the hit value of the TK kicks (from single hit "6" to multi-hit
	  "8") [Skotlex]
	* Reverted function guild_send_memberinfoshort to previous implementation.
	  [Skotlex]
	* Removed the max-hp overflow assumption from status_calc-pc. [Skotlex]
	* Fixed base-level up @ command giving stat points instead of taking them
	  away when leveling down. [Skotlex
	* Some small change in pc_heal which would let you have negative SP if you
	  were killed on the same pc_heal invocation. [Skotlex]
2006/04/26
	* Forgot to merge the mob_skill_db.txt and const.txt files from trunk.
	  [Skotlex]
	* Mass merge from trunk. Everything that has been on trunk since a long
	  time ago and most of the recent stuff that is known to already work has
	  been merged. [Skotlex]
	- SQL users: Update the item_db (sql-files/item_db.sql was updated, too) to
	  latest, apply upgrade_svn6299.sql to correct character classes.
	- All users: Update the db/* files, notice that some battle flags changed
	  names and others were added (read the list below).
	- List of updates:
	- Merged the unit_data (involves improved rewritten mob/pet ai), view_data
	  (involves improved gm-hide and disguise implementations) and mob spawn data
	  (memory consumption optimization) related changes
	- Merged combo-skill support (skills with inf2 set to NO_TARGET_SELF and
	  inf INF_SELF_SKILL are automatically considered combo skills, like Monk's
	  Chain Combo).
	- Merged the new random item group implementation.
	- Added SG_MIRACLE implementation
	- Moved SG_FUSION penalty to skill_calc_weapon_attack
	- positive div skills multiples damage, negative div values do not.
	- Counter_additional_effect now triggers together with additional_effect
	- Battle_damage now receives the walk delay as well
	- Item name length increased to 50
	- skill_point/status_point/option changed to unsigned short. Several range
	  checks related to these were applied as well.
	- Added sql logging of deleted chars
	- Can't change into mounted-classes (it's just view data)
	- @warp #warp will no longer cause 'warp to non-walkable' warnings.
	- Removed coordinates support for @monster (was unused)
	- Support for disabling mapflags by using "off", removed mapflag nopvp.
	- Added mapflag restricted and zone support.
	- Item-search related @ commands can return multiple results.
	- #itemlist will correctly display forged items and pet eggs.
	- Equip/Unequip script columns added to item_db.
	- Use of ers for guild exp cache, pet loot, ground skills, timer skills.
	- Can't invite/leave guilds inside castles.
	- escape_sql script command.
	- getpartymember can return char names, char id or account id.
	- Soundeffect being able to receive a flag to determine area of effect
	- Added battle_drain function to handle all draining logic. Merged updated
	  drain system with support per race.
	- Moved consumption of ammo from skill_checkcondition to
	  battle_consume_ammo (invoked from battle_calc_weapon_attack)
	- Various battle flags unified to type 4 (defined per BL_*):
	  skillrange_by_distance, auto_counter_type, skill_log, skill_reiteration,
	  skill_nofootset, attack_direction_change, land_skill_limit
	- Added battle flags: traps_setting, slaves_inherit_mode,
	  sg_miracle_skill_ratio, debuff_on_logout, sg_miracle_skill_duration
	- Being hit while in counter no longer causes criticals on you.
	- Cleaned up implementation of traps.
	- Armor defense is not reduced by the number of targets as vit is.
	- NPC_INVISIBLE causes infinite cloaking.
	- Moved mapflag checks from skill_checkcondition to skillnotok so they may
	  block autospells
	- Auto-spells increase your can't act delay.
	- Cleaned up implementation of timer skills.
	- Cleaned up implementation of Asura, Abracadabra, Running, Cast Breaker,
	  Barrier, Keeping, Meteor
	- gm_skill_unconditional now overrides skill_partner_check requirements
	- Correction of Dance/Songs so that the effect won't wear off while inside
	  the dance if you walk out and in again.
	- Corrected Angelus equation
	- Use of sd->state.trading to determine when a trade is ongoing (after it
	  has been accepted and before it's completed). Restores walking before a trade
	  is accepted.
	- Mob skill condition any won't trigger on dead, added condition
	  anytarget.
	- Clif_night_timer which fixes "glowing" if you first logon during
	  nighttime.
	- Flag 2 for skill_castnodex to prevent status changes from reducing
	  cast/delay.
2006/04/24
	* Corrected mob_spawn_delay/boss_spawn_delay/plant_spawn_delay settings
	  (they were named rate rather than delay in monster.conf) [Skotlex]
	* Fixed skill_delayfix not altering delay at all after you reached 150.
	  [Skotlex]
2006/04/21
	* Updates from trunk's char server. [Skotlex]
	- added inter_athena option gm_read_method
	- subnet_athena update which does not requires subnet ip to be specified in
	  the config.
	- Ignore of packet 0x65 when connection is already established.
	* Merged reading of the extended job_db1.txt and size_fix.txt files which
	  account for the new weapon types. [Skotlex]
	* Multiple fixes of places that use 16 instead of MAX_WEAPON_TYPE  [Skotlex]
	* Advanced book only improves Book-weapon damage now. [Skotlex]
	* Merged calc-weapon-type from trunk (fixes dual-wield checks conflicting
	  with gun types) [Skotlex]
2006/04/20
	* Raised the buffer size in clif_MainChatMessage to 200 to prevent @main
	  chat from causing problems. [Skotlex]
	* Fixed atk_rate bonus (Turtle General Card, The Sign) not working on
	  weapon types above and equal to katars (katars and NJ/GS weapons) [Skotlex]
2006/04/19
	* Merges from trunk... [Skotlex]
	- skill_castfix/skill_castfix_sc and skill_castdelay function updates
	- battle configs item_drop_add_min/item_drop_add_max/item_drop_adddrop
	- Read of ammo-type support in skill_require_db as well as
	  skill_check_condition update
	- Assumptio not having an area of effect anymore.
	- Avoid memorizing the same map for more than one location.
	- vs_traps_bct_all being a type 4 switch rather than yes/no
	- Wedding recall skills failing on nomemo maps.
	- Prevent TK Rankers from using the same skill in sucession.
	- Usage of a single linked list ers for mob drops.
2006/04/18
	* Changed the memory manager fatal errors when allocating memory to print
	  out the size request as well as the file and line where they originated.
	  [Skotlex]
	* Applied jA's patch to fix a bug in the scripting engine in regards to
	  priority of operators. Thanks to End of Exam for the information. [Skotlex]
	* Added support for mapflag nocommand in setmapflag/removemapflag [Skotlex]
	* Added support for type 8 (day of the year) in gettime [Skotlex]
	* Converted the format of the battle conf files to windows format [Playtester]
2006/04/16
	* Removed the piece of code that made each Magnus tile disapear after it
	  has hit once. [Skotlex]
	* Merged the grfio module from trunk. [Skotlex]
	* Merged water-level reading from trunk. [Skotlex]
	* Fixed ping interval being in minutes rather than hours. [Skotlex]
2006/04/14
	* Fixed a wrong assumption on the pet-ai logic, making their mob-chase
	  behaviour be completely broken. [Skotlex]
	* Cleaned up some guild functions. [LuzZza]
	- Now guild leaving/explusion packets sends correctly.
	- Fix to prevent creation alliance/opposition with same guilds.
	* Fixed duel in pk-mode. [LuzZza]
	* Updated sql-files/mob_db.sql to current. [Skotlex]
	* Fixed being able to do all the stuff you shouldn't be able to during the
	  petrifying state. [Skotlex]
	* Merged the update that makes looters give preference to the nearest item.
	  [Skotlex]
2006/04/13
	* Merged the equip_jobs update from trunk. [Skotlex]
	- Sql users can either rewrite their current item_db with the updated
	  sql-files/item_db.sql file, or apply upgrade_svn6055.sql to update their
	  existing tables.
	* Fixed SQL compilation. [Skotlex]
	- Note that GM reading is now performed by the Login-Server (as it should
	  be, at the account level)
	* Fixed the compiling error introduced on the last update... [Skotlex]
	* Added an Info message when pinging the SQL servers, Merged the ping sql
	  server settings (see inter_athena.conf) [Skotlex]
	* Merged upgrade of atcommand/charcommand script commands to be able to run
	  with no player attached. [Skotlex]
	* Some other minor cleanups. [Skotlex]
2006/04/11
	* Removed the piece of code that "guesses" that job classes between 24 and
	  68 are advanced classes from mob_avail reading since they conflict with
	  NJ/GS. Use the correct class numbers from now on! [Skotlex]
	* Modified battle_check_range to do a path-check on distances less than 2
	  (rather than 3) to avoid being able to hit through walls. [Skotlex]
	* Fixed looted items always dropping with qty one. [Skotlex]
	* Changed default of skill_wall_check to yes. [Skotlex]
2006/04/09
	* Fixed @npcmove not sending the correct packets to make the moving refresh
	  client-side. [Skotlex]
	* Fixed mobs with aggressive + looter mode never looting. [Skotlex]
	* Changed default delay for weapon-based skills to adelay. [Skotlex]
	* Mob_ai update. The attacked checks will trigger even if the mob can't
	  move. Being attacked while the mob can't move no longer will trigger
	  rude-attacked skills. [Skotlex]
	* Merged monster_ai&32 setting. [Skotlex]
	* Moved status ending when hit from pc_damage/mob_damage to battle_damage.
	  [Skotlex]
	* Merged atcommand @whodrops [Skotlex]
	* Merged the fix to command @movenpc [Skotlex]
	* Merged devotion ending when you are at 25% or less life. [Skotlex]
2006/04/06
	* Corrected the Soul Drain formula, thanks to Haplo for pointing it out.
	  [Skotlex]
	* Changed the random warping of mobs with no players from mob_spawn to
	  mob_warp, which prevents MSC_SPAWN from being retriggered for already
	  spawned mobs. [Skotlex]
2006/04/05
	* Addded missing aldeg_cas01 to NOWARP mapflags, thanks to Justin84 [Lupus]
		- And we set lhz_dun03 nowarpto mapflag by default till check it on eRO/kRO
	* Merged most of pet.c from trunk (Mob ai rewrites, several functions
	  cleaned up) [Skotlex]
	- UNTESTED yet. Update with caution.
	* Some changes to close-confine, status start will fail when the source is
	  not found or it doesn't has sc-data. [Skotlex]
	* Added support for the 2006/04/04a Sakexe packet version. [Zephiris]
2006/04/03
	* Fixed script command mapwarp. [Skotlex]
	* Fixed (?) Auto-Counter. [Skotlex]
	* Cleaned up (fixed?) a possible overflow in pc_isUseitem, thanks to
	  foobar. [Skotlex]
2006/04/02
	* Added a missing memset on ers_alloc'ing mob loot which was making data
	  from looted items fill in normal drop info (in other words, you could get
	  normal loots that were named after players, for example) [Skotlex]
	* Merged the fix of ankle-snare's lasting time. [Skotlex]
	* Merged the npc_reload implementation which doesn't causes crashes for
	  @reloadscript [Skotlex]
	* Merged breaking exp-even share when a party-member leaves the party.
	  [Skotlex]
2006/04/01
	* Merged the fixes to the mob_ai routines. Prevents casting rude-attacked
	  skills in situations that shouldn't be considered as so. Fixed mobs failing
	  to chase after enemies when range-attacked out of their view_range. [Skotlex]
	* Merged the ers usage for mob drops. [Skotlex]
2006/03/30
	* Merged the battle_calc_gvg_damage function which takes care of
	  gvg-related damage reductions. [Skotlex]
	* the auth function in login.c won't jstrescapecpy passwords that were
	  encrypted. [Skotlex]
	* Set the minimum pet hungry delay to 10 [Skotlex]
	* Added the Steel Body icon to auto-berserk. [Skotlex]
	* Now you can't cast auto-counter while the previous one is active.
	  [Skotlex]
	* Added the land-limit check to the wedding warp skills. [Skotlex]
2006/03/29
	* Merged most of the mob ai logic from trunk. [Skotlex]
	* Fixed tick direct modifications increasing duration instead of decreasing
	  it. [Skotlex]
	* Merged most of skill_cast_db.txt from trunk [Skotlex]
	* Merged some fixes from status.c [Skotlex]
2006/03/28
	* Likely fixed the wedding recall skills not working. [Skotlex]
2006/03/27
	* Merges from trunk: [Skotlex]
	- Dual wielding shows both damages on the status window.
	- Corrected implementation of the recall wedding skills.
	- skill_unit_db now specifies per-level ranges.
	- function battle_calc_return_damage for return damage calculations.
	- Ganbantein removes traps
	- Corrected implementation of arrow shower and how it knocks back.
	- Waterball working correctly with Magic Power.
	- Skill animation packets for Magnum, Grandcross
2006/03/26
	* Merged item-skills not being blocked by status changes. [Skotlex]
2006/03/25
	*  Fixed jstrescapecpy crashing when you pass a null string to parse. [Skotlex]
2006/03/24
	* Merged the necessary functions to support changing into Ninja/Gunslinger.
	  Note that no skills have been merged yet, so they are there just to look
	  at them. [Skotlex]
2006/03/23
	* Updated mob_db.sql and item_db.sql to current txt versions. [Skotlex]
	* Fixed Devotion not properly being cleared on death in some  cases.
	  [Skotlex]
	* Fixed Shield-Reflect not being correctly ended when devotion does.
	  [Skotlex]
	* Merged some differences in skill_db.txt from Trunk. Most noticeable
	  changes are: Devotion not working on guild-mates, Magic Crasher being
	  considered a weapon-type attack, Gravitation being 'earth elemental' so
	  that it will hit hidden chars. [Skotlex]
	* Fixed Potion Pitcher sometimes crashing the server. [Skotlex]
	* Fixed a compile warning by adjusting the acid demonstration formula.
	  [Skotlex]
2006/03/22
	* Merged magic attacks that ignore target's element will now also ignore
	  element-based cards. [Skotlex]
	* Merged mapflags nocommand, nodrop, notrade [Skotlex]
	* @me output now uses msg_athena 270 for format. [Skotlex]
	* Clone commands now use msg_Athena entries for displaying output. [Skotlex]
	* Merged cleanup of pc_dropitem [Skotlex]
	* Merged disconnecting unknown packets when the command is above 30000
	  [Skotlex]
	* jRO's Acid Demonstration formula by Redozzen [Vicious]
	* Overflow fix in the login-txt server. [Skotlex]
2006/03/21
	* Updated @rura/@warp. Now you can use both "@warp mapname x y" and
	  "@warp mapname,x,y". [LuzZza]
	* Added at-command @tonpc <NPC_name> (warp to NPC). [LuzZza]
	* Fixed @where at-command. [LuzZza]
	* Fixed SC_SWOO's opt3 value. Small monsters should display correctly now.
	  [Skotlex]
	* mutearea now takes negative intervals as well. [Skotlex]
2006/03/20
	* Small fix to prevent killer/killable states from allowing you to target
	  yourself. [Skotlex]
	* Fixed handling of guild skills by pc_blockskill_start, moved it to
	  skill.c [Skotlex]
	* Fixed autoguard icon showing with stun. [Skotlex]
	* Fixed acid demonstration breaking shield instead of armor. [Skotlex]
	* Fixed Slim Pitcher crashing server ocassionally. [Skotlex]
	* Added sc_start(SC_ENDURE) on infinite endure bonus. [Skotlex]
	* Fixed Berserk Pitcher consuming required items twice. [Skotlex]
2006/03/18
	* Added 'GetMonsterInfo(MobID,Idx)' script function. [Lupus]
	  You can get monsters name,level,race, etc by its Id. Check npc\sample\getmonsterinfo.txt
2006/03/17
	* Fixed the mob_skill_db by commenting out lines with targeted skills
	  being cast during an idle state.  (Thanks to LittleWolf) [Zephiris]
	* Removed a block of code from skill_check_condition that actually belongs
	  to status_check_skilluse. Should fix stun/silence blocking skills
	  regardless of settings. [Skotlex]
	* Added delay of 10sec before Gospel starts buffing characters. [Skotlex]
2006/03/15
	* Merged Trunk's cleaned up implementation of warpparty. [Skotlex]
	* Fixed Tarot Card of Fate using time instead of time2 which is the one
	  that actually holds the effect duration. [Skotlex]
	* Fixed mob random walk interval being set to up to 6K seconds in some
	  instances. [Skotlex]
	* Fixed active guild skill usage. [Skotlex]
	* Likely fixed Gravitation not hitting except for the last hit. [Skotlex]
	* Removed the hardcoded duration of 30 seconds for sleep. [Skotlex]
	* Fixed rangecheck for pet skill usage of INF_SELF_SKILL [Skotlex]
	* Removed inall/exall from atcommand.conf since those two do not exist!
	  (pointed out by Ancyker) [Skotlex]
	* Added check to prevent sc_data being sent to be saved twice on logout.
	  [Skotlex]
	* Merged handling of status_change_end before cancelling a
	  status_change_start for being already inflicted. Fixes stuff like blessing
	  not removing curse when you already had a higher level bless active.
	  [Skotlex]
	* Fixed twilight pharmacy dropping 1 item to the ground instead of the qty
	  produced. Thanks to k3dt [Skotlex]
	* Fixed Plagiarism not working unless you had some sc active. [Skotlex]
2006/03/14
	* Fixed a possible crash in Venom Splasher if the countdown is too high.
	  [Skotlex]
	* Fixed incorrect range check in autospell when hit triggers. [Skotlex]
	* Fixed skill_additional_effect triggering every time you were being hit
	  even if no damage was returned. [Skotlex]
	* Merged in updated list of what dispel clears. [Skotlex]
	* Merged Land Protector dispelling only Magical skills. [Skotlex]
	* Merged the item_db.c file from trunk to see if that fixes random item
	  givers [Skotlex]
2006/03/13
	* Corrected char-server parameters so that the subnet config file is the
	  third parameter, not the second (which was conflicting with
	  inter_athena.conf's argument), thanks to foobar. [Skotlex]
	* PR_BENEDICTIO now ignores mdef [Skotlex]
	* Autospells won't trigger on maps where they aren't allowed now. [Skotlex]
	* Merged Storm Gust knocking back in random directions. [Skotlex]
	* Fixed chatlog's x/y column capacity in sql-files/logs.sql [Skotlex]
2006/03/12
	* no_spawn_on_player won't work on mobs with no respawn delays now. [Skotlex]
2006/03/10
	* Readded LAN support update. I think it's stable now. [LuzZza]
	- Format of subnet_athena.conf file line:
	  subnet: SUBNET_IP/SUBNET_MASK:CHAR_IP:MAP_IP
	- Example:
	  subnet: 10.6.1.0/255.255.255.0:10.6.1.103:10.6.1.103
	* Fixed a memory overwrite crash on pc_readdb, thanks to foobar for the
	  fix. [Skotlex]
	* Fixed only the first TK stance triggering when you have multiple of them
	  active. [Skotlex]
	* Default of skill_attack_enable changed to yes. [Skotlex]
	* Some mob_ai updates, such as making mobs chase you if you hit them from
	  beyond their field of view. [Skotlex]
	* Merged fix of mob_avail reading which was messing up some npc ids by
	  thinking the id given was meant for upper classes. [Skotlex]
2006/03/09
	* Fixed the dancer/bard soul-linked skills toggling on/off with each call
	  to pc_calc_status. [Skotlex]
	* Fixed a bug in the pc_skillreset function which allowed TK rankers to
	  accumulate skill points. [Skotlex]
	* Fixed pc_damage_sp not properly substracting SP. [Skotlex]
	* Added bleeding/deadly poison to effects whose rate is reduced by vit.
	  [Skotlex]
	* Fixed stun's duration not getting reduced by vit + luk/3 [Skotlex]
2006/03/08
	* Fixed item disappearing from the floor when you attempted to pick it up
	  and there was no room in your inventory. [Skotlex]
2006/03/07
	* Updated sql-files/ mob_db.sql and item_db.sql to current txt dbs. [Skotlex]
	* Fixed castnodex values being read into nocast values causing skills that
	  shouldn't have cast reduced by dex becoming unusable on normal maps and who
	  knows what else. [Skotlex]
	* Fixed skill_nocast_db not being read at all. [Skotlex]
	- Fixed the soul linker skill tree. (Thanks to muad_dib) [Zephiris]
	* Merged some char server updates: [Skotlex]
	- Correctly Storing/reading of exp as unsigned longs (TXT)
	- Use of the fame-list size configs (char_athena.conf)
	* Fixed a mysterious "return 0" that somehow leaked into
	 status_change_start, blocking all player status changes. [Skotlex]
2006/03/06
	* Huge merge from trunk. Most of the stuff that has been in trunk for a
	  while now and hasn't produced any reports has been merged: [Skotlex]
	- Status change structure and functions update
	- Skill-splash update. skill_db has a new column to specify splash range
	  for skills (eg: Hammerfall).
	- Merged Venom Splasher's behaviour and damage.
	- New function to handle skill breaking, which causes the strip effect on
	  mobs instead.
	- Range-based defense cards work on spells now
	- Mob ai updates
	- Party/guild mini-dot update when entering a map.
	- Party loot distribution now works with autoloot as well
	- Use of event &8 for special_ai spawned mobs.
	- Improved auto-spell system that takes into account card id to avoid spell
	  stacking.
	- skill_cast_db has now a column to specify afterskill walk_delay
	- Gm_skill_unconditional is now a no/min-gm level setting.
	- Correct implementation of the Warm skills.
	- Update on the way walk-delays stack. Damage-induced walk delays are not
	  overridden, but skill walk delays can increase your current one.
	- Menu based skills use their own variables to allow "precasting"
	- Lots of code cleanup around various functions.
	- New battle_config options:
	- pk_level_range: Specify valid level ranges to engage in pk (pk-mode
	  servers) (misc.conf)
	- allow_es_magic_player: Enables use of ES magic on players. (skill.conf)
	- pc_status_def_rate, mob_status_def_rate: Adjusts stats required before
	  hitting inmunity. (battle.conf)
	- pc_max_status_def, mob_max_status_def: Adjust max sc defense that you can
	  acquire via stats. (battle.conf)
	- clear_skills_on_death: removes all ground-based skills when the caster
	  dies. (skill.conf)
	* Fixed npc_event doing a map-check when the npc is not on any map.
	  [Skotlex]
2006/03/05
	* Fixed animation of Redemptio [Skotlex]
	* Fixed pc_stopwalking making your sprite appear standing if invoked while
	  sitting. [Skotlex]
	* Reverted back LAN support update commit. [LuzZza]
	* Fixed easter.txt [Lance]
2006/03/04
	* Synced login/char servers to trunk (except fame-list configs and
	  gm-reading configs) [Skotlex]
2006/03/03
	* Added upgrade_svn5456.sql, it converts the manner and karma columns to
	  signed. Apply this if your tables have the field as unsigned (which would
	  explain mute always disappearing after relogging) [Skotlex]
	* Fixed npc whispering crashing when message's length is 1. [Skotlex]
	* Fixed character deletion working on SQL without an email address (Thanks to Valaris) [Zephiris]
	* Trickdead is now cancelled on logout. [Skotlex]
	* strcharinfo won't crash now if a player is not attached. [Skotlex]
2006/03/02
	* Gravitation now only blocks caster from using skills, should have fixed
	  it from not doing any damage when skill_caster_check is set as well.
	  [Skotlex]
2006/03/01
	* Added the 2 sec skill delay before recasting Magnum Break [Skotlex]
2006/02/28
	* Updates from trunk: [LuzZza]
	- Fixed message codes in duel functions.
	- Small fix in log_refine, incorrect compare expression.
	- Fix to prevent using main chat when it disabled in atcommand_athena.
2006/02/23
	* Merged the path updates from jA that should reduce cpu load on
	  complicated path seeks (such as around corners or with walls in the
	  middle) [Skotlex]
	* Merged mob skill conditions myhpinrate/friendhpinrate [Skotlex]
	* Merged not deleting lure when used on a non-mob. [Skotlex]
	* Merged mob-placed traps not changing target to all in pvp [Skotlex]
	* Moved the battle config options of gtb and ghostring to item.conf
	  [Skotlex]
	* Some merges from trunk: [Skotlex]
	- Fix that prevents slaves from targetting a non-enemy.
	- Marionette bonus being capped to the battle-config max parameter instead
	  of 99.
	- Separated the hp/sp server rates from those acquired by cards.
	- Update on how Gangster's paradise works.
	- Update on slave randomizing (if using summon lv 3, and the skill
	  specifies 5 mobs, it will not summon those 0->2, but a random range up to
	  3->5)
2006/02/22
	* Updated the char-SQL server to trunk. This means new
	  party/char/pet/guild ids are  handled by the SQL server rather than by the
	  char server. [Skotlex]
	- Apply the upgrade_svn5376.sql file if your guild/party tables do not have
	  their id set as an auto-incremental column.
	* pc_setpos will now cancel vending. [Skotlex]
	* Fixed kamib/kamic atcommands not checking for case. [Skotlex]
	* Enabled hiding while cloaking. [Skotlex]
	* Merged the memory leak fix mostly caused by strcharinfo. [Skotlex]
2006/02/21
	* Updates from trunk: [Komurka]
	- increased MAX_MOBSKILL 32 -> 40
	- changed MAX_RANDITEM from 2000 to 10000 to fit new databases
	- added new file - item_cookie_bag.txt
2006/02/20
	* Hiding ends Close Confine now. [Skotlex]
2006/02/19
	* Added atcommand @exp [Skotlex]
	* Added error reporting when add_timer_interval receives a negative/0
	  interval value. [Skotlex]
	* Modified the way firewall_hits_on_undead works, to loop and invoke
	  multiple skill_attacks based on the value. This is as close to the Aegis
	  implementation as eA can get... [Skotlex]
	* Merged the battle config switches skill_caster_check & status_cast_cancel
	  (check battle/skill.conf) [Skotlex]
	* Changed the default of skill_delay_attack_enable to no. [Skotlex]
	* Added initializing the item can use tick (which was blocking item usage
	  in some situations) [Skotlex]
	* Added the missing break in AM_TWILIGHT2/3 which was making the skill
	  unusable. [Skotlex]
2006/02/18
	* Updates from trunk: [Skotlex]
	- Merged in map_moveblock handling the status change endings as well as moving the dance areas.
	- Merged the CELL_NOSTACK mod updates.
	- Merged the cleaner implementation of the mob no spawn on player code.
	- Merged the cleaner implementation of double casting.
2006/02/17
	* Fixed possible crash on pet egg select. [Skotlex]
2006/02/16
	* Removed the check that prevented mobs from walking into a basilica.
	  [Skotlex]
2006/02/15
	* Fixed crash in chrif_load_scdata warning message. [Skotlex]
	* Fixed pets displaying "strangely" when they did not have their pet armor
	  [Skotlex]
	* Fixed @lvup commmand raising levels when you specify a negative value
	  [Skotlex]
2006/02/14
	* Added the missing "Holy Cross" damage display to Gospel. [Skotlex]
	* Merges from trunk: [Skotlex]
	- Slaves no longer random move.
	- Slaves now give exp/loot according to their mob_db entry.
	- Mob db reading now skips items with no item ID (sets their % to 0)
	- Fixed storage/guild storage not closing properly when being changed of
	  map.
	- Removed the pc_clean_skilltree call in pc_setpos which removes
	  plagiarized skills unneededly.
	- Added letting the max specified level be above what the exp tables
	  provide to enable leveling to said levels through script/gm-commands/etc.
	- Added the experience check for all jobs after reading the exp tables.
	- Merged the implementation of the NPC_BREAK* skill as ranged attacks that
	  break stuff as an additional effect.
	- Merged the damage display for Warm skills, and Meteor Assault, to not
	  have the character do an attack animation for every target.
	- Merged the cleaned up implementation of the skill timer skill functions.
	- Merged the implementation of repair weapon which uses ID rather than a
	  direct pointer to target which could cause crashes.
	- Added Grandcross to skills that aren't affected by weapon properties of 
	  defense ignore/icepick.
	- Land Protector blocks Hammerfall.
	- Added the dummy item support to prevent creating items that do not exist
	  in the DB.
	- Updated High Jump/Jump Kick can-move requirement.
	- Fixed Redemptio not setting SP to 1.
	- Commented the declaration of types puchar/pchar in my_global.h to enable
	  it to compile for WinNT systems.
	- Merged the CELL_NOSTACK mod path seek updates.
2006/02/13
	* Merged the item non-stacking on the ground fix from trunk. [Skotlex]
2006/02/12
	* Fixed the map server not reading the max_exp_gain_rate setting. [Skotlex]
2006/02/10
	* Fixed Sonic Blow lvl 1~9's damage [Vicious]
	* Changed the default MAX_LEVEL supported by the map server to 1000. [Skotlex]
	* Fixed compilation error of pc.c (missing limits.h include) [Skotlex]
2006/02/09
	* Fixed "set baselevel, X" sending one to a different level than the one
	  requested. [Skotlex]
	* Merged the slave update to not let them random walk and keep them 2 tiles
	  from the master. [Skotlex]
	* Merged the mob_respawn routine for Kaizel and NPC_RESPAWN skills.
	  [Skotlex]
	* Merged the mob exp overflow check updates from trunk. [Skotlex]
	* Merged the party even share overflow check updates from trunk. [Skotlex]
	* Merged in the new behaviour of multi_level_up: no (in Aegis the remaining
	  exp after leveling up is capped to the total exp of the previous level
	  minus one) [Skotlex]
	* Merged in battle athena config option max_exp_gain_rate to specify max
	  earned exp per kill. See conf/battle/exp.txt [Skotlex]
	* Merged the warning when the exp table has a value beyond UINT_MAX.
	  [Skotlex]
	* Added range checking to mob skill loading of permillage and delay.
	  [Skotlex]
	* Fixed pc_gainexp not working for next level exp requirements above
	  INT_MAX. [Skotlex]
	* Fixed the display of @showexp not working right for exp values above
	  INT_MAX. [Skotlex]
	* Implemented bonus2 bSPVanishRate for Dark Priest Card [Komurka]

2006/02/08
	* Fixed the death penalty underflow bug... [Skotlex]
	* Updated battle delay damages to use the entry reusage system. [Skotlex]
	* Fixes to exp2.txt on the novice job exp. Thanks to rollopop. [Skotlex]
2006/02/07
	* Modified battle_check_distance, mobs should no longer find a diagonal
	  spot on which they lock onto their target, yet fail to attack from. [Skotlex]
	* Removed the max level configs from battle/exp.txt since db/exp.txt
	  handles them now. [Skotlex]
	* Fixed the char server changing the last/save position in certain
	  situations. [Skotlex]
	* Fixed SG_STAR_ANGER not getting it's damage bonus at all. [Skotlex]
	* Merged the new exp table format from trunk. [Skotlex]
	- If you need a custom exp table, try replacing db/exp.txt with exp2.txt
	- exp2.txt is a custom exp table that goes up to level 1000 with the
	  following charactistics:
	- It uses a inverse exponential growth rate to mimic the official exp rate
	  increase as close as possible.
	- It overrides the exp level of the last 5~10 official exp values for a
	  smoother curve.
	- It's adjusted so that the Lv1000 exp requirement for Advanced Base/2nd
	  Job is close to the unsigned int limit without going above it/ 

2006/02/06
	* Fixed trickdead so that the player packets do have the dead state set. [Skotlex]
	* Venom Splasher always hits (but splash damage targets can still avoid it)
	  [Skotlex]
	* Using autoloot with no arguments now toggles it between @autoloot 0 and
	  @autoloot 100% [Skotlex]
	* Falcon Assault now takes Blitz Beat lv5 as base damage. [Skotlex]
	* Corrected Waterball so that higher levels can do insane amount of hits.
	  [Skotlex]
	* Coma no longer sends SP to 1. [Skotlex]
	* Dark elemental characters are now immune to Curse. [Skotlex]
	* Increased HT_DETECTING seek range to 7x7 [Skotlex]
2006/02/05
	* Fixed and documented script command "callshop". [Skotlex]
	* Updated sql-files/mob_db.sql to latest. [Skotlex]
	* Updated sql-files/item_db.sql to latest. [Skotlex]
2006/02/04
	* Skotlex's Falcon Assault fix. [Vicious]
2006/02/03
	* After a guild master change, the new gm has his guild skills blocked for
	  5 minutes. [Skotlex]
	* Bosses now ignore Loki's weil [Skotlex]
	* Fixed txt-converter compilation errors [Komurka]
2006/02/02
	* Fixed the map server complaining about the default user/password when the
	  password change was done in the import file. [Skotlex]
2006/02/01
	* The map and char servers will now complain if using the default
	  user/password. [Skotlex]
	* Trick Dead makes you stop walking now. [Skotlex]
	* Soul Burn is not affected by Lex Aeterna, and neither by target's cards. [Skotlex]
	* Freeze and Stone take preference over Benedictio. [Skotlex]
	* Fixed areamonster when the passed class is negative. [Skotlex]
	* Removed the clear screen when launching the server. [Skotlex]
	* Fixed a pair of small bugs in Comfort of the Stars and Poison React.
	  [Skotlex]
2006/01/31
	* Hopefully fixed being unable to open the guild storage. [Skotlex]
	* PF_SOULBURN no longer ignores mdef. [Skotlex]
	* HW_GRAVITATION should now invoke auto spells. [Skotlex]
	* Added autospell triggering to returned damage from normal attacks.
	  [Skotlex]
	* Fixed being able to Encore skills you no longer have in your tree.
	  [Skotlex]
	* Added no HP regen while Bleeding, -25% ATK and ASPD penalties as well.
	  [Skotlex]
	* Added "onspawn" mob skill condition. [Skotlex]
2006/01/30
	* Autoloot now uses the item's base drop chance rather than final drop rate
	  to determine if it should autoloot the item or not. [Skotlex]
	* Fixed super novices getting +10 to all stats temporarily whentheir death
	  count isn't zero. [Skotlex]
	* Fixed Kahai displaying HP-SP as the total healed instead of HP [Skotlex]
	* Parsing the Storage/Guild Storage from the char server will now fail if
	  the storage has been modified and not saved yet. [Skotlex]
	* Being hit now cancels confuse. [Skotlex]
	* Added back the bleeding icon. [Skotlex]
	* Fixed Combo Finish Soul Linked Effect being a 11x11 splash area instead of
	  5x5 [Skotlex]
2006/01/29
	* Added support for more account states like "Unavailable due to hacking/bug
	  investigation" etc, thanks to NeoSaro [DracoRPG]
2006/01/28
	* Added the night mapflag to the new maps. Removed some indor maps. [Poki#3]
	* Added DISGUISE MobID; UNDISGUISE; script commands [Lupus]
	- Made them for Eastern Year of the Fire Dog Event.(to be uploaded today)
2006/01/27
	* Added support for mob_avail.txt replacement for NPC classes. [Skotlex]
	* Added "sense_type" config to conf/battle/skill.conf to select which defense
	  is displayed on the sense screen. Defaults to displaying def+def2. [Skotlex]
	* Modified traps so that once they trigger they set themselves as "Into the
	  Abyss" casted traps, so that if you remove them, you won't earn the item.
	  [Skotlex]
	* Fixed Basilica (small bug introduced yesterday) [Skotlex]
	* Hopefully cleaned out the warnings when compiling the char-SQL server.
	  [Skotlex]
	* Updated the makefile for the plugins to take into account the ers.o file.
	  [Skotlex]
2006/01/26
	* Updated VC project files, thanks to D-Kalck. [Skotlex]
	* Rare drop announces will now be done based on the mvp_sd (character who
	  did most damage) instead of sd (character that delivered final blow)
	  [Skotlex]
	* Fixed TK Doridori bonuses to double your regen instead of giving 30Hp/3Sp
	  [Skotlex]
	* Fixed Sense displaying def2/mdef2 when it should display def+def2 / mdef
	  + mdef2. [Skotlex]
	* Fixed Super Novices losing their skill tree (showing up just basic skill)
	  under certain circumstances. [Skotlex]
	* Cleanup and optimization of the movement routines. [Skotlex]
	* Added experimental feature "Cell Stack Limit". When enabled (see
	  src/map/map.h) it should limit the amount of characters that can be placed
	  on the same cell. That's assuming it works (experimental and untested as of
	  yet) [Skotlex]
	* Hopefully fixed Benedicto checking on the west/east tiles instead of the
	  left/right tiles of the caster. [Skotlex]
	* Fixed mobs being unable to move on tick loopback (which happens every ~51
	  days) [Skotlex]
2006/01/25
	* Reverted last change, when you log again it still shows the fake
	  icon. [Foruken]
	* Temporary fix to fake mute status when using pk_mode and
	  !muting_player [Foruken]
	* Probably fixed the max base/job battle config options actually enabling
	  characters to reach one more level than the max specified. [Skotlex]
	* Fixed BSS Sacramenti not hitting demon type enemies. [Skotlex]
	* Now poisoned monsters will show HP updates as their health goes down
	  (let's see if this finally convinces people that poison works u.u)
	  [Skotlex]
	* Splitted up battle_athena.conf into multiple configuration files.
	  battle_athena.conf only contains import lines now, and all the
	  configuration options are located in conf/battle/* [Skotlex]
	* Updated the db version with the new one by FlavioJS [Skotlex]
	* Improved the error reporting when failing to load a mob skill due to
	  insufficient fields. [Skotlex]
	* Changed map_getallusers to use the db interface getall (hope it doesn't
	  breaks horribly) [Skotlex]
	* Added an attack delay to TK kicks to prevent the top10 rankers from
	  attacking normally during the skill animation. [Skotlex]
	* Updated script.c to display the file not found error using braces as
	  delimiters to help when npc filenames include spaces and the respective file
	  is not found due to them) [Skotlex]
	* Changed TK_RUN to a misc attack type which should enable you to halt the
	  skill quickly after starting it. Updated SC_SPURT to be triggered when you
	  stop running if you stopped running one sec or less after you started.
	  Corrected the icon of SPURT to be that yellow Running Man. The previous
	  footsteps effect was assigned to CHASEWALK. [Skotlex]
	* fixed battle config item_auto_get setting autoloot to just 0.01% drops
	  rather than 100%. [Skotlex]
	* Added Sharp Shooting check to skill_attack to prevent hitting hidden
	  characters. [Skotlex]
2006/01/24
	* Some cleaning up of battle_calc_damage, Assumptio should now also reduce
	  damage of all types of attack, not just weapon-based ones. [Skotlex]
	* Incremented SL_MONK combo SP cost reduction to 25% [Skotlex]
	* Updated Full Adrenaline Rush to work on all weapons except bows. [Skotlex]
	* Updated the script engine to report the src of an error when there's a
	  problem with one of the script functions. For example, if there's a "player
	  not attached error", it will also print which NPC caused it. [Skotlex]
	* Added RFIFOSKIP(fd,RFIFOREST(fd)) to the end of the login server's parse functions.
	  This is good for clearing out packets of one byte. [Valaris]
	* Fixed noteleport mapflag affecting Warp Portal. [Skotlex]
	* Fixed map server crashing when parsing an incomplete mob-skill line. [Skotlex]
	* @autoloot 100 will now pickup items that have drop rates ABOVE 100. [Skotlex]
2006/01/23
	* Added battle config "no_spawn_on_player", see battle_athena.conf for
	  details. [Skotlex]
	* Fixed bows doing less damage on criticals when having high dex. [Skotlex]
	* Moved the enemy_critical adjustment to status_get_critical. [Skotlex]
	* Fixed @chardisguise to use the same id checks as @disguise. [Skotlex]
	* Fixed SightBlaster 'hitting' dead characters. [Skotlex]
	* Basilica check in status_checkskilluse expanded to help mobs release
	  their target as soon as they walk into a basilica. [Skotlex]
	* When a player stops walking their to_x and to_y is updated to their
	  present position. This MAY fix warp portal not warping players that were
	  already there waiting to be warped. [Skotlex]
2006/01/22
	* typo fixes (fell -> feel) [Komurka]
	- mob_db_mode_list.txt updated
	- removed some unneeded comments (//komurka)
	* Some changes of @main. Now you can send main-chat messages by sending whisper
	  to nick "Main" (or any other, it can be set in inter_athena.conf). [LuzZza]
2006/01/21
	* Changed gm_can_drop_lv battle conf switch to gm_cant_drop_min_lv and gm_cant_drop_max_lv [Komurka]
	* SL_SWOO (Esu) will only lasts 1/5 of normal time when used on a Boss-type monster [Komurka]
	 -SL_SKE (Esk) won't work on a Boss-type monster anymore (if you KNOW that it should work on them
	  write about it on forum; either way don't bother guessing ... SL can solo ANY boss with this skill ~.~)
2006/01/20
	* Fixed the login-TXT login Log. [Skotlex]
	* Small update to sql-files/item_db.sql to fix speed potions (a complete
	  update will be done when possible...) [Skotlex]
	* Fixed clone script command's duration being in ms rather than seconds.
	  [Skotlex]
	* Taekwon Ready Stances combo time is now 2000 - 4*agi -2*dex ms instead of
	  a flat 2 secs (same reduction that Monk combos get) [Skotlex]
	* Cleaned up code of SG_HATE, may fix the skill seemingly not working.
	  [Skotlex]
	* Likely fixed Even-Share parties not breaking up when a character with
	  too high/low level rejoins in char-TXT servers. [Skotlex]
2006/01/19
	* Added config option atc_slave_clone_limit to limit the amount of
	  @slaveclone's a player can have. [Skotlex]
	* The clone commands now fail when used on someone of higher GM level than
	  the caster. [Skotlex]
	* Increased the size of the clif_disp_onlyself packet by one to see if it
	  fixes the mysterious cropping of the last character in the message.
	  [Skotlex]
	* Now when use_statpoint_table is set to yes, it will be used to determine
	  the stat points you earn on level up. [Skotlex]
	* Small fixes as pointed out by FlavioJs in the login TXT server to prevent
	  crashes in Win32 compiles. [Skotlex]
	* Merged Marquis's implementation of Enjoyable Rest's earth scroll bonus.
	  [Skotlex]
	* Fixed players being able to send custom crafted mute requests that would
	  go through regardless of their gm level and mute others. [Skotlex]
	* Updated mapflags [Lupus]
	* Modified the client_connect function in socket.c to allow different parse_functions to be called
	  based on the listening socket.  After a make_listen_bind returns a listen fd, set that fd's
	  func_parse member to whatever parse function to be used.  If this value is not manually set
	  it will just use the default_func_parse function.  This only affects server listening sockets
	  in which the func_parse member isn't even used. [Valaris]
	* gvg_traps_target_all now also affects traps in pvp maps. [Skotlex]
	* All reflected damage has now a chance to auto-cast spells. [Skotlex]
	* Fixed Casting ground spells from within basilica. [Skotlex]
	
2006/01/17
	* Updated the map server code to use some of the new db functions. [Skotlex]
	* Fixed ground skills checking the wrong target-type on movement, hence
	  making them mostly useless (this is what the Warp Portal report was about)
	  [Skotlex]
	* Some code updates to implement the new db interface. [Skotlex]
	- SQL compilation not tested, so if it breaks someone report to fix it :X
	* Added @clouds2 and clouds2 mapflag using effect 516. [Valaris]
	* Fixed some weather effects not working or not functioning correctly. [Valaris]
	* Cleanups and organization to maps_athena.txt and map_index.txt, thanks to
	  Poki for the cleanup work. [Skotlex]
	* Some cleanup of the SG_FEEL code [Skotlex]
	* Fixed debug mode compiling in VC7.1. Added optimizations to VC7.1 release mode.
	  Defaulted VC7.1 SLN to debug mode. [Lance]
	* Temperory solved the freeing freed pointer error upon map-server shutdown. [Lance]

2006/01/16
	* Fixed clif_disp_onlyself packet length, thanks to Orn. [Skotlex]
	* Imported Freya's autoloot system which enables one to specify the maximum
	  drop-rate to loot. [Skotlex]
	* Refix of the mapreg SQL saving fix of a while ago... [Skotlex]
	* Playtester custom eamobs spawn updates: coal Mines, umbala fields, and
	  minor changes to Sphinx and Geffen Dungeon. [Skotlex]
	* Incremented a bit clone skill usage rate, their rate/delays are now affected
	  by the battle_config options mob_skill_rate and mob_skill_delay [Skotlex]
	* Optimized use of BL_* constants by making them stackable (meant for
	  map_foreach* calls). Should improve performance by avoiding
	  battle_check_target calls on a bunch of invalid targets such as
	  items/skills/npcs on skills and other misc places. [Skotlex] 
	* Fixed mob skills that should trigger on status on "any bad". [Skotlex]
	* TK classes no longer are immune to the strip-effects of Jump Kick [Skotlex]
	* Fixed SQL mapreg saving. [Skotlex]
	* Reverted Ice Wall Behaviour (you can snipe/cast through it again) [Skotlex]
	* Fixed possible crash in skill_check_condition on consume-delayed items [Skotlex]
	* Skills whose range is increased by Vulture Eyes now get the range
	  increased by 10 for non players (assumes VE level 10). [Skotlex]
	* Added cardfixes of near_attack_def_rate and long_attack_def_rate to misc
	  attack calculations. [Skotlex]
	* Fixed Spirit of Wizard not working in a couple of instances. [Skotlex]
	* Advanced Book now gives 1%*skill level success chance to create element
	  convert potion [Skotlex]
	* Changed the FEEL skill implementation to store/use map indexes instead of
	  map names.[Skotlex]
	* Fixed compilation of plugins. [Skotlex]
	* Applied flaviojs's new db interface and fixed compatibility problems with Visual Studio. [Lance]

2006/01/15
	* Fixed poison damaging player even when under 25% hp. [Skotlex]
	* Fixed permanent character variables in Char-TXT [Skotlex]
	* Fixed previous change for stable. Whoops my 5am work again. [Kayla]
	* Fixed the trade exploit allowing for a user to send packets while in a trade.
	  For instance the bank NPC becoming a zeny dupe. Kudos to clown. [Kayla]
	* Added script source error reporting to set and getarrayelement, should
	  print NPC name and location (map, coordinates) on the console when there's
	  an error with these two commands. [Skotlex]
	* Removed treasure chests spawning upon agitbreak, leading to exploits. [Lance]

2006/01/14
	* Removed the 5% success penalty for trying to make a convertor for which
	  you don't have the relevant enchant skills. [Skotlex]
	* Fixed compilation of Login Converter. [Valaris]
	* Fixed bSPGainRace and bExpAddRace with RC_NonBoss and RC_Boss. [Valaris]
	* Lex Divina now shows the animation even when used on someone you can't
	  (non-muted, non-enemy player) [Skotlex]
	* Quick hack to make Shield Reflect trigger auto-spells (only this kind of
	  return damage does it? Because other reflect cards like Orc Lord behave
	  exactly the same way...) [Skotlex]
	* Fixed grf loading to attempt to load from all grf files specified in
	  grf-files.txt (looking for them in the same order specified in the file,
	  returns the first match found) instead of only looking up on the last
	  specified grf... [Skotlex]
	* Fixed compilation of plugins. [Skotlex]
	* Added error reporting to the db when a null key/data is attempted to be
	  inserted and the db is configured to not allow them. [Skotlex]
2006/01/13
	* Fixed labels located at the beginning of a script not being counted at
	  all. [Skotlex]
	* Applied blackhole89's patch to enable dynamic menus. [Skotlex]
	- Script reference doc updated accordingly.
	* Ranking Taekwons with lv 90+ no longer get Quest/Wedding skills for free.[Skotlex]
	* Readjusted Scream And Frost Joke so now the effect goes off no matter
	  where the caster went, but the effect will happen only around the area
	  where the skill was done regardless of where the caster is (which is how it
	  should work from a logical stand point) [Skotlex]
	* Scream and Frost Joke now take effect 2secs after casting, and caster
	  must remain in same map for it to take effect. [Skotlex]
	* Flying Side Kick can't be used by Soul Linkers now. [Skotlex]
	* npc_reload should now correctly remove mobs and npcs that aren't placed
	  in any map (such as mobs that were killed and are waiting for respawn) [Skotlex]
2006/01/12
	* Fixed Ice-Wall range problem. [LuzZza]
	* Corrected the guild_db_final function in int_guild.c of SQL char-server to
	  compile and function with the new db code. [Valaris]
	* Fixed some advanced skills being able to be copied even when restricted [Vicious]
	* Fixed a possible crash-source related to item-picking packets. [Skotlex]
	* Now Top 10 ranking Taekwons with base level 90+ get their whole
	  skill-tree maxed out (but only as bonus-skills, they aren't saved on the
	  dbs) [Skotlex]
	* Some cleaning of the char_name_letters implementation. Characters don't
	  need a space between them, in fact, placing a space in that config makes
	  the space count towards allowed/disallowed characters. [Skotlex]
	* Some modifications to the db code to make the code portable. It may
	  compile on windows now. (note I can't test SQL compiles yet so report any
	  problems ASAP) [Skotlex]
	* Fixed Venom Knife consuming two daggers. [Skotlex]
	* Inverted the packet order in many skills which cause status effects. The
	  client expects the status-change packet to arrive before the skill packet
	  in order for opt3-related changes to make effect on the character. [Skotlex]
2006/01/11
	* Added @main command into atcommand_athena.conf. [LuzZza]
	* Tuxedo and Wedding Dress no longer get a 'forced' gender check regardless
	  of config ignore_items_gender setting. [Skotlex]
	* Added support for 'invisible' shops. These are shops that are loaded but
	  not placed on any map, so you can't click on them. [Skotlex]
	- Example: -<t>shop<t>Invisible Dealer<t>-,1750:-1,1751:-1,1752:-1,etc...
	- Make sure they have a unique name if you want to reference to it with...
	* Added script command 'callshop' for invoking shops from within a script.	[Skotlex]
	- Usage: callshop "Shop Name", flag;
	- Distance to shop is still checked, so it's best to use 'invisible' shops.
	- flag determines shop selection: 1: Show buy list, 2: show sell list.
	  Anything else: show the buy/sell/cancel menu.
	- Function returns 1 if successful, 0 otherwise, but it is recommended that
	  the script should be closed right away to prevent problems.
	- Documentation to the scripts_command.txt reference file not yet added
	  because this command is as of yet untested and may need further refining.
	* Newly created SQL guilds won't save the member-list right away (this
	  seems to be the reason why sometimes when creating new guilds, the
	  guild-master keeps guild_id == 0 in the tables) [Skotlex]
	* Fixed char/int_storage.c reporting lines with too many items when in
	  reality said items had the exact max amount allowed. [Skotlex]
	* Moved the status_change_clear code below the exp penalty so that the
	  SC_BABY effect will work. [Skotlex]
	* Fixed the map_index never finding the last map specified in the
	  map_index file. [Skotlex]
	* Fixed an overflowed pointer in char/inter.c, and an already free'd pointer
	  error in map/guild.c [Skotlex]
	* Added battle option party_item_share_type, now you can choose between
	  round-robin (previous implementation) and random (default) [Skotlex]
	* Fixed compilation of the plugins (due to the db change) [Skotlex]
	* Fixed a few issues with the map server (notably npc_command_sub was
	  broken) [Skotlex]
	* Added proper escaping of the motd string before inserting it on the rag
	  server info SQL table. [Skotlex]
2006/01/10
	* Updated the map-server to conform to the new db interface. Removed
	  DB_DELAY_FINAL_CHANGES and related code from db.* as now eA fully complies
	  to the new interface. [Skotlex]
	* Crafting Arrows, Weapon, Forging/Upgrading now all fail if you have an
	  npc going on to prevent your inventory from being modified while selling.
	  [Skotlex]
	* Updated the char-SQL server to etc etc etc new db etc etc etc. [Skotlex]
	* Cleaned up the description of size_fix.txt [Skotlex]
	* Updated the char-TXT server to be blah blah blah new db blah blah. [Skotlex]
	* Updated both login servers to be fully compliant with the new db
	  interface. [Skotlex]
	* Moved skill damage bonuses from cards to the 'second layer' which means
	  they are applied on top of previous damage bonuses rather than just adding
	  to them. [Skotlex]
	* Some more updates to the db code as specified by FlavioJS [Skotlex]
	* Fixed the memory leak of npc_unload_ev. [Skotlex]
2006/01/09
	* Some more updates regarding the new db system. [Skotlex]
	- Note that there's currently a leak regarding npc_events (ev_db), but this one is
	  not a serious problem (unless you use a lot of npc_reloads) and will be
	  fixed as the db gets improved.
	* Moved the Kaupe code to battle_calc_weapon_attack where it will dogde all
	  weapon-based attacks that can be dodged (giving the illusion of infinite
	  flee for skill's duration). [Skotlex]
	* Moved Sonic Acceleration and Soul Linked SB damage bonus to the second
	  layer of skill modifiers. [Skotlex]
	* Enchant Deadly Poison and True Sight damage bonuses are now applied after
	  skill modifiers rather than added with them (damage % stack type). [Skotlex]
	* Modified Ice-Wall to work using cell types defines instead of directly
	  modifying the gat terrain information. Main reason for this is to enable
	  pc_setpos to place players on top of an ice-wall, because otherwise it
	  was forcing players to warp-around even in maps with noteleport set which
	  is prone to exploits. [Skotlex]
	* Fixed SG_FUSION (SG_FUSION <-> SC_FUSION #_#) [Komurka]
	* Now sense elemental values are again uncapped (so enemy with -25% resist
	  will show 230% instead of 0%), as requested :P [Skotlex]
	* Replaced the db subsystem for FlavioJS's implementation and initial work
	  on updating the eA code to use it as intended. [Skotlex]
	* Fixed Char-TXT server saving last/save maps with spaces on the left. [Skotlex]
	* Fixed Char-SQL server saving new character's maps with spaces on the left. [Skotlex]
	* Fixed Charsave method 1 saving memo maps with spaces on the left. [Skotlex]
	* Changed the order of packets sent for Assumptio (may fix the visual not
	  showing up?) [Skotlex]
2006/01/08
	* Fixed the guild SQL cache removing guilds from memory when said guilds
	  had no data to save (but were not yet marked for removal) [Skotlex]
	* Added a cap to limit Star Gladiator's job level to that of the normal
	  classes (instead of 2nd classes) [Skotlex]
	* Fixed TXT char server parsing only the first character permanent variable
	  received from the map server and ignoring the rest. [Skotlex]
	* Fixed @users crashing the server. [Skotlex]
	* Added Arrow Repel to the list of skills whose range is increased by Vulture Eye. [Skotlex]
	* Fixed the item pick-up rule for party options being working backwards. [Skotlex]
	* Fixed progress info in TK_MISSION [Komurka]
	* Fixed an aproximation error when calculating distances which causes stuff
	  like mobs thinking they are within attack range when they actually aren't
	  [Skotlex]
	* Char-server will now be notified after a character logs out when using
	  charsave_method:1 [Skotlex]
	* Added check to update pet's position on pc_movepos (stuff like High Jump)
	  when the master moves too far away or to a position the pet can't reach.
	  [Skotlex]
	* Fixed char-save method 1 saving map names with padding spaces to the
	  left. [Skotlex]
	* Now sense elemental values are capped to 0 as lower bound (so for an
	  enemy with -25% resist, it'll show 0% instead of 230%) [Skotlex]
	* Updated sql-files/ mob_db.sql and item_db.sql to current TXT data.[Skotlex]
2006/01/07
	* If player is dead, and is spawned (such as @refresh), death packet is sent. [Valaris]
	* Cleaned pc_attack_timer so that the attack timer will auto-readjust when
	  it triggers during the can't act tick instead of cancelling the attack
	  sequence. [Skotlex]
	* Fixed compilation of the TXT-converter. [Skotlex]
	* walkto x,y request packets are now ignored if you are sitting. [Skotlex]
	* Fixed a typo that was making the party item-pickup style shared not
	  taking effect for the item_first_get_time regardless of setting. [Skotlex]
	* Applied Playtester's custom mob spawns to the eamobs/ set. [Skotlex]
	- These custom mob spawns are an experiment to balance out mob spawns and
	  put some sense into them (no crap like too strong AND too weak mobs on the
	  same floor, increasing mob difficulty the deeper into the dungeon you go,
	  etc), without moving mobs too far from where players are used to see them neither.
	- To enable them, modify scripts_main to use scripts_eamonsters rather than scripts_monsters.
	- Currently, the modified dungeons are: Glast Heim, Geffen Tower, Clock
	  Tower, Sphinx, Pyramids, Byalan. 
	* Added check to make sure guildspy and partyspy variables have value. [Valaris]
	* Separated the permanent variables from the character status structure. [Skotlex]
	* permanent variables are now loaded on their own packets as needed to
	  reduce the bandwidth wasted between servers. [Skotlex]
	* Permanent account variables are now saved when the script is finished
	  instead of each time they were modified.  [Skotlex]
	* OnInit scripts and related code now executes after all perm variables are
	  received (so now account variables are accessible during it) [Skotlex]
	* Fixed typo in pc.c causing crashes in Line 769. [Lance]
	* Corrected VC7.1 prject files to include mapindex.c and mapindex.h [Lance]
	* Corrected Wrath of the Star formula (added missing STR in equation) [Komurka]
	  - Added movement speed bonus to SG_FUSION (same as PecoPeco gives)
	  - You can now 'turn off' SG_FUSION
	* updated NoIcewall maplags, thanks to Sir Loon [Lupus]
	* soundeffectall modified to rely on dependancies depending on situation. [Lance]
	* Modified getd to return 'pointer' (will be 'dereferenced' automatically) instead of value, 
	  making it very flexible when paired with getelementofarray() [Lance]
2006/01/06
	* Corrected main.sql having incorrect syntax [Foruken]
	* Cleaned up some maps in maps_athena.txt and added a bunch of cloned maps
	  to map_index.txt [Skotlex]
	* Refine bonus is no longer increased by the number of hits from the skill
	  except for TSS [Skotlex]
	* Dispelled Berserk won't drop HP back to 100 now. [Skotlex]
	* Mobs that use NPC_SUICIDE won't give neither exp or loot now. [Skotlex]
	* Summoned mobs that cannot move will be removed from the map when the
	  master is gone to another map AND the mob's map is a gvg ground. [Skotlex]
	* Fog of Wall effects now work in both directions (outside -> inside,
	  inside->outside) [Skotlex]
	* Fixed the sql guild loading always returning a blank guild when the
	  guild_id does not exists! [Skotlex]
2006/01/05
	* Some changes to the guild SQL code to report whenever a guild's id is not
	  matching the one it was stored with in the db, which in turn free's the
	  guild and doesn't saves it to perhaps prevent data corruption. [Skotlex]
	* Corrected the fifo-buffer readjusting code to set a reserve-buffer size
	  of 1/8th of the inter-server link (32K) for said links. [Skotlex]
	* The mapif_send* and charif_send* functions (char/login servers) will now
	  adjust the buffer size when there isn't enough space to write data to them
	  rather than abort sending the data. [Skotlex]
	* Increased inter-server socket buffer size to 256*1024. Should fix problems
	  with 0x3004. [Kayla]
	* Increased inter-server socket buffer size to 192*1024. Should fix problems
	  with 0x2b01. [Kayla]
2006/01/04
	* Fixed buildin_monster not working for random classes (dead branch, etc). [Skotlex]
	* Reverted inter-server socket buffer size to 131072 bytes. [Valaris]
	* Removed reduction of socket buffer sizes after WFIFOSET if the max size 
	  is >= FIFOSIZE_SERVERLINK.  This should reduce inter-server buffer overflows. [Valaris]
	* Script command 'monster' will now fail when trying to spawn a mob-class
	  that is not in the mob_db (warning will be printed on the console) [Skotlex]
	* Fixed a crash when spawning a mob who's class is not in the mob_db. [Skotlex]
	* Some cleanups and improvements to the character saving algorithm meant to
	  make it harder to have dupe exploits during char-map connection lag
	  moments. [Skotlex]
	* Doubled the inter-server link buffer size. [Skotlex]
	* Fixed status_get_adelay messing up the mob's aspd :X [Skotlex]
	* Changed skill_delayfix to use the amotion value as default delay for
	  weapon skills with no delay instead of attack delay (adelay is actually
	  twice your aspd, amotion is the same as aspd) [Skotlex]
	* Added upgrade_svn4783.sql, which corrects the structure of the mapreg
	  table to use varchars as it should. [Skotlex]
	* Fixed Meteor Assault. [Skotlex]
	* Fixed (I hope) the double free'd pointer issue in the login servers. [Skotlex]
2006/01/03
	* Fixed the warp unloading code. [Skotlex]
	* Updated Jump Side Kick to also clear Berserk Pitcher.  [Skotlex]
	* Preserve now protects against the stripping effects of Side Kick. Taekwon
	  Classes (TK/SL/SG) are also immune to it.  [Skotlex]
	* Hopefully fixed the guild information not being sent in some situations
	  when people are added/removed from a guild. [Skotlex]
	* Some cleaning up and bug fixes to the guild module of the char-sql
	  server. Let's see if it fixes anything up... [Skotlex]
	* Added battle option show_party_share_picker. When enabled tells the
	  picker of the item who received the item when in a party with 'Party Share'
	  loot style. [Skotlex]
	* Added the nullpo_retv line required for win32 compiles... [Skotlex]
	* Added some cleanup code to properly remove all warp related information
	  on npc_unload (untested as of yet!) [Skotlex]
2006/01/02
	* Completed (almost) packet 0x1e9 which gives the party info. Now you can
	  see the party's item options when opening the alt+p menu. [Skotlex]
	* Fixed regen only working when overweight. [Valaris]
	* Added body size to clones. [Valaris]
	* Corrected TK_JUMPKICK to remove Soul Linker spirit buffs and related
	  effects (except Berserk-Pitched effect) [Skotlex]
	* Corrected TK_RUN to give +10 dmg bonus to kick skills when not wearing a
	  weapon. [Skotlex]
	* Added Kaina's Enjoyable Rest bonus and Max SP bonus. [Skotlex]
	* Fixed Stone Curse consuming gems while Soul Linked. [Skotlex]
	* Fixed party-change-map packet incorrectly checking if the even share rule
	  was broken (party share should now correctly break on map-change, or when a
	  player has it's level reset) [Skotlex]
	* Corrected the Jump Kick base-level damage bonus when combo-used. [Skotlex]
	* Added the running damage bonus to the TK kicks. [Skotlex]
	* Made the TK kicks end the Soul Linked status on targets. [Skotlex]
	* Corrected Spirit of Wizard to nullify any bounced back spells. [Skotlex]
	* Cleaned up the natural/skill HP/SP regen routines. [Skotlex]
	* Fixed Turn Kick not knocking back nearby enemies. [Skotlex]
	* Added the damage bonus to Flying Side Kick when used from a combo.
	  However I am waiting for the actual equation (currently just does +300%
	  dmg) [Skotlex] 
	* Fixed Counter Kick for ranking Taekwons. [Skotlex] 
	* Added walk slowdown and aspd penalty to Eska. [Skotlex] 
	* Fixed status_get_size which seemed severly broken. [Skotlex] 
	* Fixed Kahai to only display actual amount of HP healed. [Skotlex] 
	* Now when a script's map is not found (or not loaded on the map server)
	  the script engine will skip the whole script instead of just the first
	  line. [Skotlex]
	* Fixed Soul-Linked Dancers not receiving the Bard songs. [Skotlex]
	* Updated Joshuaali's VC-8 project files. [Skotlex]
2006/01/01
	* Some improvements to the login server (txt/sql) to prevent memory 'leaks'
	  from accounts that logged in but where never properly set as logged out.
	  [Skotlex]
	* Fixed mapindex not working for last map loaded in map_index.txt [Skotlex]
	* Added support for packet 0x1e9, party_main_info. Packet is still
	  incomplete and the client is ignoring it currently... [Skotlex]
	* Changing party options now does not alters item party options. [Skotlex]
	* Corrected Kahai healing even when there's not enough SP to do so. [Skotlex]
2005/12/31
	* Fixed the additional effects on normal attacks of Enchant Poison, Enchant
	  Deadly Poison and Kahai not taking effect except when the attacker was a
	  player. [Skotlex]
	* Resurrection now fails on gvg maps (when reviving) [Skotlex]
	* Kaite now works on player-casted spells regardless of level... [Skotlex]
	* Fixed Kahii healing 0 rather than 200*skilllv... [Skotlex]
	* Mobs will now go after the loot as soon as they spot it rather than on
	  their next random-walk time. [Skotlex]
	* Set the 56th byte in packets 7b and 1da. It deals with acceleration in directions.
	  It's just like the final byte in packet 0x87.  Server-side update of this still needs to be figured out. [Valaris]
	* Fixed Kaziel not starting Kyrie Elison upon resurrection. [Skotlex]
	* Fixed Kahai's healing display. [Skotlex]
	* Fixed Kaite bouncing back always one spell. [Skotlex]
	* Fixed and tested @waterlevel. It requires the grfs to be present as the
	  map layout height information is stored there but not in the map data kept
	  in memory. [Skotlex]
2005/12/30
	* Disabled certain packets from taking effect during trades to prevent
	  possible exploits (such as picking and dropping items, buying selling from
	  npcs, etc) [Skotlex]
	* Now you can't move items to/from your inventory to the cart/storage
	  during a trade (this is to prevent possible item dup exploits) [Skotlex]
	* Emergency Recall now only works from within woe grounds... [Skotlex]
	* Removed returns from non-null lines in MOTD. Replaced returns in null lines with a space. [Valaris]
	* Fixed a bug where MOTD wasn't displaying blank returned lines. [Valaris]
	* Updated mapindex so that name lookups ignore extensions, and the loaded
	  maps are always terminated in .gat. Id lookups will always return a string
	  terminated in gat. Purpose? It enables specifying mapnames without the .gat
	  extension, so you can have npcs in prontera, no need for the .gat. And the
	  returned string always has a .gat for needed when it is passed to the
	  client. Now you can safely get rid of the .gat extension in all mapnames. [Skotlex]
	* Fixed the txt-converters so they compile cleanly again. [Skotlex]
	* Added mapflag script support for no loot, no exp, no return, no warp to,
	  nightmare drops (see db/const.txt for names) [Skotlex]
	* Removed an extra } in int_party.c that caused compile errors. [Valaris]
	* Fixed a crash when warp portals passed from passive to active. [Skotlex]
	* Added a missing label (M_0) that was causing people to freeze when viewing the city list from "Miss Yoon" [Zephiris]
2005/12/29
	* Newly created char-SQL guilds will be saved inmediately rather than at
	  their next turn in the cache (may fix those guild disappearing errors)
	  [Skotlex]
	* Implemented a map-index which maps map-names to a unique number, this
	  reduces memory required to store maps as well as the size of related
	  packets between the char/map server. Maps and their indexes are stored in
	  db/map_index.txt, and the index of a map should NEVER change (see file for
	  more details). The index is translated to/from map-names for saving, so
	  save-structures are not required to be modified. [Skotlex]
	- PD: The new mapindex also found a bunch of broken map names in various
	  NPCs, someone will have to go fix them up.
	* Updated the party member structure to hold the char_id. For end users,
	  the most noticable change is that now you can have more than one
	  character from the same account belong to the same party. [Skotlex]
	- TXT users will have to wipe the party files, SQL users use the respective
	  upgrade file (upgrade_svn4726.sql) to generate the new party column.
	* Updated the char-sql server to hold parties in memories until they are no
	  longer needed (like the guild-cache), also optimized the save routine to
	  avoid needless SQL calls. [Skotlex]
	** WARNING: Because of the previous optimizations, a lot of code was changed around
	  the map/char servers, the char-sql's party system got pretty much a
	  rewrite, so some problems are to be expected. Some basic testing with
	  parties over here showed no problems, hence the work is getting commited
	  as it is because it isn't getting any better without further testing. 
	* Set value of the last byte in packet 0x87 (walkok) to 0x88 (10001000).
	  This is a default value in Aegis, and has something to do with animation speed in certain directions.
	  This byte is going to need to be fully analyzed since it does change in Aegis, just that I have
	  been unable to figure out what the conditions are. [Valaris]
	* Mob skills are not even read now if mob skills are disabled in
	  battle_athena. [Skotlex]
2005/12/28
	* Fixed xmas and wedding palette ignore options.  It will also no longer send the dye packet if @dye is used. [Valaris]
	* Some code cleanup meant to fix possible memory leaks regarding
	  parse_script() [Skotlex]
	* Small fix to party-share item pickup which should fix the current item
	  dup exploit. [Skotlex]
	* Merged Reddozen's implementation of Kahai. [Skotlex]
	* Implemented Kaite (it simply changes the target of spell to the caster,
	  so the caster's status changes and defense are the ones considered)
	  [Skotlex]
	* Removed Guilds Glory from guild skill tree, can be enabled with require_glory_guild
	  battle conf switch [Komurka]
	* Cleaned up the implementation of Poison and Deadly Poison. Corrected a bug
	  on Deadly Poison that was KO'ing human players when it triggers under
	  certain circumstances. [Skotlex]
	* Added guild_skill_tree.txt [Komurka]
	- corrected guild skill tree
	* Battle Orders, Regeneration, Restore and Emergency Recall now share their
	  5 minute delay. [Skotlex]]
	* Implemented SC_INTRAVISION [DracoRPG]
	* Reorganized a bit DEF/MDEF calculation code [DracoRPG]
	* Added a small licence notice at the top of every Athena source/header file, I've tried
	  to put it only where it should have been but I'm not a pro ^^ [DracoRPG]
2005/12/27
	* The 50% Weight Icon will now show up at whatever % was specified in
	  natural_heal_weight_rate [Skotlex]
	* Fixed char-txt server crashing if trying to read storage lines with more
	  items than the max (excess items will simply not be read and a warning
	  printed) [Skotlex]
	* Added silent_console config option to the servers to filter out the
	  console output (login_athena, char_athena, map_athena config files). Makes
	  it possible to hide unwanted messages by category, so for example you can
	  remove all info messages, or all warning+notice messages, etc. [Skotlex]
	* Removed unused battle switches enable_upper_class and unit_movement_type. [Skotlex]
	* Reenabled battle switches pet_defense_type, mob_defense_type and
	  mob_remove_damaged. [Skotlex]
	* Applied Irmin's patch to add support for SQL codepages. [Skotlex]
	* Fixed friend list saving if using a custom char table name (SQL version). [Valaris]
	* Added check for mute in main chat [Foruken]
	* Likely fixed lose Hp/Sp script commands when used on accesories. [Skotlex]
	* Added 2 new script commands: getfatherid, getmotherid [Lupus]
	* Fixed compatibility problems with stricter compilers. [Lance]
	* Added joshuali's new VC8 project files and SQL database upgrade script. [Lance]
	* Fixed juicer script typo, eliminating unlimited juicing capability with zero zeny. [Lance]
2005/12/26
	* Added check for free'd guild pointer beforing freeing in guild_save in int_guild.c. [Valaris]
	* Added @kamic command. Now you can send colored GM-messages.
	  Syntax: @kamic <color> <message>. Color is 3-bytes hexadecimal number RRGGBB. [LuzZza]
	* Implemented main chat (global chat channel). Usage: @main <on|off>, @main <message>. [LuzZza]
	* Chasewalk players can now be hit in the same way a Cloaked player could.
	  [Skotlex]
	* Added option mob_npc_event_type, read battle_athena.conf for details.
	  [Skotlex]
2005/12/24
	* Fixed @go, thanks to Persian [Vicious]
	* Updated @go command for new cities, done by Harbin [Vicious]
	* Added root user check and warning to non-Windows compiles. [Valaris]
	* Added a check to remove characters that would normally be left unremoved
	  during shutdown because they just happened to be between maps. [Skotlex]
	* Fixed the production code always giving 1 item instead of the value they
	  should (50/100/200 for Twilight Pharmacy skills) [Skotlex]
	* Corrected easy path searching algorithm failing for some cases (which
	  incidentally seemed to be the reason skill_wall_check was broken) [Skotlex]
	* Fixed compile for TXT map-server. [Valaris]
	* Fixed stone curse's defense being checked versus int rather than mdef. [Skotlex]
	* Fixed firewall treating everyone as undead/fire-element. [Skotlex]
	* Added SQL read of cast_db. [Valaris]
	* Added SQL read of skill_require_db. [Valaris]
	* Added SQL read of skill_db. [Valaris]
	* Added setting use_new_sql_db to inter_athena.conf for development.
	  Do not enable this setting, it will be merged into use_sql_db once all work is finished. [Valaris]
	* Added some work towards sqlizing the rest of the databases. [Valaris]
	* Changed @help2 to #help to display char commands. Cut @help in half
	  @help2 has the other half. [Kayla]
2005/12/23
	* Missed a change in txt login.c for bind_up. [Valaris]
	* Cleanup organization of clif.c and script.c.
	  Please don't put extra functions beyond inits, try and organize a little. [Valaris]
	* Removed login_ip option from login_athena.conf as it is not used. [Valaris]
	* Fixed bind_ip option in login servers. [Valaris]
	* Fixed a bunch of terrible typos in chrif.c [Skotlex]
	* Fixed a terrible typo in the handling of broadcast messages which was
	  causing the map server to send garbage packets to the char server.
	  [Skotlex]
	* Added resistance (int + luk/3) to Stone Curse's equation [Skotlex]
	* Updated sql-files/item_db.sql to current txt version. [Skotlex]
	* Fog of Wall update... Blindess won't affect bosses, blindness ends as
	  soon as you step out (players only) [Skotlex]
	* Implemented the Strip equipment effects on mobs. [Skotlex]
	* Now when Berserk ends, the char's HP goes to 100. [Skotlex]
	* LK's Concentration now gives +50 hit rather than +50% [Skotlex]
	* Inverted the handling of Individual/Shared item pickup rule for parties.
	  [Skotlex]
	* Fixed the item ruling for parties not being correctly read from the save
	  files. [Skotlex]
	* Now Star Gladiator uses 2nd Adv.Class Job EXP table (13th column) [Lupus]
	- In future there could be added the 14th EXP column, specially for Star Gladiator
2005/12/22
	* Begin work on packet optimization .. not done yet [MouseJstr]
	* Finished work on @help/@help2. @help will no longer show # commands. @help2 shows 
	  them instead. [Kayla]
	* Fixed compile warnings in atcommand.c and map.c. Fixed compile error in script.c. [Valaris]
	* wedding_modifydisplay's default is now no (that's how it is on official)
	  [Skotlex]
	* Some cleaning to skill_attack, also added target checking for splash
	  attacks/groundbased skills [Skotlex]
	* Mobs will now stop walking if their target no longer exists (picked up
	  items, for instance) [Skotlex]
	* Modified firewall to cause no damage delay when hitting undead
	  characters. It may fix undead mobs warping when walking through the
	  firewall. [Skotlex]
	* Added script command "clone" for cloning of players. See
	  doc/script_commands.txt for further information. [Skotlex]
	* Added @waterlevel debug command to read/change the current's map
	  water-level (command untested) [Skotlex]
	* Enabled names for forged weapon/created Potions by default [Lupus]
	- Old issues have beed solved long time ago, now items by TOP10 BS/ALCH	gain their TOP10 bonuses
2005/12/21
	* Now left_cardfix_to_right won't take effect when there's no weapon equipped
	  on the right hand. [Skotlex]
	* Updated slave AI to support player masters as well (that is, you could
	  have a non aggressive slave, and it will target any mobs the master
	  targets) [Skotlex]
	* Added battle option skill_wall_check, when enabled, all ground skills
	  will do a check for each cell to guarantee a straight path between the
	  cells and the target tile. Should prevent AOE skills from hitting through
	  walls. Due to the possible performance penalty this setting brings, it
	  defaults to no currently. [Skotlex]
	* Default skill delay for skills with no delay is now the normal attack
	  delay. [Skotlex] 
	* Extremity Fist/Charge Attack will fail if the player can't move to the
	  target. [Skotlex]
	* Prepare kick skills now only fail for Soul Linkers. [Skotlex]
	* Merged in Marquis007's work on SL_SKA/SL_SWOO [Skotlex]
	* All skills except Shield Boomerang get the weapon's refine bonus now.
	  [Skotlex]
	* Taekwon Ready Stances will now fail if you are a Second Job of the
	  Taekwon Tree (SL, SG) [Skotlex]
	* Another fix to item picking for party-share. Hopefully it works alright
	  now (at least I believe it should be dupe-proof now) [Skotlex]
2005/12/20
	* Updated water heights for some maps, thanks to [Lupus]
	- removed p_track02.gat from the maps list. Thanks to Justin84
	* Fixed produce_db items always failing... [Skotlex]
	* Hopefully fixed picking up items on a party-share type of party. [Skotlex]
	* Txt map servers will now send the whole list of online characters at
	  UPDATE_INTERVAL (10 secs) rather than CHECK_INTERVAL (1 hour) so that the
	  online.html file will be correctly updated. [Skotlex]
	* Fixed char_sql and char crash because of buffer overrun. [Lance]
	* Added a flag to tag non-weapon based skills so that they don't get the
	  following bonuses: Star crumb damage, Mastery bonuses, Weapon Refine damage
	  upgrades. Currently applies only to shield skills. [Skotlex]
	* Removed use of castle_id for guilds in char-sql server (use corresponding
	  upgrade_svn* file). TXT servers haven't been touched yet because that
	  would mess up the guild save files. [Skotlex]
	* Online list of characters will be sync'ed every 10 secs for TXT servers.
	  [Skotlex]
	* Merged in Reddozen's work to get Twilight Pharmacy working. [Skotlex]
	- Create Deadly Poison Bottle and Holy Water are now both handled by the
	  item producing code.
2005/12/19
	* Fixed char servers not parsing correctly the online count packet (/who
	  should work fine now) [Skotlex]
	* Fixed the Dodge walking speed bonus to Assassin. [Skotlex]
	* Added the new Garden City Hugel and Kiehl maps. [Valaris]
	* Corrected Kaupe/Kaizel so that you can cast it on self/family when
	  not-linked, and anyone when linked. [Skotlex]
	* Fixed the mob damage log not getting the ID of the attacker registered...
	  [Skotlex]
	* Added a new timer which updates only the count of characters on the
	  current map server to the char server. Update interval is 10 secs.
	  [Skotlex]
	* Updated status_clear_debuffs to clear many other types of ailments
	  (Gospel should be clearing up most negative status changes now) [Skotlex]
	* Fixed exp calc type 0 (dmg/total dmg) being calculated as 0 always. [Skotlex]
	* Implemented the item pickup style for parties. [Skotlex]
	- Party share distributes items in round-robin fashion among players who
	  are in the same map.
	- Pick-up Style shared is needed for anyone to be able to pick up the item
	  bypassing the timers set for first/second/third sd. [Skotlex]
	* Optimized map server's online-listing update timers. [Skotlex]
	* Some updates to the online db in the char/char_sql servers, should help
	  fix some memory leaks due to chars left tagged as 'online' even though
	  that's incorrect. [Skotlex]
	* Added buildin_warpchar script function. Useful for warp one player from
	  another player npc-session. Sytax: warpchar "map.gat",x,y,Char_ID; [LuzZza]
	* Now opening storage will fial if the guild storage is open and viceversa.
	  [Skotlex]
	* Total damage a mob receives is now stored on it's own variable. Damage
	  log implementation clean-up. [Skotlex]
2005/12/18
	* Fixed Close Confine not affecting the caster. [Skotlex]
	* Fixed all skills except Extremity Fist not getting the weapon size
	  modifiers [Skotlex]
	* Fixed Warp Portal checking for noteleport instead of nowarp mapflag
	  (again?) [Skotlex]
	* Fixed baseJob working as baseClass (I hope it works fine now) [Skotlex]
	* Fixed Doridori bonus for Super Novices [Skotlex]
	* Updated new MOTD code so that it can compile on VC. [Valaris]
	* Fixed clone's dyes changing when they attack. [Valaris]
	* Declared pc_read_motd(void) in pc.h for the motd reload command. [Valaris]
	* Added @reloadmotd for reloading the motd.txt into memory. [Valaris]
	* motd.txt will now load into memory at startup instead of being read everytime a player logs in. [Valaris]
	  - motd.txt can now have lines commented with "//" .
	  - MOTD_LINE_SIZE is defined in pc.c, change this to increase maximum amount of lines allowed in motd.txt.
	  - Default motd line maximum is 128.
	* Added a new script function 'setitemscript ItemID,"{ end; }"' [Lupus]
	- Very useful for events that give TEMP item bonuses for short time period 8) A Custom New Year Event NPC's coming soon.
2005/12/17
        * Updated the svn eol-style properties to make merging between
          linux and windows easier when we use more complex branching
          system  [4544: MouseJstr]
2005/12/16
	* left_cardfix_to_right now also moves the ignore race/element defense
	  bonuses (Ice Pick, Weed Killer, etc) [Skotlex]
	* Some fixes to the job_name functions (rearranging inside msg_athena.txt
	  as well) [Skotlex]
	* Left card to right fix will now also apply to defense piercing effects
	  (Ice Pick) [Skotlex]
	* Fixed char-converter being broken for a type mismatch [Foruken]
2005/12/15
	* Fixed clone skills again. This time ground-based skills are working, and
	  support skills have a re-cast delay of half the skill's actual effect. [Skotlex]
	* Fixed clone commands sometimes spawning the clone on a non-walkable tile
	  (which in turn sends the clone to a random map location) [Skotlex]
	* Added debug information to the guild cache. Total number of guilds in the
	  db will be printed now (as long as the save log is active) [Skotlex]
	* Updated SG_HATE to pick the specific class (Select a Monk, and the bonus
	  is against monks only, not Champions/Acolytes/Baby Monks) [Skotlex]
	* Removed hardcoded table names in login_sql/login.c [Foruken]
	* Some cleaning regarding the job tree skill-raising restrictions code.
	  [Skotlex]
	* Optimized/cleaned up the job_name function, job names are now acquired
	  from msg_athena.txt. [Skotlex]
	* Fixed race defense bonus against Boss/Nonboss checking versus the target
	  instead of the attacker (should fix Alice Card) [Skotlex]
	* Some cleaning in clif.c [Skotlex]
2005/12/14
	* Fixed 'dead_branch_active' option. [Skotlex]
	* Optimized use of weather effects, or should I say, no use.
	  Also re-added clif_clearweather to some of the weather effects, when they are turned off. 
	  Why those were removed are beyond me.. [Valaris]
	* Temporarily changed the walk speed during Charge Attack and Extremity
	  Fist to simulate a faster 'zoom' to the target (somewhat untested yet)
	  [Skotlex]
	* Corrected SL_HIGH so that the total of each stat is always 50...
	  [Skotlex]
	* Optimized graffiti display packets (what was I thinking?) [Valaris]
	* Corrected a statement in guild.c (== to =) in nulling out the guild cache. [Valaris]
	* Implemented a mini cache for guilds/parties in the map server. Looking up
	  the same guild/party twice or more should result in instant seek times
	  until a different one is looked up. [Skotlex]
	* Fixed saving account variables [Komurka]
	* Fixed SL_KAIZEL not starting the proper effect. [Skotlex]
	* Merged Reddozen's work of SL_KAUPE [Skotlex]
	* Updated checkweight() script command to return false when the player has
	  inventory full. [Skotlex]
	* Soullink check for SG_FUSION [Komurka]
2005/12/13
	* Fixed @slaveclone not attacking enemies. [Skotlex]
	* Some more cleaning to the clone skills, proper support for Heal,
	  Resurrection, Double Attack, Triple Blows. [Skotlex]
	* Updates/fixes/corrections to battle check target so that mobs with
	  special AI can fight mobs without it even if the mob doesn't has a human
	  master. Also updated it so that mobs with no special AI are all friends by
	  default. [Skotlex]
	* Clone skill fixes, support/self skills are now triggering (never
	  triggered before), adjusted some of the skill usage rates. [Skotlex]
	* Dyes will now work correctly on cloned or mob_avail class monsters.
	  save_clothcolor must be enable in battle_athena.conf. [Valaris]
	* Added carts, falcons and pecos to clone and mob_avail class monster spawns. [Valaris]
	* Likely fixed the @spawn names issue. [Skotlex]
	* Fixed @*clone commands not resolving properly the target char. [Skotlex]
	* Implemented the SL_ROGUE bonus to potions. They heal +100% more rather
	  than 50% (potions from ranking Alchemists, that is) [Skotlex]
	* Merged in Reddozen's work with SL_KAIZEL [Skotlex]
	* Added the check to prevent KA skills from being usable until you are Soul
	  Linked. [Skotlex]
	* Enabled clif_parse_Taekwon (Why was taekwon parsed as clif_parse_Alchemist?) [Vicious]
	* Moved the base attack code into it's own function to properly implement
	  the magnum break's elemental damage bonus (watch out for bugs as the code
	  was proof-read, but that usually doesn't says quite enough when it comes to
	  code). [Skotlex]
	* Merged in Reddozen's work for SL_WIZARD [Skotlex]
	* Updated clone command to allow attaching the clone to the invoking player
	  as a slave. @clone creates a friendly clone that attacks mobs. @slaveclone
	  makes a clone that follows the creator (it's a slave), @evilclone is the
	  stock clone as a mob). Also fixed min/max damage of clones. [Skotlex]
	* Added one extra tile of range to melee mobs in mob_attack, should fix
	  mobs not attacking when they are range+1 tile from you, yet they refuse to
	  move in that final tile. [Skotlex]
	* Corrected mob ai not moving closer to player if there's a distance of 2
	  or less between them (which would do no good if the mob's range is just 1) [Skotlex]
	* Fixed SG_FRIEND - should work now [Komurka]
	* Realtered global_reg value size to 256. [Lance]
	* Adjusted pointers location for packets for new global_reg value (it's wrong + I adjusted the size) to 256 + 32 = 288 [Lance]
	* Improved variable scope for scripts to accept all string variables. [Lance]
	* Altered map, char and login server to correctly use global_reg [Lance]
	* do_sendrecv merges from Freya [Lance]
	 = Requires recheck on packets again to see if I missed any pointer alterations =
	* Improved @evilclone to accept character IDs [Lance]
	* Corrected partywarp/guildwarp to correctly take into account nowarp/nowarpto mapflags. [Skotlex]
	* Added a few custom scripts due to high demand. [Lance]
	* Added monster museum. Adapted from Prometheus. [Lance]
	* Corrected OnTouch to use exname instead of name to prevent conflicts. [Lance]
2005/12/12
	* added manner_system battle conf variable (now you can have PK server without manner system - which is unfinished ;/) [Komurka]
	- some corrections in SI_ data (night uses soullink effect)
	- changed global_reg value from int to char
	  added two new functions (pc_readglobalreg_str and pc_setglobalreg_str)
	  SG_FEEL now saves maps to global_reg
	  I've 'marked' all changes that SHOULD be checked with '//komurka'
	- SG_FUSION hp penalty changed from 2% to 0.5%
	- SG_SUN_COMFORT now increase VIT DEF
	- implemented SG_FRIEND skill - this is the last SG skill - now it's a good time for bug reports :]
	* Updated the max number of ingredients of produce_db to 12. [Skotelx]
	* Updated clone code to also copy the skills from the source player. [Skotlex]
	* Added Reddozen's implementation of SL_SKE and SL_MONK (sp recovery, Combo
	  Finisher splash damage, SP regen while in Fury) [Skotlex]
	* Some reorganization of the Star Gladiator map-based skills. [Skotlex]
	* Fixed @spawn/@monster atcommands 'freezing' server when used. [Skotlex]
	* Fixed ground-based skills having their range-check messed up... [Skotlex]
	* Corrected melee-ranged mobs failing the range check even if they were
	  standing next to you. [Skotlex]
	* Added all duel-commands messages into msg_athena.conf. Commented out
	  code of drawing PVP-circle in duel because it not hiding when player use hide. [LuzZza]
	* Removed @monster2, merged the code of atcommand_spawn/atcommand_monster
	  as suggested by Flaviojs. [Skotlex]
	* Removed some unused entries in msg_athena.txt [Skotlex]
	* When there are unused stack sections (invoked functions and ignored
	   return values) the unused stack section is free'd. This is still notified
	   when the etc_log is active. [Skotlex]
	* Removed the TURBO code from socket.c as requested by MouseJstr. [Skotlex]
	- It was actually slower than the normal code.
	* Updated warp portal and script commands partywarp/guildwarp to take into
	  consideration mapflag nowarp as restriction rather than noteleport.
	  [Skotlex]
	* Applied dontBR's update to his configure script [Kayla]
	* Changed the bonus on Sonic blow.(It was giving 1500% instead of 1600%) [Vicious]
	* Updated gettimetick() to use flag 2 and return System's tick, thanks to
	  Kyoki [Skotlex]
	* Removed the mismatch stack error message caused by scripts where the
	  returning value of a function was ignored. [Skotlex]
	* Corrected the Spirit of Assassin damage bonus of Sonic Blows. [Skotlex]
	* Corrected BSS check versus undead, checking for partners on the Priest's
	  exact left and right, and sending partner's SP to negative. [Skotlex]
	* Another Paladin's Gospel effect ends when you cast it (should fix Gospel
	  in Gospel bugs). Also, now Gospel only blocks usage of items of type 0
	  (healing). [Skotlex]
	* Corrected berserk Pitcher displaying 0 heal. [Skotlex]
	* Added Close Confine's flee bonus. [Skotlex]
	* Corrected Slow Poison. Can be used when not poisoned, will not "pause"
	  poison's timer. [Skotlex]
	* Implemented SG_FUSION skill [Komurka]
	  Don't ask me why in newer exe U see flying ... Santa ... -.-
	* Updated the distance() function definition with one which uses a much
	  better approximation [Skotlex]
	* Updated sql-files/ mob_db.sql & item_db.sql to latest. [Skotlex]
	* Added @autotrade/@at and @away/@aw messages into msg_athena.conf (you can customize them) [Lupus]
	* Updated default hardcoded GMlevel values of some @ATCommands according atcommand_athena.conf [Lupus]
		and removed doubles of some commands, thanks to Rideword
2005/12/11
	* Corrected guild deletion in SQL (both from /breakguild and guild master character deletion). [Valaris]
	* Added @evilclone commands.  Syntax is @evilclone <playername>, [Valaris]
	  It will spawn an aggresive clone of the given player.
	  By default it will use mob id ranges 9001-10000, this range is #defined in mob.h.
	* Fixed VS compile error in mob_clone_spawn. [Valaris]
2005/12/10
	* Added core player cloning code. Just need to create some commands. [Valaris]
	* Redid the @help2 (char commands). [Kayla]
	* Added jobname retrieving script function getJobName. [Lance]
2005/12/09
	* Changed default GM level for @setbattleflag to 99. [Valaris]
	* Implemented the SL_SUPERNOVICE bonus to wear all heagears/various weapons
	  at high base levels. [Skotlex]
	* Implemented SL_ROGUE bonuses: can't be dispelled, Chase Walk's str bonus
	  lasts 10x longer. [Skotlex]
	* OneHand Quicken now dispels aspd potion effects. [Skotlex]
	* Updated SL_STIN/SL_STUN to do miserable damage if the target's size is
	  'incorrect'. [Skotlex]
	* Updated @disguise so the max npc id you can use is 1000 (1001 is already
	  the first mob, Scorpion) [Skotlex]
	* Fixed a possible infinite loop in pc_calc_skilltree when receiving
	  additional skills when Soul Linked. [Skotlex]
	* Added the Taekwon bonus that gives you triple Max HP/SP when you are a
	  top 10 ranker and have base level 90+ [Skotlex]
	* Added support for skill_db pl == -2. These skills don't take the element
	  of the weapon, but will take the element of any enchantment elemental
	  change (so the element used is neutral unless you are enchanted with
	  Fire/Wind/etc) [Skotlex]
	* Coded in SL_STIN, SL_STUN and SL_SMA. [Skotlex]
	* Should have fixed the crash with raw_time in char/char.c [Skotlex]
	* Pressure can now be cast-break. [Skotlex]
	* Likely fixed the client crash when hating a class rather than mob. [Skotlex]
	* Removed @help2, note to self: do not commit at 4 am. Will redo later. [Kayla]
	* Added @help2. @help did not fit in the screen. @help2 currently contains
	  just the char (#) commands. [Kayla]
	* MAPREGSQL disabled (experimental) in VC7. To enable, define MAPREGSQL in preprocessor. [Lance]

2005/12/08
	* Changed default value of start_zeny to 0 to prevent packet exploits.
	  Also is 0z on offical servers. [Kayla]
	* Fixed bug with objects (npcs, monsters, players, etc) not appearing when using @refresh. [Valaris]
	* Updated effects for food production thx to Poki#3 [Komurka]
	* SG_STAR_BLESS now gives 20%*skill lvl additional exp [Komurka]
	* Modified clif_blown to use the clif_slide packet instead of clif_fixpos,
	  as Komurka tested it and it appears to be handled better by current
	  clients. [Skotlex]
	* Added two new battle_athena.conf options:
	  duel_allow_teleport (def: no) and duel_autoleave_when_die (def: yes) [LuzZza]
	* Small fix in allskill [Komurka]
	* Updated Gloria Domini to bypass battle_calc_damage (misc damage
	  reductions) [Skotlex]
	* Fixed a typo in pid.c, thanks to akusarujin [celest]
	* Exploit fix in SG_FEEL [Komurka]
	* Updated TK_MISSION to pick a random mob in the same way a dead branch
	  does. [Skotlex]
	* Corrected SG_DEVIL giving the ASPD bonus below level 50. Only works at
	  max level... [Skotlex]
	* Some cleaning to pc_calc_skilltree. Also updated it so that if you don't
	  use player_skillfree, you can't have ANY skill if you don't have NV_BASIC at
	  9 (only exception are quest skills). [Skotlex]
	* Implemented HT_POWER/Beast Strafing.  [Skotlex]
	- The damage equation is unknown.. for now it's the same as Double Strafe
	  except the skill modifier is +10%*str
	- Currently the Combo is triggered 100% of Double Strafes done on beast
	  monsters.
	* Added Reddozen's work for Hunter's Beast bane spirit bonus. [Skotlex]
	* Corrected the drop delay for mobs when killed by magic to be 500ms (will
	  only work if killed by a player) [Skotlex]
	* Updated SG skills (kRO Patch - 11/29/05) [Komurka]
	* Enabled a few maps needed for the new novice training grounds, sorry I forgot to [MasterOfMuppets]
	* Removed duplicate maps in maps_athena.conf. Thanks for the report Dr. Evil [Kayla]
2005/12/07
	* Pressure will always pull-off now after it has began casting. [Skotlex]
	* Implemented Close Confine. [Skotlex]
	* Change all 0x20e packets (18->26; 22->30) [Komurka]
	  Also added job_name(mob_id) in clif_hate_mob 
	  (but it crashes client when U try to use SG_HATE skill on player ><)
	* Fixed compile error in status.c. Check your work skot <3 [Kayla & MoM]
	* Updated socket.c by adding a lots error reporting for functions that
	  previously were assumed to not fail. May help figure out what's going on
	  with the win32 builds... [Skotlex]
	* Reviewed and cleaned up a bit the latest SG additions from Komurka. [Skotlex]
	- My skill desc says that SG_DEVIL does not makes you blind until you reach
	  max job level, so I implemented that. Report if this is incorrect. 
	- SG_*_WARM skills should be working from what I read there.
	* Modified a bit the TK_MISSION packet, GUESSING where the progress of the
	  current mission should go within said packet... [Skotlex]
	* Implemented TK_MISSION. [Skotlex]
	* Added more SG skills (Comfort, Warmth, Demon, Knowledge) [Komurka]
	All of them should be checked by someone ^^;;
	- SG_xx_WARM for now only shows cool red effect :> There is more code but for now it doesn't work
	* Added new Geffen Field maps [Harbin]
	* Disabled Atcommand Nuke (It was commented, not disabled) [Harbin]
	* Added skip_teleport_lv1_menu option to Battle_Athena. Allows players to cast Teleport level 1 without menu. [Harbin]
	* Merged in Reddozen's current Soul Linker work. [Skotlex]
	- Berserk Pitcher should be working now.
	- Bard/Dancer walk bonus when dancing/singing while soul-linked.
	- Partial work on Twilight Pharmacy.
	- proper skill effect
	* Fixed One Hand quicken doing nothing. [Skotlex]
	* skill_get_name now returns "UNKNOWN_SKILL" instead of null (should fix
	  some crashes when using it on skills with no defined name) [Skotlex]
	* When weapon_delay_attack is enabled, items should drop inmediately after
	  mobs are killed rather than 500ms afterwards. [Skotlex]
	* Added Exception Handling plugin to be used for native Win32 builds [celest]
	  - crashes will be logged in <server type>.stackdump along with file name and line numbers
	  - To activate, enable 'exchndl' in plugin_athena.conf

	  Public Service Message - Crash reports can be VERY VERY helpful, so please enable the
		plugins if you can ('exchndl' for Win32, 'sig' for cygwin and linux) and send in any
		reports you might get! We all want eA to be stable, ne? ^^

	* Some compile error fixes for MinGW, FreeBSD and plugins [celest]
	* Updated Makefile to set platform defines for FreeBSD [celest]
	* Updated Makefile to auto-detect MinGW and include src/mysql [celest]
	* Debug logging flag for logging output messages (only works well with native Win32) :D (Not enabled by default) [Lance]
	* joshuali's new vcproj with debug mode correctly set up. [Lance]
	* Fixed compile errors for Valaris's commit on date.h [Lance]
	* Added updated vcproj for native VC8 win32 for date.h/c support. [Lance]
	* Removed extra returns in date.h. [Lance]
	* Probably fixed warnings in unzip.c [Lance]
2005/12/06
	* Updated item 12132 for the Xmas suit effect in item_db.sql. [Valaris]
	* Implemented Xmas Suit: [Valaris]
		-Added status change state SC_XMAS, and added it to const.txt.
		-Cannot attack or use skills while in the Xmas state.
		-Will save if you logout.
		-"sc_start SC_XMAS,600000,0" added to item 12132 (using item will give you xmas suit for 10 minutes).
		-Added xmas_ignorepalette option to battle_athena.conf.
	* Fixed script error in Garm's Claw item causing an error. [Valaris]
	* Added a missing ; to Skotlex's Previous SG skill editions that caused compile errors. [Valaris]
	* Added JOB_GUNSLINGER(24), JOB_NINJA(25), and JOB_XMAS(26) to map.h enum list and const.txt. [Valaris]
	* Added SC_SCRESIST to const.txt. [Valaris]
	* Applied Komurka's Star Gladiator patch. [Skotlex]
	- The following skills are now working: SG_FEEL, SG_HATE, SG_SUN_ANGER,
	  SG_MOON_ANGER, SG_STAR_ANGER, SG_SUN_BLESS, SG_MOON_BLESS, SG_STAR_BLESS
	- The designated maps cannot be stored currently (cannot save character
	  string variables) and is pending on a script update to enable saving of
	  said type of variables.
	* Added @away command. [LuzZza]
	* Mostly fixed intravision making everyone see hidden/cloacked characters.
	  (the actual option value to see just the player's shadow is currently
	  unknown) [Skotlex]
	* Updated Gospel [Skotlex]
	- It should clear all buffs/debuffs now.
	- Party-mates within range cannot use items.
	* Implemented the SL_BARDDANCER bonus that enables the caster to be buffed
	  by their own song/dance/encore. [Skotlex]
	* Completed Sight Thrasher (the option value is still missing, though.
	  Temporarily uses the one of Sight) [Skotlex]
	* Corrected possible exp exploits in jA's exp calc method. [Skotlex]
	* Corrected Spirit Skills showing up in all class trees. [Skotlex]
	* Invoking @reloadscript now also invokes the OnInit event after loading. [Skotlex]
	* Expanded Item Groups list from 20 to 32 item groups [Lupus]
	* Fixed healing experience bug. Now only healing another players gives experience. [Harbin]
2005/12/05
	* Hopefully fixed gm_all_skill.... [Skotlex]
	* Modified a bit the player attack code to give an extra range cell when
	  the target is moving. [Skotlex]
	* Added skip_teleport_lv1_menu battle_athena option. It give a possibility to
	  disable (skip) Teleport Lv1 menu, that have only two lines `Random` and `Cancel`.
	  Of course, by default this option have `no` (don't skip) value. [LuzZza]
	* Added FD_SETSIZE 4096 predefination to VC++ Project Files. Should fix 60 player limit bug with native compilations. [Harbin]
	* Fixed char crash (I hope) when checking for two parents + baby in a party
	  with more than 3 characters, but from which only 3 were online at a time. [Skotlex]
	* Merged in Reddozen's work on SL_BARDDANCER and cleaned up a bit the
	  Spirit Skills code when calculating the skill tree. [Skotlex]
	* Updated mob ai so that support/aggressive mobs can't 'see' a player until
	  there's a direct line of sight between them. [Skotlex]
	* Updated monster_ai&1 so that when not set mob-chase type is Aegis-like
	  (mobs will not change walk target tiles mid-walk) [Skotlex]
	* Added battle_athena.conf option mobs_level_up_exp_rate to set the extra
	  exp rate a leveled up monsters gives. [Valaris]
	* Added a custom X-Mas quest *Sign Your Items* [Lupus]
	* Applied Harbin's patch to fix Arrow Shower + Traps. Someone test it out.
	  [Skotlex]
	* Another fix to socket.c to enable TURBO mode to work on win32. [Skotlex]
	* Fixed the combo status not ending after using TK_TURNKICK [Skotlex]
	* Overflowed pointer fix in socket.c [Skotlex]
	* Added 'Einbech' into @go command (u have to type at least 5 letters) [Lupus]
	* More detailed error messages for missing '"'s in scripts. [Lance]
2005/12/04
	* Removed mail server switch from battle_athena.conf and added
	  full mail server configuration to inter_athena.conf. [Valaris]
	* Fixed too big VVS damage of TOP10 BS weapons [Lupus]
2005/12/03
	* Fixed up TK Sprint (TK_RUN) skill: [Valaris]
		-Disabled movement during skill use.
		-Correct moves player server-side.
		-Stops without sp use if skill is used during running.
		-Server will not save status if player logs out.
	* Some cleaning of socket.c to see if TURBO will now work on Windows, it
	  may also fix the select() problems on that platform as well. [Skotlex]
	* Fixex "gm_skill_all" crashing the server from generating huge packets (or
	  so I hope) [Skotlex]
2005/12/02
	* Gave the Spirit Status Change a custom effect for now. [Skotlex]
	* Merged in Reddozen's work for SL_HIGH (Spirit of Rebirth) [Skotlex]
	* The Bonus skills acquired from being Soul Linked should now show up in
	  the skill tree. [Skotlex]
	* Merged Reddozen's work of One-Hand Quicken and Adrenaline Rush 2. [Skotlex]
	* Fixed Axe-Kick never triggering. [Skotlex]
	* Slaves walk once again. [Skotlex]
	* enable_items now also enables equipment stuff. [Skotlex]
	* The attack motion in packets for ground-based skills is now 0 (it may
	  help somewhat with current firewall issues). [Skotlex]
	* Added char-server option "save_log", when disabled, the char server will
	  stop printing info messages whenever something is loaded/saved. [Skotlex]
	* Disabled random-walking for slaves [Skotlex]
	* Added script commands enable_items/disable_items [Skotlex]
	* Likely fixed the mob-skill target type "master" [Skotlex]
	* Added target type "master" to the mobskill_db [Skotlex]
	* Modified NPC_RUN to allow the caster to run away from the target [Skotlex]
	* Implemented SL_SAGE (Soul Linker Sage buff for auto-cast bolts) [Skotlex]
	* Updated char-sql guild saving so that instead of saving ALL guilds when
	  the time comes, the save interval is splitted on time-slots (based on guild
	  count in memory) and a guild is saved per time-slot (just like the map
	  server saves characters). [Skotlex]
	* Fixed client crashes with using baby and advanced player classes as pets. [Valaris]
	* Added missing ban_hack_trade option to battle_athena.conf. [Valaris]
	* Hopefully fixed Counter Kick. [Skotlex]
	* Uncommented and corrected the Soul Linker Monk buff (SP cost reduction
	  for monk combos) [Skotlex]
	* Added a check in skills so that skills that are used on yourself, but had
	  it's target auto-selected cannot be used on non-enemies if it's nk is
	  different from 1 (1 = No damage skill) [Skotlex]
	* Various cleanups to the char-sql server to prevent corner-case crashes
	  from queries that return no rows. [Skotlex]
	* Massive Taekwon Boy skills related code cleanup. [Skotlex]
	- Flying Side kick and Turn Kick should be fully working now, too.
	* Cleaned up and reorganized the SC_ data listing. Added sc's for food
	  related bonuses: SC_HITFood, SC_FLEEFood, SC_BAtkFood, SC_WAtkFood,
	  SC_MAtkFood. [Skotlex]
	- Some of the saved sc data will be wrong, so wipe the table/file if you
	  want to play it safe.
	* Some corrects in duel code. [LuzZza]
	* Sonic Blow and Shield Boomerang's after cast delay is now properly
	  adjusted by the Soul Link skills. [Skotlex]
	* Party even share will be now broken after a base level reset. [Skotlex]
	* Merged in Reddozen's Soul Linker current skills work. [Skotlex]
	* Added countitem2(itemID,....) script function. [Lupus]
	* Added axtoi script function that converts hex strings to integers. [Lance]
	* Fixed incorrect time (that leads to crashes) in login server. [Lance]
2005/12/01
	* Moved KN_CHARGEATK code to merge it with Extremity Fist. Skill damage
	  modifier is currently set to +15% per cell (need actual value here) [Skotlex]
	* Fixed client crash when logging in with Baby Knights and Crusaders riding Pecos. [Valaris]
	* Implemented Ki Explosion. [Skotlex]
	* Fixed client crashes with using baby and advanced player classes as monsters. [Valaris]
	  Make sure to use Item ID for weapons and shields in mob_avail.txt for player monsters and not View ID.
	  Updated Valaris and MC Cameri mobs in item_avail.txt to use Item IDs.
	* Fixed cutting Castle Name (was 14 instead of 24) [Lupus]
	* Corrected Grimtooth counting a short-range skill when it's actually
	  ranged. [Skotlex]
	* Corrected Venom Splasher's splash range, and the splash damage is now
	  divided by number of targets (sort of, skill % dmg is adjusted according
	  number of targets) [Skotlex]
	* Tarot Card of Fate won't break equipment now if equip_skill_break_rate is
	  0. [Skotlex]
	* Improvements and optimizations to the online db management in the char
	  txt/sql servers. [Skotlex]
	* Updated the guild cache (char sql) to have it load/unload characters
	  whenever they are updated in the char online_db (previously they were only
	  updated on normal char-select/char-quit when there were more cases where a
	  char is set online/offline) [Skotlex]
	* Now when the guild is not found in the cache it will be loaded from the
	  sql db first before failing. [Skotlex]
	* Fixed equip_skill_break_rate equation being messed up for Acid Demonstration. [Skotlex]
	* Fixed Aura Blade adding damage to Spiral Pierce (it shouldn't) [Skotlex]
	* Script function getnameditem now sets flag 254 (created) instead of 255 (forged) [Lupus]
	  To prevent ADDITIONAL Blacksmith FAME TOP10 bonuses, applied to signed but not forged weapons
		e.g. You have a custom quest for rare weapons. You tag items with players name (using getnameditem command).
		if a TOP10 BS get an Infiltrator.. then it used to give extra atk bonus 8)
2005/11/30
	* Updated item_db.sql to latest. [Skotlex]
	* Updated mob_db.sql to latest. [Skotlex]
	* Updated Gospel to force the removal of the ground-effect when the status
	  change ends. [Skotlex]
	* Made Snatch/Intimidate work on Guild maps (I have read around this is how
	  it is) [Skotlex]
	* Added the auction maps to maps_athena.conf [MasterOfMuppets]
	* When players are hit while moving, they should now move one last cell
	  in the same direction they were walking when interrupted. [Skotlex]
	* Walk delay won't be applied now unless the attack deals damage... [Skotlex]
	* Major reorganization of player variables and bonuses. If something broke,
	  report it up. Otherwise, struct map_session_data should look quite a bit
	  more clean now. [Skotlex]
	* Fixed duel bug when you can't cast some skills on yourself. [LuzZza]
	* Fixed (I think) pets losing the "rename flag" when you sent them back to
	  egg. [Skotlex]
	* Added a index check in the equip packet, should fix crashes from invalid
	  packets. [Skotlex]
	* Fixed a horrible bug that was making the walk delay not work for sure x.x
	  [Skotlex]
2005/11/29
	* Fixed race exp bonuses. [Skotlex]
	* Fixed ## account variable saving disconnecting the char-login servers. [Skotlex]
	* Updated the way multi-hit skills add overrefine/star crumb/spirit sphere
	  damage so that the total bonus is multiplied by the total number of this.
	  [Skotlex]
	* Fixed the config variables being "lost" on startup. [Skotlex]
	* Fixed Restore requiring Regeneration lv2 [Skotlex]
	* Fixed the spirit sphere bonus not applying to Throw Spirit Sphere. [Skotlex]
	* Rewrote and cleaned up duel code. Formed independent duel_xxx functions.
	  I suggest to place this functions in duel.c/duel.h. New features: [LuzZza]
	  - Now when you in duel, you can't attack anything out of your duel
	    (mobs, other players etc...);
	  - Now you can't take part in duel more often than it set in battle_athena.
	    Default delay is 60 minutes.
	  - New battle_athena.conf options: duel_allow_pvp - allow/disallow duel
	    on pvp-maps; duel_allow_gvg - allow/disallow duel on gvg-maps;
	    duel_time_interval - delay between using duel in minutes.
	* Updated damage formula for Spiral Pierce. [Skotlex]
	* Fixed speed change being lost when speed is increased/decreased while
	  walking with Free-cast. [Skotlex]
	* Fixed pets being renameable after turning them back into eggs. [Skotlex]
	* Reverted the guild data position in the mob/npc packets, should restore
	  the emblems in flags. [Skotlex]
	* Corrected battle_check_target Guild checks returning true for non-guild,
	  party'ed characters and viceversa. [Skotlex]
2005/11/28
	* Added dontBR's experimental configure script. It's still in alpha stage,
	  so use with caution! [Skotlex]
	* Fixed a pair of exp exploits possible with to Rich Man Kim and
	  race-add-exp card bonuses. [Skotlex]
	* Updated behaviour of skillrange_from_weapon. If set, those skills with
	  negative range use the weapon's range. If not set, then the skill range
	  used is the absolute value of the range specified in the skill_db. [Skotlex]
	* Small cleanup of the color broadcast packet using data provided by Master
	  of Muppets. It should hopefully fix the font-size on said colored messages.
	  [Skotlex]
	* Fixed the setting of the guild id and guild emblem in packets 0x7b and
	  0x78 for mobs/npcs (this is assuming the position is correct when filling
	  these same packets for players) [Skotlex]
	* Added battle_config option skillrange_from_weapon which, when set, allows
	  weapon based, target-selected, offensive skills to take the equipped
	  weapon's range instead of the range defined in the skill_db. [Skotlex]
	* WARNING/ACHTUNG! Update all your NPCs ASAP. Massive NPC fix's out. [Lupus]
	* Updated monster_ai&8 so that mobs scatter as soon as they lose their
	  target. Use this setting for an effective counter measure to Grimtooth
	  mass-mob training. [Skotlex]
	* Added pc_damage_walk_delay_rate to separate the walk delay adjustment of
	  players from that of mobs. The adjustment for players is 20% while for mobs
	  is 100%, pending further adjustments. [Skotlex]
	* Added the weapon upgrade damage bonus of Spiral Pierce [Skotlex]
	* Removed the mob_stop_walking code from mob_damage as it should be invoked
	  on battle_walkdelay (the mob walk delay issue will likely need it's own
	  config option) [Skotlex]
	* Added joshuali's new Visual Studio files. [Lance]
	* Novice Warp Portal fixes from jAthena. [Lance]
	* Final warning elimination in plugins.c (most of them are gone with warning level set to 1). [Lance]
	* Fixed typo in msg_athena.conf and 'users with autoloot turned on will not have their rare drops announced.'. Thanks to Kaseki.
	* Mob should stop walking when hit if not enduring. Thanks to Playtester. [Lance]
	* Included pcre.dll and libmysql.dll from joshuali. [Lance]
	* Eliminated Level 3 warnings. Setting compile warnings to Level 3. (Level 4 just kills eAthena XD) [Lance]
2005/11/27
	* Fixed an overflow pointer bug in the gvg eliminate timer. [Skotlex]
	* Updated the damage code if Spiral Pierce, Shield Chain and Shield
	  boomerang to be closer to official. [Skotlex]
	* Fixed a crash when setting all chars offline in the char-sql server. Also
	  fixed that delete_timer mismatch on shutdown [Skotlex]
	* Autospells now won't trigger if the range between the source and the
	  target is not satisfied. [Skotlex]
2005/11/26
	* Added bonus2 bAddSkillBlown for adding a custom knockback value to a
	  skill. Note that this knockback bonus is ADDED to whatever the default
	  knockback of the skill is. [Skotlex]
	* Fixed Soul Linker skills showing up on the tree for leveling up. [Skotlex]
	* Probably fixed the crash in inter_guild_CharOffline [Skotlex]
	* Modified the skill get range routine to correctly account for the attack
	  range and the AC_VULTURE range bonus where needed. [Skotlex]
	* Fixed alchemists Fame Points bug: It were giving 1 fame point [Lupus]
		on making 4 Condensed Potions in row, instead of 3, etc. Now tested ^_-
	* Some restructuring and cleaning up in map loading to make it easier for
	  future plans (like removing Grfio) [celest]
	  - split map loading into separate sources properly
	  - added map server will display a list of enabled map sources on startup
	  - added maps will be auto-imported into the map cache if it's loaded with
	    AFM, AF2, or any other source
	  The server looks for maps in this descending order: the map cache, AFM maps,
	  AF2 maps, and finally GAT files from the GRF (slowest); so, if you enable map
	  caching it should be a liiiittle bit faster then before ^^
2005/11/25
	* Uploaded fixes to int_guild, tested and working safely. [Kevin]
	* Added @showzeny @ command. [Skotlex]
	* Some code cleanup to make AutoBerserk work the way it was intended to
	  (skill toggles "auto-berserk" state on/off, if on, you automatically get
	  Provoked when under 25%HP) [Skotlex]
	* Fixed Auto-Berserk auto-ending after a minute. [Skotlex]
	* Added a fix to mob skills to prevent them from being checked too
	  frequently during battle (which was sort of bumping up their rate to double
	  or more from what the skill db would state) [Skotlex]
	* Added cleaning up the fifo before sending the guild information (since
	  the packet is big, the fifo should be cleared to avoid overflow problems)
	  [Skotlex]
	* Added monster_ai&8, when set monsters stop walking as soon as they lose
	  their current target [Skotlex]
	* Reflect Sword again reflects damage versus players. [Skotlex]
	* Corrections to the skill code so only Heaven's Drive may damage traps. [Skotlex]
	* Reverted the mob random walk delay after unlocking a target to 3~6 secs. [Skotlex]
	* Added pow, sqrt and distance to scripting commands. [Lance]
	* Removed players with 0 Fame Points from Blacksmith/Alchem/Taekwon TOP10 lists [Lupus]
	* Should fix night glowing bug. [Lance]
	* Added setd and getd variable retrieving and setting with dynamic names. [Lance]
	* Added petstat command as requested by Dubby. [Lance]
2005/11/24
	* Fixed a small bug in the guild search by name routine. Should fix the
	  crash on new guild creation. [Skotlex]
	* Added debug information in case the guild isn't found in the cache when
	  it should be there. This should help fix any problems the guild cache
	  might have (eg: for some function that may take effect on a guild which
	  has no members online) [Skotlex]
	* Finished cleaning up and merging the guild cache withthe guild timers
	  behaviour. It should be mostly safe to update now. [Skotlex]
	* Reverted the sql save behaviour. [Skotlex]
	- Now guilds timers and cache are both into effect, this requires a bit
	  more of cleaning to be considered done.
	* Various things I made but already forgot xD [DracoRPG]
	* Fixed and updated damage bonus for forged weapons: VVVS is +40 (was previously +50
	  for the right hand...) and "famous maker bonus" gives a no-miss +10 dmg, same as
	  2 additional Star Crumbs. [DracoRPG]
	* Added or updated several Taekwon skills [DracoRPG]
	  - Jump Kick uses clif_slide to the target's exact pos , waiting for capture/video
	  - Taekwon ranking is now supported by the fame system, but there's no way to gain
	    points atm (Taekwon Mission has no effect), infinite kick combo should be OK
	  - 4 basic kicks updated, you now stop attacking when a stance triggers, and have 2
	    seconds to hit the button before attacking again
	  - Run uses SC_SPORT to increase your STR and affect the way Break Fall works
	  - Break Fall dodges ranged magic/weapon attacks, as well as melee weapon ones
	    when SC_SPORT is active
	* Made Sword Reject / Counter Instinct reflect damage only against monsters (not
	  100% sure about it, but let's say 90%... iRO site says it, although it isn't
	  the best source ever) [DracoRPG]
	* Made Spiral Pierce use SC_STOP instead of setting canwalk_tick, some other such things
	  need to be reviewed [DracoRPG]
	* Fixed Pneuma. [Skotlex]
	* Fixed dead mobs reappearing on the map. [Skotlex]
	* Cleaned up the duel code in battle_check_target. [Skotlex]
	* Added config option summons_inherit_effects, defaults to yes, check
	  battle_athena.conf for further details. [Skotlex]
	* Updated duel [LuzZza]
	- Now "@duel <Num>" may be used for indication max players limit of duel.
	- Now "@duel <Nick>" creating duel for two players and automatically send invitation to Nick.
	* Added a new script function: getequipcardid(equipSlot,CardSlot) [Lupus]
		Returns Card ID or just a value from your EQUIPPED item
		Useful to check equipped items PROPERTY, STRONG value, Author ID, etc
		Check npc\sample\getequipcardid.txt and read script.c comment ^_-
2005/11/23
	* Fixed the crash on guild creation in new guild cache. [Kevin]
	* Implemented duel organizing commands: @duel, @invite, @accept, @reject, @leave. [LuzZza]
	* Made the walk-delay a timer, so that it triggers after the actual attack
	  motion of the src. [Skotlex]
	* Added back the combo damage delay config, now renamed to
	  multihit_delay, and set to the default of 230ms it had before. [Skotlex]
	* Added displaying file which caused an error on incorrect mob lines.
	  [Skotlex]
	* Small memory corrections to sql castle saving/loading, mostly Lance's
	  work. [Skotlex]
	* Updated the walk delay routine to not invoke stop-walking when character
	  is not walking (fixes the case in which the packet is sent while sitting,
	  which causes a 'standing' sprite even if the char is sitting). [Skotlex]
2005/11/22
	* Implemented a guild cache in char sql, saves all online guilds every 5 minutes. [Kevin]
	* More grammar fixes [Kayla]
	* Added 1-tile of range grace in skill_use_id and skill_use_pos since
	  that's how it is on Aegis servers. [Skotlex]
	* Updated the skill info packets to deliver the skill names as expected by
	  the client. [Skotlex]
	* Updated mob ai to enable changing targets while attacking ONLY if the
	  attacker is within melee range (Aegis AI). monster_ai&4 can be used to
	  override this and allow mobs to change target and pursue ranged attackers.
	  [Skotlex]
	* Updated the config comments for the ip-related settings. Thanks to
	  akusarujin for the update. [Skotlex]
	* Added rates to at_command.conf, set it's default to GM lv1 [Skotlex]
	* Removed the icon from Fire Break's fire-elemental bonus. [Skotlex]
	* Updated the walkdelay function to only be invoked if the attack did
	  damage. [Skotlex]
	* Some more fixes to the english in ShowInfo()'s [Kayla]
	* Cleaned out the SVN a bit [Kayla]
2005/11/21
	* Removed "(now unlimited loop start!)" from char-sql in an info line...wtf xD..[Kayla]
	* Mob AI update: updated the conditions used to specify if a mob can change
	  targets as per the forum provided information (by Komurka and Kyoki).
	  Mode 512 (MD_CHANGETARGET) no longer does anything. [Skotlex]
	* Mobs that assist now link nearby mobs when they attack. [Skotlex]
	* Made the damage delay be applied after knockback rather than before
	  (magical/misc instant effect attacks are still applied before the
	  knockback) [Skotlex]
	* The damage delay timer now stores the distance between source/target, if
	  this distance is increased by 2 or more, the damage delay fails and takes
	  no effect (if the '2' needs to be made higher, do point it out. It
	  shouldn't be much of a problem since you aren't supposed to be able to walk
	  from the damage delay anyway). [Skotlex]
	* Changed the way damage delay works. It is no longer applied on
	  mob_damage/pc_damage, but instead is invoked from clif_damage (or
	  clif_skill_damage), which means the "can't walk" delay is sync'ed with the
	  damage packets when they are sent. This should fix most delay-damage
	  'stun-lock' related issues. [Skotlex]
2005/11/20
	* Mobs now can't move while casting. [Skotlex]
	* Updated mob_db.txt and mob_db.sql with the most recent data from Kyoki.
	  [Skotlex]
	* Corrected the mob_db by adding the canmove/canattack bits to pretty much
	  all mobs that needed them. [Skotlex]
	* Some fixes to the confusion code. [Skotlex]
	* Crash-fix in status_change_start [Skotlex]
	* Implemented confusion as it should be (not tested yet!) [Skotlex]
	* Updated run_script to backup the current script of a player and
	  restore it if the current script ends inmediately. This should fix losing
	  the script info if status_calc_pc is invoked while running a script.
	  [Skotlex]
	* Fixed a memory leak in the guild eliminate timer. [Skotlex]
	* Removed the extra tile of range mobs have when walking. [Skotlex]
	* Added mob reloading to battleconfig reload @ command. [Skotlex]
	* Updated mob_db.sql with the new modes by Kyoki. [Skotlex]
2005/11/19
	* Made characters stop walking when inflicted by SC_STOP, may fix
	  GrimTooth's stop effect not seeming to take effect. [Skotlex]
	* Made the pk_min_level config not take effect in WoE/GvG grounds.
	  [Skotlex]
	* Fixed showing falcon when player is hide. [LuzZza]
	* Updated mob_db.sql and item_db.sql to current [Skotlex]
	* Updated the skill db step guessing code to allow for negative ranges (Now
	  spear boomerang should progressively get longer range with higher levels)
	  [Skotlex]
	* Fixed Tarot Card, the card that gets two random effects can't retrigger
	  itself, and it causes STOP instead of Stun where appropiate. [Skotlex]
	* Updated devotion to only work on damage attacks that have a source (will
	  prevent it from "blocking" COMA, which is what caused the crash). [Skotlex]
	* Fixed not always showing CRIT attacks, thanks to Irmin [Lupus]
2005/11/18
	* Updated mob_ai so aggressive mobs change target when chasing, and
	  change-target mobs do so when attacking. [Skotlex]
	* Fixed weapon forging showing success even when it fails. [Skotlex]
	* Some cleaning up of @time, may fix the weird time displays. [Skotlex]
	* Modified mob_ai so hyper-active mobs change target if they are
	  cast-sensors even if attacking (angry mode). They will also change target
	  if attacked while in angry/follow mode regardless of their change-target
	  mode. [Skotlex]
	* Moved the night-inducing code from "map loaded ack" to "spawn pc", should
	  fix characters going ultra-blue after stuff like fly-wings. [Skotlex]
	* Delayed the mob emotion when doing skills so that it gets executed AFTER
	  the skill is successfully performed. [Skotlex]
	* Implemented PR_REDEMPTIO. Is the penalty for both base and job exp?
	  That's how it is currently. And if the map has the nopenalty flag,there's
	  no exp penalty. Awaiting further input on the matter (altough, do note the
	  skill isn't tested either) [Skotlex]
	* Fixed three memory issues (char txt shutdown, npc reloading, ore
	  discovery logs) which were pointed out by End of Exam. [Skotlex]
	* Added support for hyper-active mobs (MD_CHANGECHASE = 0x400), these mobs
	  will change to the closest target while chasing/following other players.
	  Needs be added to the mob_db. [Skotlex]
	* Added support for hyper-aggressive mobs (MD_BERSERK = 0x800), these mobs
	  change their skill state to angry/follow instead of attack/chase when they
	  select/change target (except if they changed target because the new target
	  attacked them). Needs be added to the mob_db, for now all aggressive mobs
	  are considered hyper as well. [Skotlex]
	* Updated mob mode cast-sensor (MD_CASTSENSOR = 0x010), mobs that are
	  Aggressive can also change target if they are chasing/following a player
	  when someone else casts a skill on them. [Skotlex]
	* Fixed Dark Blessing. [Skotlex]
	* Changed the default battle_delay_damage value from no to yes. [Skotlex]
	* Added check to prevent reinitiating SC_GOSPEL on a character that already
	  has GOSPEL and val4 == BCT_SELF, may fix multiple Gospels being placed on
	  the ground. [Skotlex]
2005/11/17
	* Altered behaviour of NPC_EMOTION/NPC_EMOTION_ON as requested by Komurka.
	  [Skotlex]
	- val[0] (the first one) is the emotion the mob does. If val[1] is
	  different from 0, then the mob's mode is changed to THIS value. If val[2]
	  is different from zero, it'll add/remove a mode based on skill used
	  (EMOTION_ON adds mode, EMOTION removes it), both can stack [Skotlex]
	* Fixed for sure the Makefile... [Skotlex]
	* Modified Wedding effects. That is, changing base to 22 does NOT displays
	  wedding outfit anymore. To display the wedding outfits, you have to start
	  SC_WEDDING instead. Tux/Wedding dress scripts likely need being updated.
	  [Skotlex]
	* Added battle option disp_zeny, will display on console how much zeny you
	  earned (be it from selling, trading, mobs, etc, as long as you "earned"
	  zeny) [Skotlex]
	* Updated status_calc_pc to prevent infinite recursion loops. [Skotlex]
	* Applied End of Exam's suggested signedness fixes to npc.c [Skotlex]
	* Updated sting lib, to avoid SQL troubles [Lupus]
	* Fixed moonlit not properly checking for nearby walls. [Skotlex]
	* Added a recursion protection system to status_calc_pc which should avoid
	  exploits derived from recursively calling status_calc_pc which certain
	  equipment scripts could trigger. Thanks to End of Exam for pointing it out.
	  [Skotlex]
	* Applied Celest's patch which should help compiling eA under mingwin.
	  [Skotlex]
2005/11/16
	* Fixed AFM map loading (something was missing there which was gonna make
	  the map server crash for sure later on) [Skotlex]
	* Some corrections to the mob states, linked/cast-sensitive mobs engage in
	  attach/chase modes, not angry/follow (which seem reserved entirely for
	  aggressive mobs) [Skotlex]
	* Cleaned up and corrected target types MSS_AROUND->MSS_AROUND8, also added
	  and documented them in mob_skill_db.txt [Skotlex]
	* Probably corrected whispers to GMs. Thanks to Slennox for pointing it
	  out. [Skotlex]
	* Modified mob-skill states to use Aegis-based information. Modes are
	  MSS_IDLE, MSS_WALK, MSS_LOOT, MSS_DEAD, MSS_BERSERK, MSS_ANGRY, MSS_RUSH
	  and MSS_FOLLOW. Mob skill db is unaltered other than for the fact it now
	  supports "angry" and "follow" states. [Skotlex]
	* Cleanup of how knockback routines are invoked. [Skotlex]
	* Added MOB_LAZYSKILLPERC to mob.c, determines probability of a mob doing a
	  skill when there are no players nearby (but there has to be players in the
	  same map for it to trigger). Currently set to 10/1000 chance. [Skotlex]
	* battle_check_target update. Rewrote the party/guild checks, this should
	  hopefully fix any problems left with pvp/gvg and mapflags not working
	  properly. [Skotlex]
	* Fixed playerattached() returning char id instead of account id. [Skotlex]
	* Added battle option party_even_share_bonus to enable use of Valaris's evn
	  share experience bonus equation rather than the official one. [Skotlex]
	* Corrected @jump not displaying the actual coords you jumped to. Thanks to
	  kitty74x9 for noticing (and fixing) it out. [Skotlex]
2005/11/15
	* Fixed multi-hitting skills not increasing the "can-walk" delay
	  accordingly. [Skotlex]
	* Modified way to updating hp/position of party members. [LuzZza]
	* Added battle config option "aura_lv", specifies which level characters
	  have to be for the server to report their level as "max_lv" (which normally
	  is used to enable the aura). See battle_athena.conf for more details. It
	  may not work for your self, but only for other characters (this is,
	  afterall, untested yet) [Skotlex]
	* Implemented High Jump (works 100%) and Fighting Chant (untested but should work). [DracoRPG]
	* Various cleanups and typo fixes here and there. [DracoRPG]
	* Corrected the upkeep SP cost of Moonlight Petals. [Skotlex]
	* Modified Magnum Break's fire bonus to be 20% ADDITIONAL fire damage of
	  your total damage previous to the elemental modifier. [Skotlex]
	* Modified Fatal Blow's stun chance to kRO's equation (+5% stun chance per
	  bash skill level over 5) [Skotlex]
	* Corrected Sharpshooting's damage equation to +50%*skill_lv [Skotlex]
	* Updated Magnum Break's bonus from 10% to 20% fire elemental. [Skotlex]
	* Updated Arrow Shower to be a ground based skill (untested yet) [Skotlex]
	* Pretty much rewrote how Moonlight Petals work, it should be working
	  mostly right now. [Skotlex]
	* Splitted gat map information into gat and cell info. gat info is
	  permanent map data (walls, ground, etc) while cell is temp map info
	  (basilica, pneuma, etc). Modified Pneuma and Moonlight Petals to work based
	  on map cells. [Skotlex]
2005/11/14
	* New Visual Studio projects, compiling works, need zlib.dll for txt server. [Kevin]
	* Longing for Freedom can't be used during Moonlight Petals now. [Skotlex]
	* Corrected True Sight's critical bonus (from +0.1 cri per level to +1 cri
	  per level) [Skotlex]
	* Made coma a status effect. SC_COMA. Sets HP/SP to 1. Bosses/Emperium are
	  immune to it. [Skotlex]
	* Fixed null pointer crash in battle_damage. [Skotlex]
	* Increased max account variables to 32. [Skotlex]
	* Pressure/Gloria Domini now isn't instant-cancelled by status effects, and
	  bypasses the Devotion/Sacrifice check. [Skotlex]
	* Added handling of the /pk packet, even thought it just shows an empty
	  listing for now. [Skotlex]
	* Applied zBuffer's suggested fix to prevent S. Novices from getting mental
	  Strength at 100% exp. [Skotlex]
	* Fixed Friends List not able to add more than 20 friends (current clients support up to 40) [Lupus]
	  thanks to CAHTEXNIK for pointing it out 8)
2005/11/12
	* Probably fixed the name of freshly captured pet eggs. [Skotlex]
	* Changes Win32 to not require svnversion.h, but instead tries to peek in
	  .svn\entries to check for svn version. If the file doesn't exist it'll
	  display "Unknown" though, which I guess isn't a good thing ^^; [celest]
	* Removed the option to load zlib as a plugin for Win32 since it should be
	  linked at compile time [celest]
	* Added zlib and libmysql .lib files for compiling in Visual Studio [celest]
	  Note: The project files on SVN don't have them yet, you'll need to include
		them yourself for now
	* Fixed a compile error in Visual Studio [celest]
	* Readded a missing zlib file needed by Win32, sorry ^^; [celest]
2005/11/11
	* New readme content/layout (IE warning: IE hates new readme) [Evera]
	* Imported use of the refine weapon packets from jA. [Skotlex]
	* Removed SC_MODE, now NPC_EMOTION and NPC_EMOTION_ON can change a mob's
	  mode permanently (until their death, that is), and it won't work on
	  player summoned mobs. As before, val1 is the emotion value, val2 is the
	  mode to add/remove. Val3 is now ignored (used to be duration) [Skotlex]
	  (no, no need to wipe SC data this time around either)
	* Cleaned up sql-files to use TYPE rather than ENGINE as TYPE is supported
	  by older MySQL versions and not quite deprecated yet. [Skotlex]
	* Modified the party even share exp bonus to be +10% per extra party member
	  as official sources state. [Skotlex]
	* Organized the clif_devotion packet, and added clif_marionette as per
	  jA's implementation. [Skotlex]
	* Added db_path to map_athena.conf, used to specify an alternate directory
	  to locate the db/ files. Defaults to "db", obviously. [Skotlex]
	* Removed SC_FALCON and SC_RIDING, the status icons are directly managed
	  through the change of the character's option now. The actual defines were
	  not removed to avoid shifting all the SC_ values again (no need to wipe sc
	  data) [Skotlex]
	* Added additional debug information to battle_attr_fix until the cause of
	  those errors are found and resolved. [Skotlex]
	* Fixed win32 compiles always reporting "unable to set socket to
	  non-blocking mode", together with other minor win32 fixes. [Skotlex]
2005/11/10
	* Fixed char-sql cart loading. [Skotlex]
	* Updated the function that specifies the cards to support more than four
	  slots. [Skotlex]
	- Since the packets are fixed sized the client can never receive data of
	  more than four cards, therefore if the client was compiled with MAX_SLOTS
	  above 4, a random subset of cards will be sent each time the item data is
	  sent (eg: if the item has 6 slots, it may randomly choose to send cards
	  1->4, 2->5, or 3->6).
	* Removed the OnAgitInit call when the map connects to char server. Fixes
	  double guardian spawn. [Skotlex]
	* Fixed the sql query strings that would appear "incomplete" under certain
	  *nix systems. [Skotlex]
	* Applied zBuffer's patches to correct memory leaks in the PCRE module
	  (regular expression support for npcs) and prevent server crashing when
	  scripts divide (or do mod %) by zero. [Skotlex
2005/11/09
	* Fixed Ankle Snare and Spider Web not being cleared when the trapped
	  target dies. [Skotlex]
	* Fixed the range flag being incorrectly set in BF_MISC skill attacks.
	  [Skotlex]
	* Corrected Venom Knife using Level1 always for the poisoning chance rather
	  than learned Envenom's level. [Skotlex]
	* Fixed the crash on shutdown if PCRE support was enabled. [Skotlex]
	* Fixed possible item duping while vending, thanks to End of Exam for
	  pointing it out. [Skotlex]
	* Fixed the blue aura of Night effect. Thanks to zBuffer [Skotlex]
	* Fixed mobs moving one tile when hit even if they can't move (this is what
	  broke Ankle Snare) [Skotlex]
	* Fixed night/day implementation (which broke due to the addition of SI_
	  constants). [Skotlex]
	* Cleaned up the SI_ constants to have defined only those which actually
	  display something on the client. [Skotlex]
	* Fixed a bug which caused a captured pet's name to be displayed as beloved
	  even though it was just captured. [Skotlex]
	* Added temp skill quests for all complete 2nd Class Quest Skills [Lupus]
2005/11/08
	* Updated the documentation on the announce script commands. [Skotlex]
	* Removed the global color message support as there's now a way to craft
	  custom colored announces. [Skotlex]
	* Probably fixed mapannounce. [Skotlex]
	* Implemented SI_ constants to specify the icon number for different SC_
	  changes, idea adopted from jAthena. All SC_ data was reorganized and
	  several checks are now in place. It is likely all saved sc_data is wrong
	  after this update due to the numbers changing places. It won't cause any
	  glue-boots.. but the wrong status changes will be loaded the first time
	  anyway, so it may be a good idea to wipe that file/table for this update.
	  [Skotlex]
	* Added mob boss inmunity to status changes: poison, curse, deadly poison.
	  [Skotlex]
	* Now when the mob starts casting a skill and stops walking, a packet will
	  be sent to update the mob position on the clients. [Skotlex]
	* Fixed a bug in mob_stop_walking which may fix stun-lock. [Skotlex]
	* Fixed not showing named/carded items in Vending [Lupus]
	  (when you drag'n'drop them from your cart into your shop list)
2005/11/07
	* Expanded script commands announce/mapannounce/mapareaannounce to take an
	  additional parameter to define the color. This uses the new packet 0x1c3 to
	  send the broadcast, and even though the packet is not fully understood yet,
	  it should be at the point where it can be used. [Skotlex]
	- eg: "announce "hello world", bc_map, 0xFFFF00;"
	* Cleaned up and optimized the way card data is set in packets. Should
	  correct most, if not all, pet-egg related issues. [Skotlex]
	* Removed combo_damage_delay and added damage_walk_delay_rate. Now the total
	  delay during which you can't move is a percent of the normal damage delay
	  rate adjusted by number of hits and this rate. Defaults to 50% for now. [Skotlex]
	* Removed the random damage delay value from status_get_dmotion as it is
	  not really helping the walk-stun-lock. [Skotlex]
	* Made Gravitation ignore target's cards. [Skotlex]
	* Updated readme with new layout [Evera]
	* Updated bAddMonsterDropItem bonuses to work with cards: Mimic Card, Mystcase Card
	  where bonus_item_rate = base_rate * (killed_mob_level/10) + 1
  	  So if 2nd argument is negative, then it's 'rate'
  	  Now, if you kill Porings, u'd have OBB/GIFT BOX drops with 0.01% chance
	  and if u kill Leaf Cats then u'd have them with 0.05% chance
	  Max chance is 0.1% (when u kill MVPs with level > 94) [Lupus]
2005/11/06
	* Cleaned up a bit the warp portal code. [Skotlex]
	* Added a timer to invoke the OnAgitInit event 10 seconds after the char/map
	  servers are connected. Scripts should now carefully use OnInit to load the
	  castle data, and OnAgitInit to check for castle owners, mobs, WoE, etc.
	  [Skotlex]
	* Reverted the  damage delay equation to 800 -4*agi, which is the correct
	  data from packets examined. [Skotlex]	
	* Slow motion Fix: Reverted weight packet, thanks to Momoko [Lupus]
2005/11/05
	* Fixes on sending to client status of char (guild, position, etc). [LuzZza]
	* Updated backsliding to work as it should. [Skotlex]
	* Added back the GPL licence on the root directory (why was this removed?)
	  [Skotlex]
	* Fixed knock-back packets, thanks to Vicious for collecting the packet
	  samples. [Skotlex]
	* Fixed pretty much all ground skills not working when you "walked into
	  them" (they were fine if casted on top of you, though) [Skotlex]
	* Fixed not working ZENY LOG. You can use logging filter as well. [Lupus]
		- Only SQL logs available.
		- Logs only Vending, Trade, Shops yet
		- Don't forget to update your logs SQL DB and log_athena.conf
	* Added previously removed (by an accident) "MVP Prize item log" into pick_log [Lupus]
2005/11/04
	* Added support for new quest skills to @allskills/@skillall. Thanks again to blackhole89 for 
	  pointing that out! [Kayla]
	* Fixed various occurencies of assuming Guild Skills being >= ID 10000 
	  rather than 500<skill<1000 still after skill_chk. Thanks blackhole89! [Kayla]
	* Hopefully fixed Weapon Refine. [Skotlex]
	* Applied a change which prevents pc_setpos from working for characters
	  between maps, as doing so makes the character appear on a different
	  position on the client than the position stored in the server. [Skotlex]
	* Added friend_db option to inter_athena.conf, now friend table is
	  usable in multi server and/or custom db configs. [Foruken]
2005/11/03
	* Corrected the basilica check which should disable casting offensive
	  skills from within inside the basilica. [Skotlex]
	* Modifed status_change_end to prevent peco-peco/falcon from ending until
	  the player's 'falcon/peco option' value is removed first. [Skotlex]
	* Removed the knockback code for players and changed it for a "fix
	  position" code. The new code is not right as it makes your character
	  "teleport" to the position rather than walk really fast to it, but it fixes
	  the "Do not use bot!" messages. [Skotlex]
	  (someone has to log the actual packets used when being knocked/knocking
	  back for this to really be fixed)
	* Heaven Drive now can target traps. [Skotlex]
	  (I find it impossible to target a trap with Arrow Shower unless the
	  skill's info is set to 32 -target traps-, but when it's done so, the
	  client refuses to use the skill on enemies, and mode 33 makes the skill
	  useless. How does one makes this work?)
	* Various cleanups to the skill system. [Skotlex]
	* Update: Now your cast cancels on recieving status change such as:
	  Stun, Stone Curse, Freeze or Sleep [LuzZza]
	* Updated the code to allow the Emperium to be inflicted by Pneuma and
	  Safety Wall. [Skotlex]
	* Updated @recallall to revive any dead characters before moving them,
	  should fix that weird ghost bug. [Skotlex]
2005/11/02
	* Made Spell breaker not be able to cancel Pressure/Gloria domini [Skotlex]
	* Another fix/optimization to thenight/day system. [Skotlex]
	* Fixed possibility of freezing / stunning already frozen/stunned players
	- Now you can't freeze an already frozen one [Lupus]
	* Fixed non-GMs allowing send trade requests from far places [Lupus]
	* Fix of lowest_gm_level (inter_athena), now logins with access under
	  lowest_gm_level overides gm_can_drop_lv. [Kayla]
	* Spell Breaker now works on any skill with a cast time. [Skotlex]
	* Made Dispell not work on Meltdown and Cart Boost [Skotlex]
	* Made Meltdown not dispellable upon death. [Skotlex]
	* Probably fixed Warp Portal [Skotlex]
	* Fixed players being able to mute others even if their gm level is not
	  high enough to use @mute [Skotlex]
	* Fixed Dispell not clearing a lot of status changes it should. [Skotlex]
	* Corrected the way the Emperium skill-defense works. Damage skills other
	  than Gloria Domini, Raging Trifecta and Gravitation do no damage. Status
	  changing skills have no effect, and normal heal heals for 0. [Skotlex]
	* Some more corrections to the night/day system. [Skotlex]
	* Multiple fixes to the skill system. Should fix Warp Portal, Teleport and
	  mob skills crashing the server. [Skotlex]
	* Updated sql-files/item_db.sql with the latest. [Skotlex]
	* Some optimizations to the script config events loading/storing/saving.
	  (Somehow it fixes the warning from the memory manager on shutdown...)
	  [Skotlex]
2005/11/01
	* Updated battle_check_target to allow ground skills that affect "Everyone"
	  to affect the emperium, only the ones that target only enemies will have no
	  effect. [Skotlex]
	* Changed the default of mob_max_skilllv from 11 to 100, as many of the
	  recent mobs use higher level skills. [Skotlex]
	* Moved the check which made emperiums receive 0 damage to: [Skotlex]
	- status_check_skilluse, so that all targetted skills fail.
	- battle_check_target, so that all ground-based offensive skills fail.
	* Cleaned up a bit the skill related code. [Skotlex]
	* Updated @ commands. NO command comes at gm-level 0 by default now, that's how
	  it should be, the new default minimum is 1 for most trivial @ commands. Also added
	  a bunch of commands to conf/atcommand.conf which were missing. I STRONGLY
	  recommend everyone to at least fetch the new atcommand file as there
	  were abusable commands at level 0 (abusable in the sense they can incur
	  performance penalties if over-used by everyone) [Skotlex]
	* Fixed crash when a mob was killed while under Rich Man Kim effect by a
	  non-player, also fixes Rich Man Kim not giving the correct exp bonus.
	  [Skotlex]
	* Modified the socket subsystem to not close all connections on an "Service
	  Temporarily Unavailable" error (it is a non-fatal error which basicly means
	  "try again later").  [Skotlex]
